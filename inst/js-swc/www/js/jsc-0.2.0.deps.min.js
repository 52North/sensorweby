(function(h){h.color={};h.color.make=function(g,c,b,f){var a={};a.r=g||0;a.g=c||0;a.b=b||0;a.a=null!=f?f:1;a.add=function(b,e){for(var l=0;l<b.length;++l)a[b.charAt(l)]+=e;return a.normalize()};a.scale=function(b,e){for(var l=0;l<b.length;++l)a[b.charAt(l)]*=e;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,d,c){return d<a?a:d>c?c:d}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),255);
a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return h.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};h.color.extract=function(g,c){var b;do{b=g.css(c).toLowerCase();if(""!=b&&"transparent"!=b)break;g=g.parent()}while(g.length&&!h.nodeName(g.get(0),"body"));"rgba(0, 0, 0, 0)"==b&&(b="transparent");return h.color.parse(b)};h.color.parse=function(m){var c,b=h.color.make;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(m))return b(parseInt(c[1],
10),parseInt(c[2],10),parseInt(c[3],10));if(c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return b(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseFloat(c[4]));if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(m))return b(2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3]));if(c=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(m))return b(2.55*
parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3]),parseFloat(c[4]));if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(m))return b(parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16));if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(m))return b(parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16));m=h.trim(m).toLowerCase();if("transparent"==m)return b(255,255,255,0);c=g[m]||[0,0,0];return b(c[0],c[1],c[2])};var g={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(h){function g(b,c){var a=c.children("."+b)[0];if(null==a&&(a=document.createElement("canvas"),a.className=b,h(a).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!a.getContext))if(window.G_vmlCanvasManager)a=window.G_vmlCanvasManager.initElement(a);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
a;a=this.context=a.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);this.resize(c.width(),c.height());this.textContainer=null;this.text={};this._textCache={}}function m(b,c,a,d){function e(a,b){b=[F].concat(b);for(var d=0;d<a.length;++d)a[d].apply(this,b)}function l(a){for(var b=[],d=0;d<a.length;++d){var e=h.extend(!0,{},n.series);null!=a[d].data?
(e.data=a[d].data,delete a[d].data,h.extend(!0,e,a[d]),a[d].data=e.data):e.data=a[d];b.push(e)}G=b;d=G.length;b=-1;for(a=0;a<G.length;++a)e=G[a].color,null!=e&&(d--,"number"==typeof e&&e>b&&(b=e));d<=b&&(d=b+1);var b=[],l=n.colors,c=l.length,f=0;for(a=0;a<d;a++)e=h.color.parse(l[a%c]||"#666"),0==a%c&&a&&(f=0<=f?0.5>f?-f-0.2:0:-f),b[a]=e.scale("rgb",1+f);for(a=d=0;a<G.length;++a){e=G[a];null==e.color?(e.color=b[d].toString(),++d):"number"==typeof e.color&&(e.color=b[e.color].toString());if(null==e.lines.show){var q,
l=!0;for(q in e)if(e[q]&&e[q].show){l=!1;break}l&&(e.lines.show=!0)}null==e.lines.zero&&(e.lines.zero=!!e.lines.fill);e.xaxis=m(N,k(e,"x"));e.yaxis=m(J,k(e,"y"))}y()}function k(a,b){var d=a[b+"axis"];"object"==typeof d&&(d=d.n);"number"!=typeof d&&(d=1);return d}function q(){return h.grep(N.concat(J),function(a){return a})}function r(a){var b={},d,e;for(d=0;d<N.length;++d)(e=N[d])&&e.used&&(b["x"+e.n]=e.c2p(a.left));for(d=0;d<J.length;++d)(e=J[d])&&e.used&&(b["y"+e.n]=e.c2p(a.top));void 0!==b.x1&&
(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function m(a,b){a[b-1]||(a[b-1]={n:b,direction:a==N?"x":"y",options:h.extend(!0,{},a==N?n.xaxis:n.yaxis)});return a[b-1]}function y(){function a(b,d,e){d<b.datamin&&d!=-l&&(b.datamin=d);e>b.datamax&&e!=l&&(b.datamax=e)}var b=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,l=Number.MAX_VALUE,c,k,f,g,p,r,n,m,v,K,s,E;h.each(q(),function(a,e){e.datamin=b;e.datamax=d;e.used=!1});for(c=0;c<G.length;++c)p=G[c],p.datapoints={points:[]},e(z.processRawData,
[p,p.data,p.datapoints]);for(c=0;c<G.length;++c){p=G[c];s=p.data;E=p.datapoints.format;if(!E){E=[];E.push({x:!0,number:!0,required:!0});E.push({y:!0,number:!0,required:!0});if(p.bars.show||p.lines.show&&p.lines.fill)E.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(p.bars.show&&p.bars.zero||p.lines.show&&p.lines.zero)}),p.bars.horizontal&&(delete E[E.length-1].y,E[E.length-1].x=!0);p.datapoints.format=E}if(null==p.datapoints.pointsize){p.datapoints.pointsize=E.length;n=p.datapoints.pointsize;
r=p.datapoints.points;var y=p.lines.show&&p.lines.steps;p.xaxis.used=p.yaxis.used=!0;for(k=f=0;k<s.length;++k,f+=n){K=s[k];var t=null==K;if(!t)for(g=0;g<n;++g){m=K[g];if(v=E[g])v.number&&null!=m&&(m=+m,isNaN(m)?m=null:Infinity==m?m=l:-Infinity==m&&(m=-l)),null==m&&(v.required&&(t=!0),null!=v.defaultValue&&(m=v.defaultValue));r[f+g]=m}if(t)for(g=0;g<n;++g)m=r[f+g],null!=m&&(v=E[g],!1!==v.autoscale&&(v.x&&a(p.xaxis,m,m),v.y&&a(p.yaxis,m,m))),r[f+g]=null;else if(y&&0<f&&null!=r[f-n]&&r[f-n]!=r[f]&&r[f-
n+1]!=r[f+1]){for(g=0;g<n;++g)r[f+n+g]=r[f+g];r[f+1]=r[f-n+1];f+=n}}}}for(c=0;c<G.length;++c)p=G[c],e(z.processDatapoints,[p,p.datapoints]);for(c=0;c<G.length;++c){p=G[c];r=p.datapoints.points;n=p.datapoints.pointsize;E=p.datapoints.format;K=f=b;y=s=d;for(k=0;k<r.length;k+=n)if(null!=r[k])for(g=0;g<n;++g)m=r[k+g],(v=E[g])&&!1!==v.autoscale&&m!=l&&m!=-l&&(v.x&&(m<f&&(f=m),m>s&&(s=m)),v.y&&(m<K&&(K=m),m>y&&(y=m)));if(p.bars.show){switch(p.bars.align){case "left":k=0;break;case "right":k=-p.bars.barWidth;
break;default:k=-p.bars.barWidth/2}p.bars.horizontal?(K+=k,y+=k+p.bars.barWidth):(f+=k,s+=k+p.bars.barWidth)}a(p.xaxis,f,s);a(p.yaxis,K,y)}h.each(q(),function(a,e){e.datamin==b&&(e.datamin=null);e.datamax==d&&(e.datamax=null)})}function H(){w&&clearTimeout(w);K.unbind("mousemove",ia);K.unbind("mouseleave",ja);K.unbind("click",da);e(z.shutdown,[K])}function A(a){function b(a){return a}var d,e,l=a.options.transform||b,c=a.options.inverseTransform;"x"==a.direction?(d=a.scale=C/Math.abs(l(a.max)-l(a.min)),
e=Math.min(l(a.max),l(a.min))):(d=a.scale=P/Math.abs(l(a.max)-l(a.min)),d=-d,e=Math.max(l(a.max),l(a.min)));a.p2c=l==b?function(a){return(a-e)*d}:function(a){return(l(a)-e)*d};a.c2p=c?function(a){return c(e+a/d)}:function(a){return e+a/d}}function I(a){var b=a.labelWidth,d=a.labelHeight,e=a.options.position,l="x"===a.direction,c=a.options.tickLength,k=n.grid.axisMargin,f=n.grid.labelMargin,q=!0,g=!0,p=!0,r=!1;h.each(l?N:J,function(b,d){d&&d.reserveSpace&&(d===a?r=!0:d.options.position===e&&(r?g=!1:
q=!1),r||(p=!1))});g&&(k=0);null==c&&(c=p?"full":5);isNaN(+c)||(f+=+c);l?(d+=f,"bottom"==e?(s.bottom+=d+k,a.box={top:x.height-s.bottom,height:d}):(a.box={top:s.top+k,height:d},s.top+=d+k)):(b+=f,"left"==e?(a.box={left:s.left+k,width:b},s.left+=b+k):(s.right+=b+k,a.box={left:x.width-s.right,width:b}));a.position=e;a.tickLength=c;a.box.padding=f;a.innermost=q}function O(){var a=n.grid.minBorderMargin,b;if(null==a)for(b=a=0;b<G.length;++b)a=Math.max(a,2*(G[b].points.radius+G[b].points.lineWidth/2));
var d=a,e=a,l=a,c=a;h.each(q(),function(a,b){if(b.reserveSpace&&b.ticks&&b.ticks.length){var k=b.ticks[b.ticks.length-1];"x"===b.direction?(d=Math.max(d,b.labelWidth/2),k.v<=b.max&&(e=Math.max(e,b.labelWidth/2))):(c=Math.max(c,b.labelHeight/2),k.v<=b.max&&(l=Math.max(l,b.labelHeight/2)))}});s.left=Math.ceil(Math.max(d,s.left));s.right=Math.ceil(Math.max(e,s.right));s.top=Math.ceil(Math.max(l,s.top));s.bottom=Math.ceil(Math.max(c,s.bottom))}function S(){var a,b=q(),d=n.grid.show;for(a in s){var l=
n.grid.margin||0;s[a]="number"==typeof l?l:l[a]||0}e(z.processOffset,[s]);for(a in s)s[a]="object"==typeof n.grid.borderWidth?s[a]+(d?n.grid.borderWidth[a]:0):s[a]+(d?n.grid.borderWidth:0);h.each(b,function(a,b){b.show=b.options.show;null==b.show&&(b.show=b.used);b.reserveSpace=b.show||b.options.reserveSpace;var d=b.options,e=+(null!=d.min?d.min:b.datamin),l=+(null!=d.max?d.max:b.datamax),c=l-e;if(0==c){if(c=0==l?1:0.01,null==d.min&&(e-=c),null==d.max||null!=d.min)l+=c}else{var k=d.autoscaleMargin;
null!=k&&(null==d.min&&(e-=c*k,0>e&&null!=b.datamin&&0<=b.datamin&&(e=0)),null==d.max&&(l+=c*k,0<l&&null!=b.datamax&&0>=b.datamax&&(l=0)))}b.min=e;b.max=l});if(d){l=h.grep(b,function(a){return a.reserveSpace});h.each(l,function(a,b){D(b);var d=b.options.ticks,e=[];null==d||"number"==typeof d&&0<d?e=b.tickGenerator(b):d&&(e=h.isFunction(d)?d(b):d);var l;b.ticks=[];for(d=0;d<e.length;++d){var c=null,k=e[d];"object"==typeof k?(l=+k[0],1<k.length&&(c=k[1])):l=+k;null==c&&(c=b.tickFormatter(l,b));isNaN(l)||
b.ticks.push({v:l,label:c})}e=b.ticks;b.options.autoscaleMargin&&0<e.length&&(null==b.options.min&&(b.min=Math.min(b.min,e[0].v)),null==b.options.max&&1<e.length&&(b.max=Math.max(b.max,e[e.length-1].v)));e=b.options;d=b.ticks||[];l=e.labelWidth||0;for(var c=e.additionalWidth||0,k=e.labelHeight||0,f=l||("x"==b.direction?Math.floor(x.width/(d.length||1)):null),q="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),g=e.font||"flot-tick-label tickLabel",
p=0;p<d.length;++p){var X=d[p];X.label&&(X=x.getTextInfo(q,X.label,g,null,f),l=Math.max(l,X.width+("y"==b.direction?c:0)),k=Math.max(k,X.height))}b.labelWidth=e.labelWidth||l;b.labelHeight=e.labelHeight||k});for(a=l.length-1;0<=a;--a)I(l[a]);O();h.each(l,function(a,b){"x"==b.direction?(b.box.left=s.left-b.labelWidth/2,b.box.width=x.width-s.left-s.right+b.labelWidth):(b.box.top=s.top-b.labelHeight/2,b.box.height=x.height-s.bottom-s.top+b.labelHeight)})}C=x.width-s.left-s.right;P=x.height-s.bottom-
s.top;h.each(b,function(a,b){A(b)});d&&aa();fa()}function D(a){var b=a.options,d;d="number"==typeof b.ticks&&0<b.ticks?b.ticks:0.3*Math.sqrt("x"==a.direction?x.width:x.height);d=(a.max-a.min)/d;var e=-Math.floor(Math.log(d)/Math.LN10),l=b.tickDecimals;null!=l&&e>l&&(e=l);var c=Math.pow(10,-e),k=d/c,f;1.5>k?f=1:3>k?(f=2,2.25<k&&(null==l||e+1<=l)&&(f=2.5,++e)):f=7.5>k?5:10;f*=c;null!=b.minTickSize&&f<b.minTickSize&&(f=b.minTickSize);a.delta=d;a.tickDecimals=Math.max(0,null!=l?l:e);a.tickSize=b.tickSize||
f;if("time"==b.mode&&!a.tickGenerator)throw Error("Time mode requires the flot.time plugin.");a.tickGenerator||(a.tickGenerator=function(a){var b=[],d=a.tickSize*Math.floor(a.min/a.tickSize),e=0,l=Number.NaN,c;do c=l,l=d+e*a.tickSize,b.push(l),++e;while(l<a.max&&l!=c);return b},a.tickFormatter=function(a,b){var d=b.tickDecimals?Math.pow(10,b.tickDecimals):1,e=""+Math.round(a*d)/d;if(null!=b.tickDecimals){var l=e.indexOf("."),l=-1==l?0:e.length-l-1;if(l<b.tickDecimals)return(l?e:e+".")+(""+d).substr(1,
b.tickDecimals-l)}return e});h.isFunction(b.tickFormatter)&&(a.tickFormatter=function(a,d){return""+b.tickFormatter(a,d)});if(null!=b.alignTicksWithAxis){var q=("x"==a.direction?N:J)[b.alignTicksWithAxis-1];q&&q.used&&q!=a&&(d=a.tickGenerator(a),0<d.length&&(null==b.min&&(a.min=Math.min(a.min,d[0])),null==b.max&&1<d.length&&(a.max=Math.max(a.max,d[d.length-1]))),a.tickGenerator=function(a){var b=[],d,e;for(e=0;e<q.ticks.length;++e)d=(q.ticks[e].v-q.min)/(q.max-q.min),d=a.min+d*(a.max-a.min),b.push(d);
return b},a.mode||null!=b.tickDecimals||(d=Math.max(0,-Math.floor(Math.log(a.delta)/Math.LN10)+1),e=a.tickGenerator(a),1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(d))||(a.tickDecimals=d)))}}function t(){x.clear();e(z.drawBackground,[p]);var a=n.grid;a.show&&a.backgroundColor&&(p.save(),p.translate(s.left,s.top),p.fillStyle=V(n.grid.backgroundColor,P,0,"rgba(255, 255, 255, 0)"),p.fillRect(0,0,C,P),p.restore());a.show&&!a.aboveData&&U();for(var b=0;b<G.length;++b){e(z.drawSeries,[p,G[b]]);var d=G[b];
d.lines.show&&W(d);d.bars.show&&Y(d);d.points.show&&ka(d)}e(z.draw,[p]);a.show&&a.aboveData&&U();x.render();Z()}function Q(a,b){for(var d,e,l,c,k=q(),f=0;f<k.length;++f)if(d=k[f],d.direction==b&&(c=b+d.n+"axis",a[c]||1!=d.n||(c=b+"axis"),a[c])){e=a[c].from;l=a[c].to;break}a[c]||(d="x"==b?N[0]:J[0],e=a[b+"1"],l=a[b+"2"]);null!=e&&null!=l&&e>l&&(c=e,e=l,l=c);return{from:e,to:l,axis:d}}function U(){var a,b,d;p.save();p.translate(s.left,s.top);if(d=n.grid.markings)for(h.isFunction(d)&&(b=F.getAxes(),
b.xmin=b.xaxis.min,b.xmax=b.xaxis.max,b.ymin=b.yaxis.min,b.ymax=b.yaxis.max,d=d(b)),a=0;a<d.length;++a){b=d[a];var e=Q(b,"x"),l=Q(b,"y");null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);null==l.from&&(l.from=l.axis.min);null==l.to&&(l.to=l.axis.max);e.to<e.axis.min||e.from>e.axis.max||l.to<l.axis.min||l.from>l.axis.max||(e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),e.from==e.to&&l.from==l.to)||(e.from=
e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),l.from=l.axis.p2c(l.from),l.to=l.axis.p2c(l.to),e.from==e.to||l.from==l.to?(p.beginPath(),p.strokeStyle=b.color||n.grid.markingsColor,p.lineWidth=b.lineWidth||n.grid.markingsLineWidth,p.moveTo(e.from,l.from),p.lineTo(e.to,l.to),p.stroke()):(p.fillStyle=b.color||n.grid.markingsColor,p.fillRect(e.from,l.to,e.to-e.from,l.from-l.to)))}b=q();d=n.grid.borderWidth;for(e=0;e<b.length;++e){l=b[e];a=l.box;var c=l.tickLength,k,f,g,r;if(l.show&&0!=l.ticks.length){p.lineWidth=
1;"x"==l.direction?(k=0,f="full"==c?"top"==l.position?0:P:a.top-s.top+("top"==l.position?a.height:0)):(f=0,k="full"==c?"left"==l.position?0:C:a.left-s.left+("left"==l.position?a.width:0));l.innermost||(p.strokeStyle=l.options.color,p.beginPath(),g=r=0,"x"==l.direction?g=C+1:r=P+1,1==p.lineWidth&&("x"==l.direction?f=Math.floor(f)+0.5:k=Math.floor(k)+0.5),p.moveTo(k,f),p.lineTo(k+g,f+r),p.stroke());p.strokeStyle=l.options.tickColor;p.beginPath();for(a=0;a<l.ticks.length;++a){var m=l.ticks[a].v;g=r=
0;isNaN(m)||m<l.min||m>l.max||"full"==c&&("object"==typeof d&&0<d[l.position]||0<d)&&(m==l.min||m==l.max)||("x"==l.direction?(k=l.p2c(m),r="full"==c?-P:c,"top"==l.position&&(r=-r)):(f=l.p2c(m),g="full"==c?-C:c,"left"==l.position&&(g=-g)),1==p.lineWidth&&("x"==l.direction?k=Math.floor(k)+0.5:f=Math.floor(f)+0.5),p.moveTo(k,f),p.lineTo(k+g,f+r))}p.stroke()}}d&&(a=n.grid.borderColor,"object"==typeof d||"object"==typeof a?("object"!==typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!==typeof a&&
(a={top:a,right:a,bottom:a,left:a}),0<d.top&&(p.strokeStyle=a.top,p.lineWidth=d.top,p.beginPath(),p.moveTo(0-d.left,0-d.top/2),p.lineTo(C,0-d.top/2),p.stroke()),0<d.right&&(p.strokeStyle=a.right,p.lineWidth=d.right,p.beginPath(),p.moveTo(C+d.right/2,0-d.top),p.lineTo(C+d.right/2,P),p.stroke()),0<d.bottom&&(p.strokeStyle=a.bottom,p.lineWidth=d.bottom,p.beginPath(),p.moveTo(C+d.right,P+d.bottom/2),p.lineTo(0,P+d.bottom/2),p.stroke()),0<d.left&&(p.strokeStyle=a.left,p.lineWidth=d.left,p.beginPath(),
p.moveTo(0-d.left/2,P+d.bottom),p.lineTo(0-d.left/2,0),p.stroke())):(p.lineWidth=d,p.strokeStyle=n.grid.borderColor,p.strokeRect(-d/2,-d/2,C+d,P+d)));p.restore()}function aa(){h.each(q(),function(a,b){var d=b.box,e="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),l=b.options.font||"flot-tick-label tickLabel",c,k,f,h,q;x.removeText(e);if(b.show&&0!=b.ticks.length)for(var g=0;g<b.ticks.length;++g)c=b.ticks[g],!c.label||c.v<b.min||c.v>b.max||("x"==
b.direction?(h="center",k=s.left+b.p2c(c.v),"bottom"==b.position?f=d.top+d.padding:(f=d.top+d.height-d.padding,q="bottom")):(q="middle",f=s.top+b.p2c(c.v),"left"==b.position?(k=d.left+d.width-d.padding,h="right"):k=d.left+d.padding),x.addText(e,k,f,c.label,l,null,null,h,q))})}function W(a){function b(a,d,e,l,c){var k=a.points;a=a.pointsize;var f=null,h=null;p.beginPath();for(var q=a;q<k.length;q+=a){var g=k[q-a],r=k[q-a+1],m=k[q],n=k[q+1];if(null!=g&&null!=m){if(r<=n&&r<c.min){if(n<c.min)continue;
g=(c.min-r)/(n-r)*(m-g)+g;r=c.min}else if(n<=r&&n<c.min){if(r<c.min)continue;m=(c.min-r)/(n-r)*(m-g)+g;n=c.min}if(r>=n&&r>c.max){if(n>c.max)continue;g=(c.max-r)/(n-r)*(m-g)+g;r=c.max}else if(n>=r&&n>c.max){if(r>c.max)continue;m=(c.max-r)/(n-r)*(m-g)+g;n=c.max}if(g<=m&&g<l.min){if(m<l.min)continue;r=(l.min-g)/(m-g)*(n-r)+r;g=l.min}else if(m<=g&&m<l.min){if(g<l.min)continue;n=(l.min-g)/(m-g)*(n-r)+r;m=l.min}if(g>=m&&g>l.max){if(m>l.max)continue;r=(l.max-g)/(m-g)*(n-r)+r;g=l.max}else if(m>=g&&m>l.max){if(g>
l.max)continue;n=(l.max-g)/(m-g)*(n-r)+r;m=l.max}g==f&&r==h||p.moveTo(l.p2c(g)+d,c.p2c(r)+e);f=m;h=n;p.lineTo(l.p2c(m)+d,c.p2c(n)+e)}}p.stroke()}function d(a,b,e){var l=a.points;a=a.pointsize;for(var c=Math.min(Math.max(0,e.min),e.max),k=0,f=!1,g=1,q=0,h=0;!(0<a&&k>l.length+a);){var k=k+a,r=l[k-a],m=l[k-a+g],n=l[k],v=l[k+g];if(f){if(0<a&&null!=r&&null==n){h=k;a=-a;g=2;continue}if(0>a&&k==q+a){p.fill();f=!1;a=-a;g=1;k=q=h+a;continue}}if(null!=r&&null!=n){if(r<=n&&r<b.min){if(n<b.min)continue;m=(b.min-
r)/(n-r)*(v-m)+m;r=b.min}else if(n<=r&&n<b.min){if(r<b.min)continue;v=(b.min-r)/(n-r)*(v-m)+m;n=b.min}if(r>=n&&r>b.max){if(n>b.max)continue;m=(b.max-r)/(n-r)*(v-m)+m;r=b.max}else if(n>=r&&n>b.max){if(r>b.max)continue;v=(b.max-r)/(n-r)*(v-m)+m;n=b.max}f||(p.beginPath(),p.moveTo(b.p2c(r),e.p2c(c)),f=!0);if(m>=e.max&&v>=e.max)p.lineTo(b.p2c(r),e.p2c(e.max)),p.lineTo(b.p2c(n),e.p2c(e.max));else if(m<=e.min&&v<=e.min)p.lineTo(b.p2c(r),e.p2c(e.min)),p.lineTo(b.p2c(n),e.p2c(e.min));else{var X=r,K=n;m<=v&&
m<e.min&&v>=e.min?(r=(e.min-m)/(v-m)*(n-r)+r,m=e.min):v<=m&&v<e.min&&m>=e.min&&(n=(e.min-m)/(v-m)*(n-r)+r,v=e.min);m>=v&&m>e.max&&v<=e.max?(r=(e.max-m)/(v-m)*(n-r)+r,m=e.max):v>=m&&v>e.max&&m<=e.max&&(n=(e.max-m)/(v-m)*(n-r)+r,v=e.max);r!=X&&p.lineTo(b.p2c(X),e.p2c(m));p.lineTo(b.p2c(r),e.p2c(m));p.lineTo(b.p2c(n),e.p2c(v));n!=K&&(p.lineTo(b.p2c(n),e.p2c(v)),p.lineTo(b.p2c(K),e.p2c(v)))}}}}p.save();p.translate(s.left,s.top);p.lineJoin="round";var e=a.lines.lineWidth,l=a.shadowSize;if(0<e&&0<l){p.lineWidth=
l;p.strokeStyle="rgba(0,0,0,0.1)";var c=Math.PI/18;b(a.datapoints,Math.sin(c)*(e/2+l/2),Math.cos(c)*(e/2+l/2),a.xaxis,a.yaxis);p.lineWidth=l/2;b(a.datapoints,Math.sin(c)*(e/2+l/4),Math.cos(c)*(e/2+l/4),a.xaxis,a.yaxis)}p.lineWidth=e;p.strokeStyle=a.color;if(l=$(a.lines,a.color,0,P))p.fillStyle=l,d(a.datapoints,a.xaxis,a.yaxis);0<e&&b(a.datapoints,0,0,a.xaxis,a.yaxis);p.restore()}function ka(a){function b(a,d,e,l,c,k,f,g){var q=a.points;a=a.pointsize;for(var h=0;h<q.length;h+=a){var r=q[h],m=q[h+1];
null==r||r<k.min||r>k.max||m<f.min||m>f.max||(p.beginPath(),r=k.p2c(r),m=f.p2c(m)+l,"circle"==g?p.arc(r,m,d,0,c?Math.PI:2*Math.PI,!1):g(p,r,m,d,c),p.closePath(),e&&(p.fillStyle=e,p.fill()),p.stroke())}}p.save();p.translate(s.left,s.top);var d=a.points.lineWidth,e=a.shadowSize,l=a.points.radius,c=a.points.symbol;0==d&&(d=1E-4);0<d&&0<e&&(e/=2,p.lineWidth=e,p.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,l,null,e+e/2,!0,a.xaxis,a.yaxis,c),p.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,l,null,e/2,!0,
a.xaxis,a.yaxis,c));p.lineWidth=d;p.strokeStyle=a.color;b(a.datapoints,l,$(a.points,a.color),0,!1,a.xaxis,a.yaxis,c);p.restore()}function ga(a,b,d,e,l,c,k,f,g,h,q){var r,p,m,n;h?(n=p=m=!0,r=!1,h=d,d=b+e,l=b+l,a<h&&(b=a,a=h,h=b,r=!0,p=!1)):(r=p=m=!0,n=!1,h=a+e,a+=l,l=d,d=b,d<l&&(b=d,d=l,l=b,n=!0,m=!1));a<k.min||h>k.max||d<f.min||l>f.max||(h<k.min&&(h=k.min,r=!1),a>k.max&&(a=k.max,p=!1),l<f.min&&(l=f.min,n=!1),d>f.max&&(d=f.max,m=!1),h=k.p2c(h),l=f.p2c(l),a=k.p2c(a),d=f.p2c(d),c&&(g.fillStyle=c(l,d),
g.fillRect(h,d,a-h,l-d)),0<q&&(r||p||m||n)&&(g.beginPath(),g.moveTo(h,l),r?g.lineTo(h,d):g.moveTo(h,d),m?g.lineTo(a,d):g.moveTo(a,d),p?g.lineTo(a,l):g.moveTo(a,l),n?g.lineTo(h,l):g.moveTo(h,l),g.stroke()))}function Y(a){p.save();p.translate(s.left,s.top);p.lineWidth=a.bars.lineWidth;p.strokeStyle=a.color;var b;switch(a.bars.align){case "left":b=0;break;case "right":b=-a.bars.barWidth;break;default:b=-a.bars.barWidth/2}(function(b,d,e,l,c,k){var f=b.points;b=b.pointsize;for(var g=0;g<f.length;g+=b)null!=
f[g]&&ga(f[g],f[g+1],f[g+2],d,e,l,c,k,p,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,b,b+a.bars.barWidth,a.bars.fill?function(b,d){return $(a.bars,a.color,b,d)}:null,a.xaxis,a.yaxis);p.restore()}function $(a,b,d,e){var l=a.fill;if(!l)return null;if(a.fillColor)return V(a.fillColor,d,e,b);a=h.color.parse(b);a.a="number"==typeof l?l:0.4;a.normalize();return a.toString()}function fa(){null!=n.legend.container?h(n.legend.container).html(""):b.find(".legend").remove();if(n.legend.show){for(var a=
[],d=[],e=!1,l=n.legend.labelFormatter,c,k,f=0;f<G.length;++f)c=G[f],c.label&&(k=l?l(c.label,c):c.label)&&d.push({label:k,color:c.color});if(n.legend.sorted)if(h.isFunction(n.legend.sorted))d.sort(n.legend.sorted);else if("reverse"==n.legend.sorted)d.reverse();else{var g="descending"!=n.legend.sorted;d.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=g?1:-1})}for(f=0;f<d.length;++f)l=d[f],0==f%n.legend.noColumns&&(e&&a.push("\x3c/tr\x3e"),a.push("\x3ctr\x3e"),e=!0),a.push('\x3ctd class\x3d"legendColorBox"\x3e\x3cdiv style\x3d"border:1px solid '+
n.legend.labelBoxBorderColor+';padding:1px"\x3e\x3cdiv style\x3d"width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"legendLabel"\x3e'+l.label+"\x3c/td\x3e");e&&a.push("\x3c/tr\x3e");0!=a.length&&(d='\x3ctable style\x3d"font-size:smaller;color:'+n.grid.color+'"\x3e'+a.join("")+"\x3c/table\x3e",null!=n.legend.container?h(n.legend.container).html(d):(a="",e=n.legend.position,f=n.legend.margin,null==f[0]&&(f=[f,f]),"n"==e.charAt(0)?
a+="top:"+(f[1]+s.top)+"px;":"s"==e.charAt(0)&&(a+="bottom:"+(f[1]+s.bottom)+"px;"),"e"==e.charAt(1)?a+="right:"+(f[0]+s.right)+"px;":"w"==e.charAt(1)&&(a+="left:"+(f[0]+s.left)+"px;"),d=h('\x3cdiv class\x3d"legend"\x3e'+d.replace('style\x3d"','style\x3d"position:absolute;'+a+";")+"\x3c/div\x3e").appendTo(b),0!=n.legend.backgroundOpacity&&(e=n.legend.backgroundColor,null==e&&(e=(e=n.grid.backgroundColor)&&"string"==typeof e?h.color.parse(e):h.color.extract(d,"background-color"),e.a=1,e=e.toString()),
f=d.children(),h('\x3cdiv style\x3d"position:absolute;width:'+f.width()+"px;height:"+f.height()+"px;"+a+"background-color:"+e+';"\x3e \x3c/div\x3e').prependTo(d).css("opacity",n.legend.backgroundOpacity))))}}function ia(a){n.grid.hoverable&&ea("plothover",a,function(a){return!1!=a.hoverable})}function ja(a){n.grid.hoverable&&ea("plothover",a,function(a){return!1})}function da(a){ea("plotclick",a,function(a){return!1!=a.clickable})}function ea(a,d,e){var l=K.offset(),c=d.pageX-l.left-s.left,k=d.pageY-
l.top-s.top,f=r({left:c,top:k});f.pageX=d.pageX;f.pageY=d.pageY;d=n.grid.mouseActiveRadius;var g=d*d+1,h=null,q,p,m;for(q=G.length-1;0<=q;--q)if(e(G[q])){var v=G[q],E=v.xaxis,y=v.yaxis,t=v.datapoints.points,J=E.c2p(c),A=y.c2p(k),N=d/E.scale,I=d/y.scale;m=v.datapoints.pointsize;E.options.inverseTransform&&(N=Number.MAX_VALUE);y.options.inverseTransform&&(I=Number.MAX_VALUE);if(v.lines.show||v.points.show)for(p=0;p<t.length;p+=m){var D=t[p],C=t[p+1];null==D||D-J>N||D-J<-N||C-A>I||C-A<-I||(D=Math.abs(E.p2c(D)-
c),C=Math.abs(y.p2c(C)-k),C=D*D+C*C,C<g&&(g=C,h=[q,p/m]))}if(v.bars.show&&!h){switch(v.bars.align){case "left":E=0;break;case "right":E=-v.bars.barWidth;break;default:E=-v.bars.barWidth/2}v=E+v.bars.barWidth;for(p=0;p<t.length;p+=m)D=t[p],C=t[p+1],y=t[p+2],null!=D&&(G[q].bars.horizontal?J<=Math.max(y,D)&&J>=Math.min(y,D)&&A>=C+E&&A<=C+v:J>=D+E&&J<=D+v&&A>=Math.min(y,C)&&A<=Math.max(y,C))&&(h=[q,p/m])}}h?(q=h[0],p=h[1],m=G[q].datapoints.pointsize,e={datapoint:G[q].datapoints.points.slice(p*m,(p+1)*
m),dataIndex:p,series:G[q],seriesIndex:q}):e=null;e&&(e.pageX=parseInt(e.series.xaxis.p2c(e.datapoint[0])+l.left+s.left,10),e.pageY=parseInt(e.series.yaxis.p2c(e.datapoint[1])+l.top+s.top,10));if(n.grid.autoHighlight){for(l=0;l<u.length;++l)c=u[l],c.auto!=a||e&&c.series==e.series&&c.point[0]==e.datapoint[0]&&c.point[1]==e.datapoint[1]||ba(c.series,c.point);e&&T(e.series,e.datapoint,a)}b.trigger(a,[f,e])}function Z(){var a=n.interaction.redrawOverlayInterval;-1==a?M():w||(w=setTimeout(M,a))}function M(){w=
null;E.save();R.clear();E.translate(s.left,s.top);var a,b;for(a=0;a<u.length;++a)if(b=u[a],b.series.bars.show)ha(b.series,b.point);else{var d=b.series,l=b.point;b=l[0];var l=l[1],c=d.xaxis,k=d.yaxis,f="string"===typeof d.highlightColor?d.highlightColor:h.color.parse(d.color).scale("a",0.5).toString();if(!(b<c.min||b>c.max||l<k.min||l>k.max)){var g=d.points.radius+d.points.lineWidth/2;E.lineWidth=g;E.strokeStyle=f;f=1.5*g;b=c.p2c(b);l=k.p2c(l);E.beginPath();"circle"==d.points.symbol?E.arc(b,l,f,0,
2*Math.PI,!1):d.points.symbol(E,b,l,f,!1);E.closePath();E.stroke()}}E.restore();e(z.drawOverlay,[E])}function T(a,b,d){"number"==typeof a&&(a=G[a]);if("number"==typeof b){var e=a.datapoints.pointsize;b=a.datapoints.points.slice(e*b,e*(b+1))}e=B(a,b);-1==e?(u.push({series:a,point:b,auto:d}),Z()):d||(u[e].auto=!1)}function ba(a,b){if(null==a&&null==b)u=[],Z();else{"number"==typeof a&&(a=G[a]);if("number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}d=B(a,b);-1!=d&&
(u.splice(d,1),Z())}}function B(a,b){for(var d=0;d<u.length;++d){var e=u[d];if(e.series==a&&e.point[0]==b[0]&&e.point[1]==b[1])return d}return-1}function ha(a,b){var d="string"===typeof a.highlightColor?a.highlightColor:h.color.parse(a.color).scale("a",0.5).toString(),e;switch(a.bars.align){case "left":e=0;break;case "right":e=-a.bars.barWidth;break;default:e=-a.bars.barWidth/2}E.lineWidth=a.bars.lineWidth;E.strokeStyle=d;ga(b[0],b[1],b[2]||0,e,e+a.bars.barWidth,function(){return d},a.xaxis,a.yaxis,
E,a.bars.horizontal,a.bars.lineWidth)}function V(a,b,d,e){if("string"==typeof a)return a;b=p.createLinearGradient(0,d,0,b);d=0;for(var l=a.colors.length;d<l;++d){var c=a.colors[d];if("string"!=typeof c){var k=h.color.parse(e);null!=c.brightness&&(k=k.scale("rgb",c.brightness));null!=c.opacity&&(k.a*=c.opacity);c=k.toString()}b.addColorStop(d/(l-1),c)}return b}var G=[],n={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",
container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,
radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,
mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},x=null,R=null,K=null,p=null,E=null,N=[],J=[],s={left:0,right:0,top:0,bottom:0},C=0,P=0,z={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},F=this;F.setData=l;F.setupGrid=S;F.draw=t;F.getPlaceholder=function(){return b};F.getCanvas=function(){return x.element};F.getPlotOffset=function(){return s};F.width=function(){return C};
F.height=function(){return P};F.offset=function(){var a=K.offset();a.left+=s.left;a.top+=s.top;return a};F.getData=function(){return G};F.getAxes=function(){var a={};h.each(N.concat(J),function(b,d){d&&(a[d.direction+(1!=d.n?d.n:"")+"axis"]=d)});return a};F.getXAxes=function(){return N};F.getYAxes=function(){return J};F.c2p=r;F.p2c=function(a){var b={},d,e,l;for(d=0;d<N.length;++d)if((e=N[d])&&e.used&&(l="x"+e.n,null==a[l]&&1==e.n&&(l="x"),null!=a[l])){b.left=e.p2c(a[l]);break}for(d=0;d<J.length;++d)if((e=
J[d])&&e.used&&(l="y"+e.n,null==a[l]&&1==e.n&&(l="y"),null!=a[l])){b.top=e.p2c(a[l]);break}return b};F.getOptions=function(){return n};F.highlight=T;F.unhighlight=ba;F.triggerRedrawOverlay=Z;F.pointOffset=function(a){return{left:parseInt(N[k(a,"x")-1].p2c(+a.x)+s.left,10),top:parseInt(J[k(a,"y")-1].p2c(+a.y)+s.top,10)}};F.shutdown=H;F.destroy=function(){H();b.removeData("plot").empty();G=[];E=p=K=R=x=n=null;N=[];J=[];z=null;u=[];F=null};F.resize=function(){var a=b.width(),d=b.height();x.resize(a,
d);R.resize(a,d)};F.hooks=z;(function(){for(var a={Canvas:g},b=0;b<d.length;++b){var e=d[b];e.init(F,a);e.options&&h.extend(!0,n,e.options)}})(F);(function(a){h.extend(!0,n,a);a&&a.colors&&(n.colors=a.colors);null==n.xaxis.color&&(n.xaxis.color=h.color.parse(n.grid.color).scale("a",0.22).toString());null==n.yaxis.color&&(n.yaxis.color=h.color.parse(n.grid.color).scale("a",0.22).toString());null==n.xaxis.tickColor&&(n.xaxis.tickColor=n.grid.tickColor||n.xaxis.color);null==n.yaxis.tickColor&&(n.yaxis.tickColor=
n.grid.tickColor||n.yaxis.color);null==n.grid.borderColor&&(n.grid.borderColor=n.grid.color);null==n.grid.tickColor&&(n.grid.tickColor=h.color.parse(n.grid.color).scale("a",0.22).toString());var d,l;a=(a=b.css("font-size"))?+a.replace("px",""):13;var c={style:b.css("font-style"),size:Math.round(0.8*a),variant:b.css("font-variant"),weight:b.css("font-weight"),family:b.css("font-family")};l=n.xaxes.length||1;for(a=0;a<l;++a)(d=n.xaxes[a])&&!d.tickColor&&(d.tickColor=d.color),d=h.extend(!0,{},n.xaxis,
d),n.xaxes[a]=d,d.font&&(d.font=h.extend({},c,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));l=n.yaxes.length||1;for(a=0;a<l;++a)(d=n.yaxes[a])&&!d.tickColor&&(d.tickColor=d.color),d=h.extend(!0,{},n.yaxis,d),n.yaxes[a]=d,d.font&&(d.font=h.extend({},c,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));n.xaxis.noTicks&&null==n.xaxis.ticks&&(n.xaxis.ticks=n.xaxis.noTicks);
n.yaxis.noTicks&&null==n.yaxis.ticks&&(n.yaxis.ticks=n.yaxis.noTicks);n.x2axis&&(n.xaxes[1]=h.extend(!0,{},n.xaxis,n.x2axis),n.xaxes[1].position="top");n.y2axis&&(n.yaxes[1]=h.extend(!0,{},n.yaxis,n.y2axis),n.yaxes[1].position="right");n.grid.coloredAreas&&(n.grid.markings=n.grid.coloredAreas);n.grid.coloredAreasColor&&(n.grid.markingsColor=n.grid.coloredAreasColor);n.lines&&h.extend(!0,n.series.lines,n.lines);n.points&&h.extend(!0,n.series.points,n.points);n.bars&&h.extend(!0,n.series.bars,n.bars);
null!=n.shadowSize&&(n.series.shadowSize=n.shadowSize);null!=n.highlightColor&&(n.series.highlightColor=n.highlightColor);for(a=0;a<n.xaxes.length;++a)m(N,a+1).options=n.xaxes[a];for(a=0;a<n.yaxes.length;++a)m(J,a+1).options=n.yaxes[a];for(var k in z)n.hooks[k]&&n.hooks[k].length&&(z[k]=z[k].concat(n.hooks[k]));e(z.processOptions,[n])})(a);(function(){b.css("padding",0).children().filter(function(){return!h(this).hasClass("flot-overlay")&&!h(this).hasClass("flot-base")}).remove();"static"==b.css("position")&&
b.css("position","relative");x=new g("flot-base",b);R=new g("flot-overlay",b);p=x.context;E=R.context;K=h(R.element).unbind();var a=b.data("plot");a&&(a.shutdown(),R.clear());b.data("plot",F)})();l(c);S();t();n.grid.hoverable&&(K.mousemove(ia),K.bind("mouseleave",ja));n.grid.clickable&&K.click(da);e(z.bindEvents,[K]);var u=[],w=null}var c=Object.prototype.hasOwnProperty;g.prototype.resize=function(b,c){if(0>=b||0>=c)throw Error("Invalid dimensions for plot, width \x3d "+b+", height \x3d "+c);var a=
this.element,d=this.context,e=this.pixelRatio;this.width!=b&&(a.width=b*e,a.style.width=b+"px",this.width=b);this.height!=c&&(a.height=c*e,a.style.height=c+"px",this.height=c);d.restore();d.save();d.scale(e,e)};g.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};g.prototype.render=function(){var b=this._textCache,f;for(f in b)if(c.call(b,f)){var a=this.getTextLayer(f),d=b[f];a.hide();for(var e in d)if(c.call(d,e)){var l=d[e],k;for(k in l)if(c.call(l,k)){for(var g=l[k].positions,
h=0,m;m=g[h];h++)m.active?m.rendered||(a.append(m.element),m.rendered=!0):(g.splice(h--,1),m.rendered&&m.element.detach());0==g.length&&delete l[k]}}a.show()}};g.prototype.getTextLayer=function(b){var c=this.text[b];null==c&&(null==this.textContainer&&(this.textContainer=h("\x3cdiv class\x3d'flot-text'\x3e\x3c/div\x3e").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=h("\x3cdiv\x3e\x3c/div\x3e").addClass(b).css({position:"absolute",
top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));return c};g.prototype.getTextInfo=function(b,c,a,d,e){var l,k;c=""+c;d="object"===typeof a?a.style+" "+a.variant+" "+a.weight+" "+a.size+"px/"+a.lineHeight+"px "+a.family:a;l=this._textCache[b];null==l&&(l=this._textCache[b]={});k=l[d];null==k&&(k=l[d]={});l=k[c];null==l&&(b=h("\x3cdiv\x3e\x3c/div\x3e").html(c).css({position:"absolute","max-width":e,top:-9999}).appendTo(this.getTextLayer(b)),"object"===typeof a?b.css({font:d,color:a.color}):
"string"===typeof a&&b.addClass(a),l=k[c]={width:b.outerWidth(!0),height:b.outerHeight(!0),element:b,positions:[]},b.detach());return l};g.prototype.addText=function(b,c,a,d,e,l,k,g,h){b=this.getTextInfo(b,d,e,l,k);d=b.positions;"center"==g?c-=b.width/2:"right"==g&&(c-=b.width);"middle"==h?a-=b.height/2:"bottom"==h&&(a-=b.height);for(h=0;e=d[h];h++)if(e.x==c&&e.y==a){e.active=!0;return}e={active:!0,rendered:!1,element:d.length?b.element.clone():b.element,x:c,y:a};d.push(e);e.element.css({top:Math.round(a),
left:Math.round(c),"text-align":g})};g.prototype.removeText=function(b,f,a,d,e,l){if(null==d){if(f=this._textCache[b],null!=f)for(var k in f)if(c.call(f,k)){a=f[k];for(var g in a)if(c.call(a,g))for(b=a[g].positions,d=0;e=b[d];d++)e.active=!1}}else for(b=this.getTextInfo(b,d,e,l).positions,d=0;e=b[d];d++)e.x==f&&e.y==a&&(e.active=!1)};h.plot=function(b,c,a){return new m(h(b),c,a,h.plot.plugins)};h.plot.version="0.8.2";h.plot.plugins=[];h.fn.plot=function(b,c){return this.each(function(){h.plot(this,
b,c)})}})(jQuery);
(function(h){function g(a,b){return b*Math.floor(a/b)}function m(a,b,d,e){if("function"==typeof a.strftime)return a.strftime(b);var c=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},f=[],g=!1,h=a.getHours(),m=12>h;null==d&&(d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==e&&(e="Sun Mon Tue Wed Thu Fri Sat".split(" "));var O;O=12<h?h-12:0==h?12:h;for(var S=0;S<b.length;++S){var D=b.charAt(S);if(g){switch(D){case "a":D=""+e[a.getDay()];break;case "b":D=""+d[a.getMonth()];
break;case "d":D=c(a.getDate());break;case "e":D=c(a.getDate()," ");break;case "h":case "H":D=c(h);break;case "I":D=c(O);break;case "l":D=c(O," ");break;case "m":D=c(a.getMonth()+1);break;case "M":D=c(a.getMinutes());break;case "q":D=""+(Math.floor(a.getMonth()/3)+1);break;case "S":D=c(a.getSeconds());break;case "y":D=c(a.getFullYear()%100);break;case "Y":D=""+a.getFullYear();break;case "p":D=m?"am":"pm";break;case "P":D=m?"AM":"PM";break;case "w":D=""+a.getDay()}f.push(D);g=!1}else"%"==D?g=!0:f.push(D)}return f.join("")}
function c(a){function b(a,d,e,l){a[d]=function(){return e[l].apply(e,arguments)}}var d={date:a};void 0!=a.strftime&&b(d,"strftime",a,"strftime");b(d,"getTime",a,"getTime");b(d,"setTime",a,"setTime");for(var e="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),c=0;c<e.length;c++)b(d,"get"+e[c],a,"getUTC"+e[c]),b(d,"set"+e[c],a,"setUTC"+e[c]);return d}function b(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var d=new timezoneJS.Date;d.setTimezone(b.timezone);d.setTime(a);return d}return c(new Date(a))}var f={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},a=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]],d=a.concat([[3,
"month"],[6,"month"],[1,"year"]]),e=a.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);h.plot.plugins.push({init:function(a){a.hooks.processOptions.push(function(a,l){h.each(a.getAxes(),function(a,l){var c=l.options;"time"==c.mode&&(l.tickGenerator=function(a){var l=[],k=b(a.min,c),h=0,q=c.tickSize&&"quarter"===c.tickSize[1]||c.minTickSize&&"quarter"===c.minTickSize[1]?e:d;null!=c.minTickSize&&(h="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*f[c.minTickSize[1]]);for(var r=0;r<q.length-1&&
!(a.delta<(q[r][0]*f[q[r][1]]+q[r+1][0]*f[q[r+1][1]])/2&&q[r][0]*f[q[r][1]]>=h);++r);h=q[r][0];q=q[r][1];"year"==q&&(null!=c.minTickSize&&"year"==c.minTickSize[1]?h=Math.floor(c.minTickSize[0]):(r=Math.pow(10,Math.floor(Math.log(a.delta/f.year)/Math.LN10)),h=a.delta/f.year/r,h=(1.5>h?1:3>h?2:7.5>h?5:10)*r),1>h&&(h=1));a.tickSize=c.tickSize||[h,q];r=a.tickSize[0];q=a.tickSize[1];h=r*f[q];"second"==q?k.setSeconds(g(k.getSeconds(),r)):"minute"==q?k.setMinutes(g(k.getMinutes(),r)):"hour"==q?k.setHours(g(k.getHours(),
r)):"month"==q?k.setMonth(g(k.getMonth(),r)):"quarter"==q?k.setMonth(3*g(k.getMonth()/3,r)):"year"==q&&k.setFullYear(g(k.getFullYear(),r));k.setMilliseconds(0);h>=f.minute&&k.setSeconds(0);h>=f.hour&&k.setMinutes(0);h>=f.day&&k.setHours(0);h>=4*f.day&&k.setDate(1);h>=2*f.month&&k.setMonth(g(k.getMonth(),3));h>=2*f.quarter&&k.setMonth(g(k.getMonth(),6));h>=f.year&&k.setMonth(0);var m=0,v=Number.NaN,U;do if(U=v,v=k.getTime(),l.push(v),"month"==q||"quarter"==q)if(1>r){k.setDate(1);var aa=k.getTime();
k.setMonth(k.getMonth()+("quarter"==q?3:1));var W=k.getTime();k.setTime(v+m*f.hour+(W-aa)*r);m=k.getHours();k.setHours(0)}else k.setMonth(k.getMonth()+r*("quarter"==q?3:1));else"year"==q?k.setFullYear(k.getFullYear()+r):k.setTime(v+h);while(v<a.max&&v!=U);return l},l.tickFormatter=function(a,d){var e=b(a,d.options);if(null!=c.timeformat)return m(e,c.timeformat,c.monthNames,c.dayNames);var l=d.options.tickSize&&"quarter"==d.options.tickSize[1]||d.options.minTickSize&&"quarter"==d.options.minTickSize[1],
k=d.tickSize[0]*f[d.tickSize[1]],g=d.max-d.min,h=c.twelveHourClock?" %p":"",q=c.twelveHourClock?"%I":"%H";return m(e,k<f.minute?q+":%M:%S"+h:k<f.day?g<2*f.day?q+":%M"+h:"%b %d "+q+":%M"+h:k<f.month?"%b %d":l&&k<f.quarter||!l&&k<f.year?g<f.year?"%b":"%b %Y":l&&k<f.year?g<f.year?"Q%q":"Q%q %Y":"%Y",c.monthNames,c.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});h.plot.formatDate=m})(jQuery);
(function(h){function g(e){var l,c=this,q=e.data||{};if(q.elem)c=e.dragTarget=q.elem,e.dragProxy=d.proxy||c,e.cursorOffsetX=q.pageX-q.left,e.cursorOffsetY=q.pageY-q.top,e.offsetX=e.pageX-e.cursorOffsetX,e.offsetY=e.pageY-e.cursorOffsetY;else if(d.dragging||0<q.which&&e.which!=q.which||h(e.target).is(q.not))return;switch(e.type){case "mousedown":return h.extend(q,h(c).offset(),{elem:c,target:e.target,pageX:e.pageX,pageY:e.pageY}),f.add(document,"mousemove mouseup",g,q),b(c,!1),d.dragging=null,!1;case !d.dragging&&
"mousemove":if(Math.pow(e.pageX-q.pageX,2)+Math.pow(e.pageY-q.pageY,2)<q.distance)break;e.target=q.target;l=m(e,"dragstart",c);!1!==l&&(d.dragging=c,d.proxy=e.dragProxy=h(l||c)[0]);case "mousemove":if(d.dragging){if(l=m(e,"drag",c),a.drop&&(a.drop.allowed=!1!==l,a.drop.handler(e)),!1!==l)break;e.type="mouseup"}case "mouseup":f.remove(document,"mousemove mouseup",g),d.dragging&&(a.drop&&a.drop.handler(e),m(e,"dragend",c)),b(c,!0),d.dragging=d.proxy=q.elem=!1}return!0}function m(a,b,d){a.type=b;b=h.event.dispatch.call(d,
a);return!1===b?!1:b||a.result}function c(){return!1===d.dragging}function b(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}h.fn.drag=function(a,b,d){return b&&this.bind("dragstart",a),d&&this.bind("dragend",d),a?this.bind("drag",b?b:a):this.trigger("drag")};var f=h.event,a=f.special,d=a.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=h.extend({distance:d.distance,which:d.which,not:d.not},a||{});a.distance=
Math.pow(a.distance,2);f.add(this,"mousedown",g,a);this.attachEvent&&this.attachEvent("ondragstart",c)},teardown:function(){f.remove(this,"mousedown",g);this===d.dragging&&(d.dragging=d.proxy=!1);b(this,!0);this.detachEvent&&this.detachEvent("ondragstart",c)}};a.dragstart=a.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(h){function g(b){var c=b||window.event,a=[].slice.call(arguments,1),d=0,e=0,l=0;b=h.event.fix(c);b.type="mousewheel";c.wheelDelta&&(d=c.wheelDelta/120);c.detail&&(d=-c.detail/3);l=d;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(l=0,e=-1*d);void 0!==c.wheelDeltaY&&(l=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(e=-1*c.wheelDeltaX/120);a.unshift(b,d,e,l);return(h.event.dispatch||h.event.handle).apply(this,a)}var m=["DOMMouseScroll","mousewheel"];if(h.event.fixHooks)for(var c=m.length;c;)h.event.fixHooks[m[--c]]=
h.event.mouseHooks;h.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=m.length;b;)this.addEventListener(m[--b],g,!1);else this.onmousewheel=g},teardown:function(){if(this.removeEventListener)for(var b=m.length;b;)this.removeEventListener(m[--b],g,!1);else this.onmousewheel=null}};h.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(h){h.plot.plugins.push({init:function(g){function m(a,b){var d=g.offset();d.left=a.pageX-d.left;d.top=a.pageY-d.top;b?g.zoomOut({center:d}):g.zoom({center:d})}function c(a,b){a.preventDefault();m(a,0>b);return!1}function b(a){if(1!=a.which)return!1;var b=g.getPlaceholder().css("cursor");b&&(d=b);g.getPlaceholder().css("cursor",g.getOptions().pan.cursor);e=a.pageX;l=a.pageY}function f(a){var b=g.getOptions().pan.frameRate;!k&&b&&(k=setTimeout(function(){g.pan({left:e-a.pageX,top:l-a.pageY});
e=a.pageX;l=a.pageY;k=null},1E3*(1/b)))}function a(a){k&&(clearTimeout(k),k=null);g.getPlaceholder().css("cursor",d);g.pan({left:e-a.pageX,top:l-a.pageY});g.getPlaceholder().trigger("plotpanEnd",[g])}var d="default",e=0,l=0,k=null;g.zoomOut=function(a){a||(a={});a.amount||(a.amount=g.getOptions().zoom.amount);a.amount=1/a.amount;g.zoom(a)};g.zoom=function(a){a||(a={});var b=a.center,d=a.amount||g.getOptions().zoom.amount,e=g.width(),l=g.height();b||(b={left:e/2,top:l/2});var c=b.left/e,k=b.top/l,
f={x:{min:b.left-c*e/d,max:b.left+(1-c)*e/d},y:{min:b.top-k*l/d,max:b.top+(1-k)*l/d}};h.each(g.getAxes(),function(a,b){var e=b.options,l=f[b.direction].min,c=f[b.direction].max,k=e.zoomRange,g=e.panRange;if(!1!==k){l=b.c2p(l);c=b.c2p(c);if(l>c)var h=l,l=c,c=h;g&&(null!=g[0]&&l<g[0]&&(l=g[0]),null!=g[1]&&c>g[1]&&(c=g[1]));g=c-l;k&&(null!=k[0]&&g<k[0]&&1<d||null!=k[1]&&g>k[1]&&1>d)||(e.min=l,e.max=c)}});g.setupGrid();g.draw();a.preventEvent||g.getPlaceholder().trigger("plotzoom",[g,a])};g.pan=function(a){var b=
{x:+a.left,y:+a.top};isNaN(b.x)&&(b.x=0);isNaN(b.y)&&(b.y=0);h.each(g.getAxes(),function(a,d){var e=d.options,l,c,k=b[d.direction];l=d.c2p(d.p2c(d.min)+k);c=d.c2p(d.p2c(d.max)+k);var f=e.panRange;!1!==f&&(f&&(null!=f[0]&&f[0]>l&&(k=f[0]-l,l+=k,c+=k),null!=f[1]&&f[1]<c&&(k=f[1]-c,l+=k,c+=k)),e.min=l,e.max=c)});g.setupGrid();g.draw();a.preventEvent||g.getPlaceholder().trigger("plotpan",[g,a])};g.hooks.bindEvents.push(function(d,e){var l=d.getOptions();l.zoom.interactive&&(e[l.zoom.trigger](m),e.mousewheel(c));
l.pan.interactive&&(e.bind("dragstart",{distance:10},b),e.bind("drag",f),e.bind("dragend",a))});g.hooks.shutdown.push(function(d,e){e.unbind(d.getOptions().zoom.trigger,m);e.unbind("mousewheel",c);e.unbind("dragstart",b);e.unbind("drag",f);e.unbind("dragend",a);k&&clearTimeout(k)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);
(function(h,g){var m,c;if("localStorage"in window)try{c="undefined"===typeof window.localStorage?g:window.localStorage,m="undefined"==typeof c||"undefined"==typeof window.JSON?!1:!0}catch(b){m=!1}h.totalStorage=function(b,a,d){return h.totalStorage.impl.init(b,a)};h.totalStorage.setItem=function(b,a){return h.totalStorage.impl.setItem(b,a)};h.totalStorage.getItem=function(b){return h.totalStorage.impl.getItem(b)};h.totalStorage.getAll=function(){return h.totalStorage.impl.getAll()};h.totalStorage.deleteItem=
function(b){return h.totalStorage.impl.deleteItem(b)};h.totalStorage.impl={init:function(b,a){return"undefined"!=typeof a?this.setItem(b,a):this.getItem(b)},setItem:function(b,a){if(!m)try{return h.cookie(b,a),a}catch(d){console.log("Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality. You can get it at https://github.com/carhartl/jquery-cookie")}var e=JSON.stringify(a);c.setItem(b,e);return this.parseResult(e)},getItem:function(b){if(!m)try{return this.parseResult(h.cookie(b))}catch(a){return null}b=
c.getItem(b);return this.parseResult(b)},deleteItem:function(b){if(!m)try{return h.cookie(b,null),!0}catch(a){return!1}c.removeItem(b);return!0},getAll:function(){var b=[];if(m)for(var a in c)a.length&&b.push({key:a,value:this.parseResult(c.getItem(a))});else try{var d=document.cookie.split(";");for(a=0;a<d.length;a++){var e=d[a].split("\x3d")[0];b.push({key:e,value:this.parseResult(h.cookie(e))})}}catch(l){return null}return b},parseResult:function(b){var a;try{a=JSON.parse(b),"undefined"==typeof a&&
(a=b),"true"==a&&(a=!0),"false"==a&&(a=!1),parseFloat(a)==a&&"object"!=typeof a&&(a=parseFloat(a))}catch(d){a=b}return a}}})(jQuery);
(function(h,g,m){var c=h.L,b={version:"0.7.1"};"object"===typeof module&&"object"===typeof module.exports?module.exports=b:"function"===typeof define&&define.amd&&define(b);b.noConflict=function(){h.L=c;return this};h.L=b;b.Util={extend:function(a){var b=Array.prototype.slice.call(arguments,1),e,l,c,f;l=0;for(c=b.length;l<c;l++)for(e in f=b[l]||{},f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},bind:function(a,b){var e=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,
e||arguments)}},stamp:function(){var a=0;return function(b){b._leaflet_id=b._leaflet_id||++a;return b._leaflet_id}}(),invokeEach:function(a,b,e){var l,c;if("object"===typeof a){c=Array.prototype.slice.call(arguments,3);for(l in a)b.apply(e,[l,a[l]].concat(c));return!0}return!1},limitExecByInterval:function(a,b,e){var l,c;return function r(){var f=arguments;l?c=!0:(l=!0,setTimeout(function(){l=!1;c&&(r.apply(e,f),c=!1)},b),a.apply(e,f))}},falseFn:function(){return!1},formatNum:function(a,b){var e=
Math.pow(10,b||5);return Math.round(a*e)/e},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return b.Util.trim(a).split(/\s+/)},setOptions:function(a,d){a.options=b.extend({},a.options,d);return a.options},getParamString:function(a,b,e){var l=[],c;for(c in a)l.push(encodeURIComponent(e?c.toUpperCase():c)+"\x3d"+encodeURIComponent(a[c]));return(b&&-1!==b.indexOf("?")?"\x26":"?")+l.join("\x26")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,
l){var c=b[l];if(c===m)throw Error("No value provided for variable "+a);"function"===typeof c&&(c=c(b));return c})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"};(function(){function a(a){var b,d,e=["webkit","moz","o","ms"];for(b=0;b<e.length&&!d;b++)d=h[e[b]+a];return d}function d(a){var b=+new Date,d=Math.max(0,16-(b-e));e=b+d;return h.setTimeout(a,d)}var e=0,l=h.requestAnimationFrame||
a("RequestAnimationFrame")||d,c=h.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){h.clearTimeout(a)};b.Util.requestAnimFrame=function(a,e,c,k){a=b.bind(a,e);if(c&&l===d)a();else return l.call(h,a,k)};b.Util.cancelAnimFrame=function(a){a&&c.call(h,a)}})();b.extend=b.Util.extend;b.bind=b.Util.bind;b.stamp=b.Util.stamp;b.setOptions=b.Util.setOptions;b.Class=function(){};b.Class.extend=function(a){var d=function(){this.initialize&&this.initialize.apply(this,
arguments);this._initHooks&&this.callInitHooks()},e=function(){};e.prototype=this.prototype;var c=new e;c.constructor=d;d.prototype=c;for(var k in this)this.hasOwnProperty(k)&&"prototype"!==k&&(d[k]=this[k]);a.statics&&(b.extend(d,a.statics),delete a.statics);a.includes&&(b.Util.extend.apply(null,[c].concat(a.includes)),delete a.includes);a.options&&c.options&&(a.options=b.extend({},c.options,a.options));b.extend(c,a);c._initHooks=[];var f=this;d.__super__=f.prototype;c.callInitHooks=function(){if(!this._initHooksCalled){f.prototype.callInitHooks&&
f.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=c._initHooks.length;a<b;a++)c._initHooks[a].call(this)}};return d};b.Class.include=function(a){b.extend(this.prototype,a)};b.Class.mergeOptions=function(a){b.extend(this.prototype.options,a)};b.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof a?a:function(){this[a].apply(this,b)})};b.Mixin=
{};b.Mixin.Events={addEventListener:function(a,d,e){if(b.Util.invokeEach(a,this.addEventListener,this,d,e))return this;var c=this._leaflet_events=this._leaflet_events||{},k=e&&e!==this&&b.stamp(e),f,g,h,m,H;a=b.Util.splitWords(a);f=0;for(g=a.length;f<g;f++)h={action:d,context:e||this},m=a[f],k?(H=m+"_idx",m=H+"_len",H=c[H]=c[H]||{},H[k]||(H[k]=[],c[m]=(c[m]||0)+1),H[k].push(h)):(c[m]=c[m]||[],c[m].push(h));return this},hasEventListeners:function(a){var b=this._leaflet_events;return!!b&&(a in b&&0<
b[a].length||a+"_idx"in b&&0<b[a+"_idx_len"])},removeEventListener:function(a,d,e){if(!this._leaflet_events)return this;if(!a)return this.clearAllEventListeners();if(b.Util.invokeEach(a,this.removeEventListener,this,d,e))return this;var c=this._leaflet_events,k=e&&e!==this&&b.stamp(e),f,g,h,m,H,A,I;a=b.Util.splitWords(a);f=0;for(g=a.length;f<g;f++)if(h=a[f],m=h+"_idx",H=m+"_len",A=c[m],d){if(h=k&&A?A[k]:c[h]){for(m=h.length-1;0<=m;m--)h[m].action!==d||e&&h[m].context!==e||(I=h.splice(m,1),I[0].action=
b.Util.falseFn);e&&A&&0===h.length&&(delete A[k],c[H]--)}}else delete c[h],delete c[m],delete c[H];return this},clearAllEventListeners:function(){delete this._leaflet_events;return this},fireEvent:function(a,d){if(!this.hasEventListeners(a))return this;var e=b.Util.extend({},d,{type:a,target:this}),c=this._leaflet_events,k,f,g,h;if(c[a])for(k=c[a].slice(),f=0,g=k.length;f<g;f++)k[f].action.call(k[f].context,e);c=c[a+"_idx"];for(h in c)if(k=c[h].slice())for(f=0,g=k.length;f<g;f++)k[f].action.call(k[f].context,
e);return this},addOneTimeEventListener:function(a,d,e){if(b.Util.invokeEach(a,this.addOneTimeEventListener,this,d,e))return this;var c=b.bind(function(){this.removeEventListener(a,d,e).removeEventListener(a,c,e)},this);return this.addEventListener(a,d,e).addEventListener(a,c,e)}};b.Mixin.Events.on=b.Mixin.Events.addEventListener;b.Mixin.Events.off=b.Mixin.Events.removeEventListener;b.Mixin.Events.once=b.Mixin.Events.addOneTimeEventListener;b.Mixin.Events.fire=b.Mixin.Events.fireEvent;(function(){var a=
"ActiveXObject"in h,d=a&&!g.addEventListener,e=navigator.userAgent.toLowerCase(),c=-1!==e.indexOf("webkit"),k=-1!==e.indexOf("chrome"),f=-1!==e.indexOf("phantom"),r=-1!==e.indexOf("android"),v=-1!==e.search("android [23]"),e=-1!==e.indexOf("gecko"),y=typeof orientation!==m+"",H=h.navigator&&h.navigator.msPointerEnabled&&h.navigator.msMaxTouchPoints&&!h.PointerEvent,A=h.PointerEvent&&h.navigator.pointerEnabled&&h.navigator.maxTouchPoints||H,I="devicePixelRatio"in h&&1<h.devicePixelRatio||"matchMedia"in
h&&h.matchMedia("(min-resolution:144dpi)")&&h.matchMedia("(min-resolution:144dpi)").matches,O=g.documentElement,S=a&&"transition"in O.style,D="WebKitCSSMatrix"in h&&"m11"in new h.WebKitCSSMatrix&&!v,t="MozPerspective"in O.style,Q="OTransition"in O.style,U=!h.L_DISABLE_3D&&(S||D||t||Q)&&!f,f=!h.L_NO_TOUCH&&!f&&function(){if(A||"ontouchstart"in O)return!0;var a=g.createElement("div"),b=!1;if(!a.setAttribute)return!1;a.setAttribute("ontouchstart","return;");"function"===typeof a.ontouchstart&&(b=!0);
a.removeAttribute("ontouchstart");return b}();b.Browser={ie:a,ielt9:d,webkit:c,gecko:e&&!c&&!h.opera&&!a,android:r,android23:v,chrome:k,ie3d:S,webkit3d:D,gecko3d:t,opera3d:Q,any3d:U,mobile:y,mobileWebkit:y&&c,mobileWebkit3d:y&&D,mobileOpera:y&&h.opera,touch:f,msPointer:H,pointer:A,retina:I}})();b.Point=function(a,b,e){this.x=e?Math.round(a):a;this.y=e?Math.round(b):b};b.Point.prototype={clone:function(){return new b.Point(this.x,this.y)},add:function(a){return this.clone()._add(b.point(a))},_add:function(a){this.x+=
a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(b.point(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},
floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},distanceTo:function(a){a=b.point(a);var d=a.x-this.x;a=a.y-this.y;return Math.sqrt(d*d+a*a)},equals:function(a){a=b.point(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=b.point(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+b.Util.formatNum(this.x)+", "+b.Util.formatNum(this.y)+")"}};b.point=
function(a,d,e){return a instanceof b.Point?a:b.Util.isArray(a)?new b.Point(a[0],a[1]):a===m||null===a?a:new b.Point(a,d,e)};b.Bounds=function(a,b){if(a)for(var e=b?[a,b]:a,c=0,k=e.length;c<k;c++)this.extend(e[c])};b.Bounds.prototype={extend:function(a){a=b.point(a);this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone());return this},getCenter:function(a){return new b.Point((this.min.x+
this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new b.Point(this.min.x,this.max.y)},getTopRight:function(){return new b.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d;a="number"===typeof a[0]||a instanceof b.Point?b.point(a):b.bounds(a);a instanceof b.Bounds?(d=a.min,a=a.max):d=a;return d.x>=this.min.x&&a.x<=this.max.x&&d.y>=this.min.y&&a.y<=this.max.y},intersects:function(a){a=b.bounds(a);var d=this.min,
e=this.max,c=a.min;a=a.max;var k=a.y>=d.y&&c.y<=e.y;return a.x>=d.x&&c.x<=e.x&&k},isValid:function(){return!(!this.min||!this.max)}};b.bounds=function(a,d){return!a||a instanceof b.Bounds?a:new b.Bounds(a,d)};b.Transformation=function(a,b,e,c){this._a=a;this._b=b;this._c=e;this._d=c};b.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){b=b||1;a.x=b*(this._a*a.x+this._b);a.y=b*(this._c*a.y+this._d);return a},untransform:function(a,d){d=d||
1;return new b.Point((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};b.DomUtil={get:function(a){return"string"===typeof a?g.getElementById(a):a},getStyle:function(a,b){var e=a.style[b];!e&&a.currentStyle&&(e=a.currentStyle[b]);e&&"auto"!==e||!g.defaultView||(e=(e=g.defaultView.getComputedStyle(a,null))?e[b]:null);return"auto"===e?null:e},getViewportOffset:function(a){var d=0,e=0,c=a,k=g.body,f=g.documentElement,h;do{d+=c.offsetTop||0;e+=c.offsetLeft||0;d+=parseInt(b.DomUtil.getStyle(c,"borderTopWidth"),
10)||0;e+=parseInt(b.DomUtil.getStyle(c,"borderLeftWidth"),10)||0;h=b.DomUtil.getStyle(c,"position");if(c.offsetParent===k&&"absolute"===h)break;if("fixed"===h){d+=k.scrollTop||f.scrollTop||0;e+=k.scrollLeft||f.scrollLeft||0;break}if("relative"===h&&!c.offsetLeft){h=b.DomUtil.getStyle(c,"width");var m=b.DomUtil.getStyle(c,"max-width"),y=c.getBoundingClientRect();if("none"!==h||"none"!==m)e+=y.left+c.clientLeft;d+=y.top+(k.scrollTop||f.scrollTop||0);break}c=c.offsetParent}while(c);c=a;do{if(c===k)break;
d-=c.scrollTop||0;e-=c.scrollLeft||0;c=c.parentNode}while(c);return new b.Point(e,d)},documentIsLtr:function(){b.DomUtil._docIsLtrCached||(b.DomUtil._docIsLtrCached=!0,b.DomUtil._docIsLtr="ltr"===b.DomUtil.getStyle(g.body,"direction"));return b.DomUtil._docIsLtr},create:function(a,b,e){a=g.createElement(a);a.className=b;e&&e.appendChild(a);return a},hasClass:function(a,d){if(a.classList!==m)return a.classList.contains(d);var e=b.DomUtil._getClass(a);return 0<e.length&&RegExp("(^|\\s)"+d+"(\\s|$)").test(e)},
addClass:function(a,d){if(a.classList!==m)for(var e=b.Util.splitWords(d),c=0,k=e.length;c<k;c++)a.classList.add(e[c]);else b.DomUtil.hasClass(a,d)||(e=b.DomUtil._getClass(a),b.DomUtil._setClass(a,(e?e+" ":"")+d))},removeClass:function(a,d){a.classList!==m?a.classList.remove(d):b.DomUtil._setClass(a,b.Util.trim((" "+b.DomUtil._getClass(a)+" ").replace(" "+d+" "," ")))},_setClass:function(a,b){a.className.baseVal===m?a.className=b:a.className.baseVal=b},_getClass:function(a){return a.className.baseVal===
m?a.className:a.className.baseVal},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var e=!1;try{e=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){if(1===b)return}b=Math.round(100*b);e?(e.Enabled=100!==b,e.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+b+")"}},testProp:function(a){for(var b=g.documentElement.style,e=0;e<a.length;e++)if(a[e]in b)return a[e];return!1},getTranslateString:function(a){var d=b.Browser.webkit3d;
return"translate"+(d?"3d":"")+"("+a.x+"px,"+a.y+"px"+((d?",0":"")+")")},getScaleString:function(a,d){return b.DomUtil.getTranslateString(d.add(d.multiplyBy(-1*a)))+(" scale("+a+") ")},setPosition:function(a,d,e){a._leaflet_pos=d;!e&&b.Browser.any3d?a.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(d):(a.style.left=d.x+"px",a.style.top=d.y+"px")},getPosition:function(a){return a._leaflet_pos}};b.DomUtil.TRANSFORM=b.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform",
"msTransform"]);b.DomUtil.TRANSITION=b.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);b.DomUtil.TRANSITION_END="webkitTransition"===b.DomUtil.TRANSITION||"OTransition"===b.DomUtil.TRANSITION?b.DomUtil.TRANSITION+"End":"transitionend";(function(){if("onselectstart"in g)b.extend(b.DomUtil,{disableTextSelection:function(){b.DomEvent.on(h,"selectstart",b.DomEvent.preventDefault)},enableTextSelection:function(){b.DomEvent.off(h,"selectstart",b.DomEvent.preventDefault)}});
else{var a=b.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);b.extend(b.DomUtil,{disableTextSelection:function(){if(a){var b=g.documentElement.style;this._userSelect=b[a];b[a]="none"}},enableTextSelection:function(){a&&(g.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}b.extend(b.DomUtil,{disableImageDrag:function(){b.DomEvent.on(h,"dragstart",b.DomEvent.preventDefault)},enableImageDrag:function(){b.DomEvent.off(h,"dragstart",
b.DomEvent.preventDefault)}})})();b.LatLng=function(a,b,e){a=parseFloat(a);b=parseFloat(b);if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=a;this.lng=b;e!==m&&(this.alt=parseFloat(e))};b.extend(b.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1E-9});b.LatLng.prototype={equals:function(a){if(!a)return!1;a=b.latLng(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=b.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+b.Util.formatNum(this.lat,
a)+", "+b.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=b.latLng(a);var d=b.LatLng.DEG_TO_RAD,e=(a.lng-this.lng)*d,c=this.lat*d,k=a.lat*d;a=Math.sin((a.lat-this.lat)*d/2);e=Math.sin(e/2);c=a*a+e*e*Math.cos(c)*Math.cos(k);return 12756274*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},wrap:function(a,d){var e=this.lng;a=a||-180;d=d||180;return new b.LatLng(this.lat,(e+d)%(d-a)+(e<a||e===d?d:a))}};b.latLng=function(a,d){return a instanceof b.LatLng?a:b.Util.isArray(a)?"number"===typeof a[0]||"string"===
typeof a[0]?new b.LatLng(a[0],a[1],a[2]):null:a===m||null===a?a:"object"===typeof a&&"lat"in a?new b.LatLng(a.lat,"lng"in a?a.lng:a.lon):d===m?null:new b.LatLng(a,d)};b.LatLngBounds=function(a,b){if(a)for(var e=b?[a,b]:a,c=0,k=e.length;c<k;c++)this.extend(e[c])};b.LatLngBounds.prototype={extend:function(a){if(!a)return this;var d=b.latLng(a);a=null!==d?d:b.latLngBounds(a);a instanceof b.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=
Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new b.LatLng(a.lat,a.lng),this._northEast=new b.LatLng(a.lat,a.lng)):a instanceof b.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast));return this},pad:function(a){var d=this._southWest,e=this._northEast,c=Math.abs(d.lat-e.lat)*a;a*=Math.abs(d.lng-e.lng);return new b.LatLngBounds(new b.LatLng(d.lat-c,d.lng-a),new b.LatLng(e.lat+
c,e.lng+a))},getCenter:function(){return new b.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new b.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new b.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},
getNorth:function(){return this._northEast.lat},contains:function(a){a="number"===typeof a[0]||a instanceof b.LatLng?b.latLng(a):b.latLngBounds(a);var d=this._southWest,e=this._northEast,c;a instanceof b.LatLngBounds?(c=a.getSouthWest(),a=a.getNorthEast()):c=a;return c.lat>=d.lat&&a.lat<=e.lat&&c.lng>=d.lng&&a.lng<=e.lng},intersects:function(a){a=b.latLngBounds(a);var d=this._southWest,e=this._northEast,c=a.getSouthWest();a=a.getNorthEast();var k=a.lng>=d.lng&&c.lng<=e.lng;return a.lat>=d.lat&&c.lat<=
e.lat&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){if(!a)return!1;a=b.latLngBounds(a);return this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())},isValid:function(){return!(!this._southWest||!this._northEast)}};b.latLngBounds=function(a,d){return!a||a instanceof b.LatLngBounds?a:new b.LatLngBounds(a,d)};b.Projection={};b.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var d=
b.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,e=Math.max(Math.min(e,a.lat),-e);a=a.lng*d;d=Math.log(Math.tan(Math.PI/4+e*d/2));return new b.Point(a,d)},unproject:function(a){var d=b.LatLng.RAD_TO_DEG,e=a.x*d;a=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*d;return new b.LatLng(a,e)}};b.Projection.LonLat={project:function(a){return new b.Point(a.lng,a.lat)},unproject:function(a){return new b.LatLng(a.y,a.x)}};b.CRS={latLngToPoint:function(a,b){var e=this.projection.project(a),c=this.scale(b);return this.transformation._transform(e,
c)},pointToLatLng:function(a,b){var e=this.scale(b),e=this.transformation.untransform(a,e);return this.projection.unproject(e)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){a=this.scale(a);return b.point(a,a)}};b.CRS.Simple=b.extend({},b.CRS,{projection:b.Projection.LonLat,transformation:new b.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});b.CRS.EPSG3857=b.extend({},b.CRS,{code:"EPSG:3857",projection:b.Projection.SphericalMercator,
transformation:new b.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(a){return this.projection.project(a).multiplyBy(6378137)}});b.CRS.EPSG900913=b.extend({},b.CRS.EPSG3857,{code:"EPSG:900913"});b.CRS.EPSG4326=b.extend({},b.CRS,{code:"EPSG:4326",projection:b.Projection.LonLat,transformation:new b.Transformation(1/360,0.5,-1/360,0.5)});b.Map=b.Class.extend({includes:b.Mixin.Events,options:{crs:b.CRS.EPSG3857,fadeAnimation:b.DomUtil.TRANSITION&&!b.Browser.android23,trackResize:!0,
markerZoomAnimation:b.DomUtil.TRANSITION&&b.Browser.any3d},initialize:function(a,d){d=b.setOptions(this,d);this._initContainer(a);this._initLayout();this._onResize=b.bind(this._onResize,this);this._initEvents();d.maxBounds&&this.setMaxBounds(d.maxBounds);d.center&&d.zoom!==m&&this.setView(b.latLng(d.center),d.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(d.layers)},setView:function(a,d){d=d===m?this.getZoom():
d;this._resetView(b.latLng(a),this._limitZoom(d));return this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,d,e){var c=this.getZoomScale(d),k=this.getSize().divideBy(2);a=(a instanceof b.Point?a:this.latLngToContainerPoint(a)).subtract(k).multiplyBy(1-1/c);k=this.containerPointToLatLng(k.add(a));
return this.setView(k,d,{zoom:e})},fitBounds:function(a,d){d=d||{};a=a.getBounds?a.getBounds():b.latLngBounds(a);var e=b.point(d.paddingTopLeft||d.padding||[0,0]),c=b.point(d.paddingBottomRight||d.padding||[0,0]),k=this.getBoundsZoom(a,!1,e.add(c)),e=c.subtract(e).divideBy(2),c=this.project(a.getSouthWest(),k),f=this.project(a.getNorthEast(),k),e=this.unproject(c.add(f).divideBy(2).add(e),k),k=d&&d.maxZoom?Math.min(d.maxZoom,k):k;return this.setView(e,k,d)},fitWorld:function(a){return this.fitBounds([[-90,
-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){this.fire("movestart");this._rawPanBy(b.point(a));this.fire("move");return this.fire("moveend")},setMaxBounds:function(a){a=b.latLngBounds(a);this.options.maxBounds=a;if(!a)return this.off("moveend",this._panInsideMaxBounds,this);this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,b){var e=this.getCenter(),c=this._limitCenter(e,
this._zoom,a);return e.equals(c)?this:this.panTo(c,b)},addLayer:function(a){var d=b.stamp(a);if(this._layers[d])return this;this._layers[d]=a;!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[d]=a,this._updateZoomLevels());this.options.zoomAnimation&&b.TileLayer&&a instanceof b.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this));this._loaded&&this._layerAdd(a);return this},removeLayer:function(a){var d=b.stamp(a);
if(!this._layers[d])return this;if(this._loaded)a.onRemove(this);delete this._layers[d];this._loaded&&this.fire("layerremove",{layer:a});this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels());this.options.zoomAnimation&&b.TileLayer&&a instanceof b.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this));return this},hasLayer:function(a){return a?b.stamp(a)in this._layers:!1},eachLayer:function(a,b){for(var e in this._layers)a.call(b,
this._layers[e]);return this},invalidateSize:function(a){if(!this._loaded)return this;a=b.extend({animate:!1,pan:!0},!0===a?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var e=this.getSize(),c=d.divideBy(2).round(),k=e.divideBy(2).round(),c=c.subtract(k);if(!c.x&&!c.y)return this;a.animate&&a.pan?this.panBy(c):(a.pan&&this._rawPanBy(c),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(b.bind(this.fire,this,"moveend"),
200)):this.fire("moveend"));return this.fire("resize",{oldSize:d,newSize:e})},addHandler:function(a,b){if(!b)return this;var e=this[a]=new b(this);this._handlers.push(e);this.options[a]&&e.enable();return this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=m}this._clearPanes();this._clearControlPos&&this._clearControlPos();this._clearHandlers();return this},getCenter:function(){this._checkIfLoaded();
return this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new b.LatLngBounds(d,a)},getMinZoom:function(){return this.options.minZoom===m?this._layersMinZoom===m?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===m?this._layersMaxZoom===
m?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,e){a=b.latLngBounds(a);var c=this.getMinZoom()-(d?1:0),k=this.getMaxZoom(),f=this.getSize(),h=a.getNorthWest();a=a.getSouthEast();var g=!0;e=b.point(e||[0,0]);do c++,g=this.project(a,c).subtract(this.project(h,c)).add(e),g=d?g.x<f.x||g.y<f.y:f.contains(g);while(g&&c<=k);return g&&d?null:d?c:c-1},getSize:function(){if(!this._size||this._sizeChanged)this._size=new b.Point(this._container.clientWidth,this._container.clientHeight),
this._sizeChanged=!1;return this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new b.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,d){d=d===m?
this._zoom:d;return this.options.crs.latLngToPoint(b.latLng(a),d)},unproject:function(a,d){d=d===m?this._zoom:d;return this.options.crs.pointToLatLng(b.point(a),d)},layerPointToLatLng:function(a){a=b.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(b.latLng(a))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return b.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return b.point(a).add(this._getMapPanePos())},
containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(b.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(b.latLng(a)))},mouseEventToContainerPoint:function(a){return b.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},
_initContainer:function(a){a=this._container=b.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet)throw Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=this._container;b.DomUtil.addClass(a,"leaflet-container"+(b.Browser.touch?" leaflet-touch":"")+(b.Browser.retina?" leaflet-retina":"")+(b.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var d=b.DomUtil.getStyle(a,"position");"absolute"!==d&&
"relative"!==d&&"fixed"!==d&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=
this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");this.options.markerZoomAnimation||(b.DomUtil.addClass(a.markerPane," leaflet-zoom-hide"),b.DomUtil.addClass(a.shadowPane," leaflet-zoom-hide"),b.DomUtil.addClass(a.popupPane," leaflet-zoom-hide"))},_createPane:function(a,d){return b.DomUtil.create("div",a,d||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?b.Util.isArray(a)?a:[a]:[];for(var d=
0,e=a.length;d<e;d++)this.addLayer(a[d])},_resetView:function(a,d,e,c){var k=this._zoom!==d;c||(this.fire("movestart"),k&&this.fire("zoomstart"));this._zoom=d;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);e?this._initialTopLeftPoint._add(this._getMapPanePos()):b.DomUtil.setPosition(this._mapPane,new b.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;a=!this._loaded;this._loaded=!0;a&&(this.fire("load"),this.eachLayer(this._layerAdd,this));this.fire("viewreset",
{hard:!e});this.fire("move");(k||c)&&this.fire("zoomend");this.fire("moveend",{hard:!e})},_rawPanBy:function(a){b.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,b=Infinity,e=-Infinity,c=this._getZoomSpan();for(a in this._zoomBoundLayers){var k=this._zoomBoundLayers[a];isNaN(k.options.minZoom)||(b=Math.min(b,k.options.minZoom));isNaN(k.options.maxZoom)||(e=Math.max(e,k.options.maxZoom))}a===
m?this._layersMaxZoom=this._layersMinZoom=m:(this._layersMaxZoom=e,this._layersMinZoom=b);c!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){if(b.DomEvent){a=a||"on";b.DomEvent[a](this._container,"click",this._onMouseClick,this);var d="dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu".split(" "),
e,c;e=0;for(c=d.length;e<c;e++)b.DomEvent[a](this._container,d[e],this._fireMouseEvent,this);if(this.options.trackResize)b.DomEvent[a](h,"resize",this._onResize,this)}},_onResize:function(){b.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=b.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||b.DomEvent._skipped(a)||
(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!b.DomEvent._skipped(a)){var d=a.type,d="mouseenter"===d?"mouseover":"mouseleave"===d?"mouseout":d;if(this.hasEventListeners(d)){"contextmenu"===d&&b.DomEvent.preventDefault(a);var e=this.mouseEventToContainerPoint(a),c=this.containerPointToLayerPoint(e),k=this.layerPointToLatLng(c);this.fire(d,{latlng:k,layerPoint:c,containerPoint:e,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--;
this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){if(this._loaded)a.call(b||this,this);else this.on("load",a,b);return this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return b.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},
_getNewTopLeftPoint:function(a,b){var e=this.getSize()._divideBy(2);return this.project(a,b)._subtract(e)._round()},_latLngToNewLayerPoint:function(a,b,e){e=this._getNewTopLeftPoint(e,b).add(this._getMapPanePos());return this.project(a,b)._subtract(e)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,e){if(!e)return a;a=
this.project(a,d);var c=this.getSize().divideBy(2),c=new b.Bounds(a.subtract(c),a.add(c));e=this._getBoundsOffset(c,e,d);return this.unproject(a.add(e),d)},_limitOffset:function(a,d){if(!d)return a;var e=this.getPixelBounds(),e=new b.Bounds(e.min.add(a),e.max.add(a));return a.add(this._getBoundsOffset(e,d))},_getBoundsOffset:function(a,d,e){var c=this.project(d.getNorthWest(),e).subtract(a.min);d=this.project(d.getSouthEast(),e).subtract(a.max);a=this._rebound(c.x,-d.x);c=this._rebound(c.y,-d.y);
return new b.Point(a,c)},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),e=this.getMaxZoom();return Math.max(b,Math.min(e,a))}});b.map=function(a,d){return new b.Map(a,d)};b.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var d=b.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,c=Math.max(Math.min(e,a.lat),-e),e=this.R_MAJOR;a=a.lng*d*e;var d=
c*d,c=this.R_MINOR/e,c=Math.sqrt(1-c*c),k=c*Math.sin(d),k=Math.pow((1-k)/(1+k),0.5*c),d=Math.tan(0.5*(0.5*Math.PI-d))/k,d=-e*Math.log(d);return new b.Point(a,d)},unproject:function(a){var d=b.LatLng.RAD_TO_DEG,e=this.R_MAJOR,c=a.x*d/e,k=this.R_MINOR/e,k=Math.sqrt(1-k*k);a=Math.exp(-a.y/e);for(var e=Math.PI/2-2*Math.atan(a),f=15,g=0.1;1E-7<Math.abs(g)&&0<--f;)g=k*Math.sin(e),g=Math.PI/2-2*Math.atan(a*Math.pow((1-g)/(1+g),0.5*k))-e,e+=g;return new b.LatLng(e*d,c)}};b.CRS.EPSG3395=b.extend({},b.CRS,
{code:"EPSG:3395",projection:b.Projection.Mercator,transformation:function(){var a=0.5/(Math.PI*b.Projection.Mercator.R_MAJOR);return new b.Transformation(a,0.5,-a,0.5)}()});b.TileLayer=b.Class.extend({includes:b.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:b.Browser.mobile,updateWhenIdle:b.Browser.mobile},initialize:function(a,d){d=b.setOptions(this,d);d.detectRetina&&b.Browser.retina&&0<d.maxZoom&&
(d.tileSize=Math.floor(d.tileSize/2),d.zoomOffset++,0<d.minZoom&&d.minZoom--,this.options.maxZoom--);d.bounds&&(d.bounds=b.latLngBounds(d.bounds));this._url=a;var e=this.options.subdomains;"string"===typeof e&&(this.options.subdomains=e.split(""))},onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();a.on({viewreset:this._reset,moveend:this._update},this);if(this._animated)a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||
(this._limitedUpdate=b.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this));this._reset();this._update()},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this._container.parentNode.removeChild(this._container);a.off({viewreset:this._reset,moveend:this._update},this);this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this);this._map=this._container=null},
bringToFront:function(){var a=this._map._panes.tilePane;this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max));return this},bringToBack:function(){var a=this._map._panes.tilePane;this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min));return this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();
return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},setUrl:function(a,b){this._url=a;b||this.redraw();return this},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());return this},_updateZIndex:function(){this._container&&this.options.zIndex!==m&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){var e=a.children,c=-b(Infinity,-Infinity),k,f,g;f=0;for(g=e.length;f<g;f++)e[f]!==this._container&&(k=parseInt(e[f].style.zIndex,
10),isNaN(k)||(c=b(c,k)));this.options.zIndex=this._container.style.zIndex=(isFinite(c)?c:0)+b(1,-1)},_updateOpacity:function(){var a,d=this._tiles;if(b.Browser.ielt9)for(a in d)b.DomUtil.setOpacity(d[a],this.options.opacity);else b.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;this._container||(this._container=b.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated?(this._bgBuffer=b.DomUtil.create("div","leaflet-tile-container",
this._container),this._tileContainer=b.DomUtil.create("div","leaflet-tile-container",this._container)):this._tileContainer=this._container,a.appendChild(this._container),1>this.options.opacity&&this._updateOpacity())},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&a&&a.hard&&this._clearBgBuffer();this._initContainer()},_getTileSize:function(){var a=
this._map,b=a.getZoom()+this.options.zoomOffset,e=this.options.maxNativeZoom,c=this.options.tileSize;e&&b>e&&(c=Math.round(a.getZoomScale(b)/a.getZoomScale(e)*c));return c},_update:function(){if(this._map){var a=this._map,d=a.getPixelBounds(),a=a.getZoom(),e=this._getTileSize();a>this.options.maxZoom||a<this.options.minZoom||(d=b.bounds(d.min.divideBy(e)._floor(),d.max.divideBy(e)._floor()),this._addTilesFromCenterOut(d),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(d))}},
_addTilesFromCenterOut:function(a){var d=[],e=a.getCenter(),c,k,f;for(c=a.min.y;c<=a.max.y;c++)for(k=a.min.x;k<=a.max.x;k++)f=new b.Point(k,c),this._tileShouldBeLoaded(f)&&d.push(f);a=d.length;if(0!==a){d.sort(function(a,b){return a.distanceTo(e)-b.distanceTo(e)});c=g.createDocumentFragment();this._tilesToLoad||this.fire("loading");this._tilesToLoad+=a;for(k=0;k<a;k++)this._addTile(d[k],c);this._tileContainer.appendChild(c)}},_tileShouldBeLoaded:function(a){if(a.x+":"+a.y in this._tiles)return!1;
var b=this.options;if(!b.continuousWorld){var e=this._getWrapTileNum();if(b.noWrap&&(0>a.x||a.x>=e.x)||0>a.y||a.y>=e.y)return!1}return b.bounds&&(e=b.tileSize,a=a.multiplyBy(e),e=a.add([e,e]),a=this._map.unproject(a),e=this._map.unproject(e),b.continuousWorld||b.noWrap||(a=a.wrap(),e=e.wrap()),!b.bounds.intersects([a,e]))?!1:!0},_removeOtherTiles:function(a){var b,e,c;for(c in this._tiles)b=c.split(":"),e=parseInt(b[0],10),b=parseInt(b[1],10),(e<a.min.x||e>a.max.x||b<a.min.y||b>a.max.y)&&this._removeTile(c)},
_removeTile:function(a){var d=this._tiles[a];this.fire("tileunload",{tile:d,url:d.src});this.options.reuseTiles?(b.DomUtil.removeClass(d,"leaflet-tile-loaded"),this._unusedTiles.push(d)):d.parentNode===this._tileContainer&&this._tileContainer.removeChild(d);b.Browser.android||(d.onload=null,d.src=b.Util.emptyImageUrl);delete this._tiles[a]},_addTile:function(a,d){var e=this._getTilePos(a),c=this._getTile();b.DomUtil.setPosition(c,e,b.Browser.chrome);this._tiles[a.x+":"+a.y]=c;this._loadTile(c,a);
c.parentNode!==this._tileContainer&&d.appendChild(c)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();a.zoomReverse&&(b=a.maxZoom-b);b+=a.zoomOffset;return a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getTilePos:function(a){var b=this._map.getPixelOrigin(),e=this._getTileSize();return a.multiplyBy(e).subtract(b)},getTileUrl:function(a){return b.Util.template(this._url,b.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this.options.tileSize)},
_adjustTilePoint:function(a){var b=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%b.x+b.x)%b.x);this.options.tms&&(a.y=b.y-a.y-1);a.z=this._getZoomForUrl()},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_getTile:function(){if(this.options.reuseTiles&&0<this._unusedTiles.length){var a=this._unusedTiles.pop();this._resetTile(a);return a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=
b.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this._getTileSize()+"px";a.galleryimg="no";a.onselectstart=a.onmousemove=b.Util.falseFn;b.Browser.ielt9&&this.options.opacity!==m&&b.DomUtil.setOpacity(a,this.options.opacity);b.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden");return a},_loadTile:function(a,b){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(b);a.src=this.getTileUrl(b);this.fire("tileloadstart",{tile:a,url:a.src})},
_tileLoaded:function(){this._tilesToLoad--;this._animated&&b.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated");this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(b.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==b.Util.emptyImageUrl&&(b.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src}));a._tileLoaded()},_tileOnError:function(){var a=
this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b);a._tileLoaded()}});b.tileLayer=function(a,d){return new b.TileLayer(a,d)};b.TileLayer.WMS=b.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,d){this._url=a;var e=b.extend({},this.defaultWmsParams),c=d.tileSize||this.options.tileSize;e.width=d.detectRetina&&b.Browser.retina?e.height=2*c:
e.height=c;for(var k in d)this.options.hasOwnProperty(k)||"crs"===k||(e[k]=d[k]);this.wmsParams=e;b.setOptions(this,d)},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;b.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._map,e=this.options.tileSize,c=a.multiplyBy(e),e=c.add([e,e]),c=this._crs.project(d.unproject(c,a.z)),d=this._crs.project(d.unproject(e,
a.z)),d=1.3<=this._wmsVersion&&this._crs===b.CRS.EPSG4326?[d.y,c.x,c.y,d.x].join():[c.x,d.y,d.x,c.y].join();a=b.Util.template(this._url,{s:this._getSubdomain(a)});return a+b.Util.getParamString(this.wmsParams,a,!0)+"\x26BBOX\x3d"+d},setParams:function(a,d){b.extend(this.wmsParams,a);d||this.redraw();return this}});b.tileLayer.wms=function(a,d){return new b.TileLayer.WMS(a,d)};b.TileLayer.Canvas=b.TileLayer.extend({options:{async:!1},initialize:function(a){b.setOptions(this,a)},redraw:function(){this._map&&
(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=b.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize;a.onselectstart=a.onmousemove=b.Util.falseFn;return a},_loadTile:function(a,b){a._layer=this;a._tilePoint=b;this._redrawTile(a);this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});
b.tileLayer.canvas=function(a){return new b.TileLayer.Canvas(a)};b.ImageOverlay=b.Class.extend({includes:b.Mixin.Events,options:{opacity:1},initialize:function(a,d,e){this._url=a;this._bounds=b.latLngBounds(d);b.setOptions(this,e)},onAdd:function(a){this._map=a;this._image||this._initImage();a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);if(a.options.zoomAnimation&&b.Browser.any3d)a.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);
a.off("viewreset",this._reset,this);a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},bringToFront:function(){this._image&&this._map._panes.overlayPane.appendChild(this._image);return this},bringToBack:function(){var a=this._map._panes.overlayPane;this._image&&a.insertBefore(this._image,a.firstChild);return this},setUrl:function(a){this._url=a;this._image.src=
this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=b.DomUtil.create("img","leaflet-image-layer");this._map.options.zoomAnimation&&b.Browser.any3d?b.DomUtil.addClass(this._image,"leaflet-zoom-animated"):b.DomUtil.addClass(this._image,"leaflet-zoom-hide");this._updateOpacity();b.extend(this._image,{galleryimg:"no",onselectstart:b.Util.falseFn,onmousemove:b.Util.falseFn,onload:b.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var d=
this._map,e=this._image,c=d.getZoomScale(a.zoom),k=this._bounds.getNorthWest(),f=this._bounds.getSouthEast(),k=d._latLngToNewLayerPoint(k,a.zoom,a.center);a=d._latLngToNewLayerPoint(f,a.zoom,a.center)._subtract(k);a=k._add(a._multiplyBy(0.5*(1-1/c)));e.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(a)+" scale("+c+") "},_reset:function(){var a=this._image,d=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),e=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(d);b.DomUtil.setPosition(a,
d);a.style.width=e.x+"px";a.style.height=e.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){b.DomUtil.setOpacity(this._image,this.options.opacity)}});b.imageOverlay=function(a,d,e){return new b.ImageOverlay(a,d,e)};b.Icon=b.Class.extend({options:{className:""},initialize:function(a){b.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var e=this._getIconUrl(a);
if(!e){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}e=b&&"IMG"===b.tagName?this._createImg(e,b):this._createImg(e);this._setIconStyles(e,a);return e},_setIconStyles:function(a,d){var e=this.options,c=b.point(e[d+"Size"]),k;k="shadow"===d?b.point(e.shadowAnchor||e.iconAnchor):b.point(e.iconAnchor);!k&&c&&(k=c.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+e.className;k&&(a.style.marginLeft=-k.x+"px",a.style.marginTop=-k.y+"px");c&&(a.style.width=c.x+
"px",a.style.height=c.y+"px")},_createImg:function(a,b){b=b||g.createElement("img");b.src=a;return b},_getIconUrl:function(a){return b.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}});b.icon=function(a){return new b.Icon(a)};b.Icon.Default=b.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var d=a+"Url";if(this.options[d])return this.options[d];b.Browser.retina&&"icon"===a&&(a+=
"-2x");d=b.Icon.Default.imagePath;if(!d)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return d+"/marker-"+a+".png"}});b.Icon.Default.imagePath=function(){var a=g.getElementsByTagName("script"),b=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,e,c,k,f;e=0;for(c=a.length;e<c;e++)if(k=a[e].src,f=k.match(b))return a=k.split(b)[0],(a?a+"/":"")+"images"}();b.Marker=b.Class.extend({includes:b.Mixin.Events,options:{icon:new b.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,
keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,d){b.setOptions(this,d);this._latlng=b.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();this.fire("add");if(a.options.zoomAnimation&&a.options.markerZoomAnimation)a.on("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow();this.fire("remove");
a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=b.latLng(a);this.update();return this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;this.update();return this},setIcon:function(a){this.options.icon=a;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup);return this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();
this._setPos(a)}return this},_initIcon:function(){var a=this.options,d=this._map,e=d.options.zoomAnimation&&d.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",c=a.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),a.alt&&(c.alt=a.alt));b.DomUtil.addClass(c,e);a.keyboard&&(c.tabIndex="0");this._icon=c;this._initInteraction();if(a.riseOnHover)b.DomEvent.on(c,"mouseover",this._bringToFront,this).on(c,"mouseout",this._resetZIndex,
this);var c=a.icon.createShadow(this._shadow),k=!1;c!==this._shadow&&(this._removeShadow(),k=!0);c&&b.DomUtil.addClass(c,e);this._shadow=c;1>a.opacity&&this._updateOpacity();a=this._map._panes;d&&a.markerPane.appendChild(this._icon);c&&k&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&b.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&
this._map._panes.shadowPane.removeChild(this._shadow);this._shadow=null},_setPos:function(a){b.DomUtil.setPosition(this._icon,a);this._shadow&&b.DomUtil.setPosition(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,d=["dblclick",
"mousedown","mouseover","mouseout","contextmenu"];b.DomUtil.addClass(a,"leaflet-clickable");b.DomEvent.on(a,"click",this._onMouseClick,this);b.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var e=0;e<d.length;e++)b.DomEvent.on(a,d[e],this._fireMouseEvent,this);b.Handler.MarkerDrag&&(this.dragging=new b.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var d=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||d)&&b.DomEvent.stopPropagation(a);
d||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});"contextmenu"===a.type&&this.hasEventListeners(a.type)&&b.DomEvent.preventDefault(a);"mousedown"!==a.type?b.DomEvent.stopPropagation(a):b.DomEvent.preventDefault(a)},setOpacity:function(a){this.options.opacity=
a;this._map&&this._updateOpacity();return this},_updateOpacity:function(){b.DomUtil.setOpacity(this._icon,this.options.opacity);this._shadow&&b.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});b.marker=function(a,d){return new b.Marker(a,d)};b.DivIcon=b.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){a=a&&"DIV"===a.tagName?
a:g.createElement("div");var b=this.options;a.innerHTML=!1!==b.html?b.html:"";b.bgPos&&(a.style.backgroundPosition=-b.bgPos.x+"px "+-b.bgPos.y+"px");this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});b.divIcon=function(a){return new b.DivIcon(a)};b.Map.mergeOptions({closePopupOnClick:!0});b.Popup=b.Class.extend({includes:b.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},
initialize:function(a,d){b.setOptions(this,a);this._source=d;this._animated=b.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(a){this._map=a;this._container||this._initLayout();var d=a.options.fadeAnimation;d&&b.DomUtil.setOpacity(this._container,0);a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();d&&b.DomUtil.setOpacity(this._container,1);this.fire("open");a.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",
{popup:this})},addTo:function(a){a.addLayer(this);return this},openOn:function(a){a.openPopup(this);return this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);b.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);a.options.fadeAnimation&&b.DomUtil.setOpacity(this._container,0);this._map=null;this.fire("close");a.fire("popupclose",{popup:this});this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=
b.latLng(a);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};this._animated&&(a.zoomanim=this._zoomAnimation);if("closeOnClick"in
this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)a.preclick=this._close;this.options.keepInView&&(a.moveend=this._adjustPan);return a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a=this._container=b.DomUtil.create("div","leaflet-popup "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide")),d;this.options.closeButton&&(d=this._closeButton=b.DomUtil.create("a","leaflet-popup-close-button",a),d.href="#close",d.innerHTML=
"\x26#215;",b.DomEvent.disableClickPropagation(d),b.DomEvent.on(d,"click",this._onCloseButtonClick,this));d=this._wrapper=b.DomUtil.create("div","leaflet-popup-content-wrapper",a);b.DomEvent.disableClickPropagation(d);this._contentNode=b.DomUtil.create("div","leaflet-popup-content",d);b.DomEvent.disableScrollPropagation(this._contentNode);b.DomEvent.on(d,"contextmenu",b.DomEvent.stopPropagation);this._tipContainer=b.DomUtil.create("div","leaflet-popup-tip-container",a);this._tip=b.DomUtil.create("div",
"leaflet-popup-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"===typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="";d.whiteSpace="nowrap";var e=a.offsetWidth,e=Math.min(e,this.options.maxWidth),e=Math.max(e,
this.options.minWidth);d.width=e+1+"px";d.whiteSpace="";d.height="";var e=a.offsetHeight,c=this.options.maxHeight;c&&e>c?(d.height=c+"px",b.DomUtil.addClass(a,"leaflet-popup-scrolled")):b.DomUtil.removeClass(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=this._animated,e=b.point(this.options.offset);d&&b.DomUtil.setPosition(this._container,a);this._containerBottom=-e.y-(d?0:a.y);
this._containerLeft=-Math.round(this._containerWidth/2)+e.x+(d?0:a.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);b.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,d=this._container.offsetHeight,e=this._containerWidth,c=new b.Point(this._containerLeft,-d-this._containerBottom);this._animated&&
c._add(b.DomUtil.getPosition(this._container));var c=a.layerPointToContainerPoint(c),k=b.point(this.options.autoPanPadding),f=b.point(this.options.autoPanPaddingTopLeft||k),k=b.point(this.options.autoPanPaddingBottomRight||k),g=a.getSize(),h=0,m=0;c.x+e+k.x>g.x&&(h=c.x+e-g.x+k.x);0>c.x-h-f.x&&(h=c.x-f.x);c.y+d+k.y>g.y&&(m=c.y+d-g.y+k.y);0>c.y-m-f.y&&(m=c.y-f.y);(h||m)&&a.fire("autopanstart").panBy([h,m])}},_onCloseButtonClick:function(a){this._close();b.DomEvent.stop(a)}});b.popup=function(a,d){return new b.Popup(a,
d)};b.Map.include({openPopup:function(a,d,e){this.closePopup();a instanceof b.Popup||(a=(new b.Popup(e)).setLatLng(d).setContent(a));a._isOpen=!0;this._popup=a;return this.addLayer(a)},closePopup:function(a){a&&a!==this._popup||(a=this._popup,this._popup=null);a&&(this.removeLayer(a),a._isOpen=!1);return this}});b.Marker.include({openPopup:function(){this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup));return this},closePopup:function(){this._popup&&
this._popup._close();return this},togglePopup:function(){this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup());return this},bindPopup:function(a,d){var e=b.point(this.options.icon.options.popupAnchor||[0,0]),e=e.add(b.Popup.prototype.options.offset);d&&d.offset&&(e=e.add(d.offset));d=b.extend({offset:e},d);this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0);a instanceof b.Popup?
(b.setOptions(a,d),this._popup=a):this._popup=(new b.Popup(d,this)).setContent(a);return this},setPopupContent:function(a){this._popup&&this._popup.setContent(a);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1);return this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});b.LayerGroup=b.Class.extend({initialize:function(a){this._layers=
{};var b,e;if(a)for(b=0,e=a.length;b<e;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);this._layers[b]=a;this._map&&this._map.addLayer(a);return this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]);delete this._layers[a];return this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){this.eachLayer(this.removeLayer,this);return this},
invoke:function(a){var b=Array.prototype.slice.call(arguments,1),e,c;for(e in this._layers)c=this._layers[e],c[a]&&c[a].apply(c,b);return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){a.addLayer(this);return this},eachLayer:function(a,b){for(var e in this._layers)a.call(b,this._layers[e]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],b;for(b in this._layers)a.push(this._layers[b]);
return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return b.stamp(a)}});b.layerGroup=function(a){return new b.LayerGroup(a)};b.FeatureGroup=b.LayerGroup.extend({includes:b.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){if(this.hasLayer(a))return this;if("on"in a)a.on(b.FeatureGroup.EVENTS,this._propagateEvent,this);b.LayerGroup.prototype.addLayer.call(this,a);this._popupContent&&
a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions);return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a))return this;a in this._layers&&(a=this._layers[a]);a.off(b.FeatureGroup.EVENTS,this._propagateEvent,this);b.LayerGroup.prototype.removeLayer.call(this,a);this._popupContent&&this.invoke("unbindPopup");return this.fire("layerremove",{layer:a})},bindPopup:function(a,b){this._popupContent=a;this._popupOptions=b;return this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);
break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new b.LatLngBounds;this.eachLayer(function(d){a.extend(d instanceof b.Marker?d.getLatLng():d.getBounds())});return a},_propagateEvent:function(a){a=b.extend({layer:a.target,target:this},a);this.fire(a.type,a)}});b.featureGroup=function(a){return new b.FeatureGroup(a)};b.Path=b.Class.extend({includes:[b.Mixin.Events],
statics:{CLIP_PADDING:function(){var a=((b.Browser.mobile?1280:2E3)/Math.max(h.outerWidth,h.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(a){b.setOptions(this,a)},onAdd:function(a){this._map=a;this._container||(this._initElements(),this._initEvents());this.projectLatlngs();this._updatePath();this._container&&this._map._pathRoot.appendChild(this._container);
this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;b.Browser.vml&&(this._fill=this._stroke=this._container=null);a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){b.setOptions(this,a);this._container&&this._updateStyle();return this},redraw:function(){this._map&&
(this.projectLatlngs(),this._updatePath());return this}});b.Map.include({_updatePathViewport:function(){var a=b.Path.CLIP_PADDING,d=this.getSize(),e=b.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(d.multiplyBy(a)._round()),a=e.add(d.multiplyBy(1+2*a)._round());this._pathViewport=new b.Bounds(e,a)}});b.Path.SVG_NS="http://www.w3.org/2000/svg";b.Browser.svg=!(!g.createElementNS||!g.createElementNS(b.Path.SVG_NS,"svg").createSVGRect);b.Path=b.Path.extend({statics:{SVG:b.Browser.svg},bringToFront:function(){var a=
this._map._pathRoot,b=this._container;b&&a.lastChild!==b&&a.appendChild(b);return this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,e=a.firstChild;b&&e!==b&&a.insertBefore(b,e);return this},getPathString:function(){},_createElement:function(a){return g.createElementNS(b.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this.options.className&&
b.DomUtil.addClass(this._path,this.options.className);this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill&&this._path.setAttribute("fill-rule","evenodd");this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents);this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none");
this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",
this.options.lineJoin)):this._path.setAttribute("stroke","none");this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0");this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){!b.Browser.svg&&b.Browser.vml||b.DomUtil.addClass(this._path,"leaflet-clickable");b.DomEvent.on(this._container,
"click",this._onMouseClick,this);for(var a="dblclick mousedown mouseover mouseout mousemove contextmenu".split(" "),d=0;d<a.length;d++)b.DomEvent.on(this._container,a[d],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var d=this._map,e=d.mouseEventToContainerPoint(a),c=d.containerPointToLayerPoint(e),d=d.layerPointToLatLng(c);this.fire(a.type,{latlng:d,layerPoint:c,
containerPoint:e,originalEvent:a});"contextmenu"===a.type&&b.DomEvent.preventDefault(a);"mousemove"!==a.type&&b.DomEvent.stopPropagation(a)}}});b.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=b.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&b.Browser.any3d?(b.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):b.DomUtil.addClass(this._pathRoot,
"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var d=this.getZoomScale(a.zoom);a=this._getCenterOffset(a.center)._multiplyBy(-d)._add(this._pathViewport.min);this._pathRoot.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(a)+" scale("+d+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,d=a.min,
e=a.max,a=e.x-d.x,e=e.y-d.y,c=this._pathRoot,k=this._panes.overlayPane;b.Browser.mobileWebkit&&k.removeChild(c);b.DomUtil.setPosition(c,d);c.setAttribute("width",a);c.setAttribute("height",e);c.setAttribute("viewBox",[d.x,d.y,a,e].join(" "));b.Browser.mobileWebkit&&k.appendChild(c)}}});b.Path.include({bindPopup:function(a,d){if(a instanceof b.Popup)this._popup=a;else{if(!this._popup||d)this._popup=new b.Popup(d,this);this._popup.setContent(a)}this._popupHandlersAdded||(this.on("click",this._openPopup,
this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1);return this},openPopup:function(a){this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a}));return this},closePopup:function(){this._popup&&this._popup._close();return this},_openPopup:function(a){this._popup.setLatLng(a.latlng);
this._map.openPopup(this._popup)}});b.Browser.vml=!b.Browser.svg&&function(){try{var a=g.createElement("div");a.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var b=a.firstChild;b.style.behavior="url(#default#VML)";return b&&"object"===typeof b.adj}catch(e){return!1}}();b.Path=b.Browser.svg||!b.Browser.vml?b.Path:b.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return g.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return g.createElement("\x3clvml:"+a+
' class\x3d"lvml"\x3e')}}catch(a){return function(a){return g.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");b.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));this.options.clickable&&b.DomUtil.addClass(a,"leaflet-clickable");a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},
_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,d=this._fill,e=this.options,c=this._container;c.stroked=e.stroke;c.filled=e.fill;e.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",c.appendChild(a)),a.weight=e.weight+"px",a.color=e.color,a.opacity=e.opacity,a.dashStyle=e.dashArray?b.Util.isArray(e.dashArray)?e.dashArray.join(" "):e.dashArray.replace(/( *, *)/g," "):"",e.lineCap&&(a.endcap=e.lineCap.replace("butt","flat")),e.lineJoin&&(a.joinstyle=
e.lineJoin)):a&&(c.removeChild(a),this._stroke=null);e.fill?(d||(d=this._fill=this._createElement("fill"),c.appendChild(d)),d.color=e.fillColor||e.color,d.opacity=e.fillOpacity):d&&(c.removeChild(d),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});b.Map.include(b.Browser.svg||!b.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=g.createElement("div");a.className="leaflet-vml-container";
this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}}});b.Browser.canvas=!!g.createElement("canvas").getContext;b.Path=b.Path.SVG&&!h.L_PREFER_CANVAS||!b.Browser.canvas?b.Path:b.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){this._map&&(this.projectLatlngs(),this._requestUpdate());return this},setStyle:function(a){b.setOptions(this,a);this._map&&(this._updateStyle(),this._requestUpdate());return this},onRemove:function(a){a.off("viewreset",
this.projectLatlngs,this).off("moveend",this._updatePath,this);this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this));this._requestUpdate();this._map=null},_requestUpdate:function(){this._map&&!b.Path._updateRequest&&(b.Path._updateRequest=b.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){b.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},
_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color);a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,d,e,c,k,f;this._ctx.beginPath();a=0;for(e=this._parts.length;a<e;a++){d=0;for(c=this._parts[a].length;d<c;d++)k=this._parts[a][d],f=(0===d?"move":"line")+"To",this._ctx[f](k.x,k.y);this instanceof b.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=
this._ctx,b=this.options;this._drawPath();a.save();this._updateStyle();b.fill&&(a.globalAlpha=b.fillOpacity,a.fill());b.stroke&&(a.globalAlpha=b.opacity,a.stroke());a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor=
"pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}});b.Map.include(b.Path.SVG&&!h.L_PREFER_CANVAS||!b.Browser.canvas?{}:{_initPathRoot:function(){var a=this._pathRoot,b;a||(a=this._pathRoot=g.createElement("canvas"),a.style.position="absolute",b=this._canvasCtx=a.getContext("2d"),b.lineCap="round",b.lineJoin="round",this._panes.overlayPane.appendChild(a),this.options.zoomAnimation&&(this._pathRoot.className=
"leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,d=a.min,a=a.max.subtract(d),e=this._pathRoot;b.DomUtil.setPosition(e,d);e.width=a.x;e.height=a.y;e.getContext("2d").translate(-d.x,-d.y)}}});b.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var e=
b*b;a=this._reducePoints(a,e);return a=this._simplifyDP(a,e)},pointToSegmentDistance:function(a,b,e){return Math.sqrt(this._sqClosestPointOnSegment(a,b,e,!0))},closestPointOnSegment:function(a,b,e){return this._sqClosestPointOnSegment(a,b,e)},_simplifyDP:function(a,b){var e=a.length,c=new (typeof Uint8Array!==m+""?Uint8Array:Array)(e);c[0]=c[e-1]=1;this._simplifyDPStep(a,c,b,0,e-1);var k,f=[];for(k=0;k<e;k++)c[k]&&f.push(a[k]);return f},_simplifyDPStep:function(a,b,e,c,k){var f=0,g,h,m;for(h=c+1;h<=
k-1;h++)m=this._sqClosestPointOnSegment(a[h],a[c],a[k],!0),m>f&&(g=h,f=m);f>e&&(b[g]=1,this._simplifyDPStep(a,b,e,c,g),this._simplifyDPStep(a,b,e,g,k))},_reducePoints:function(a,b){for(var e=[a[0]],c=1,k=0,f=a.length;c<f;c++)this._sqDist(a[c],a[k])>b&&(e.push(a[c]),k=c);k<f-1&&e.push(a[f-1]);return e},clipSegment:function(a,b,e,c){c=c?this._lastCode:this._getBitCode(a,e);var k=this._getBitCode(b,e),f,g,h;for(this._lastCode=k;;)if(c|k){if(c&k)return!1;f=c||k;g=this._getEdgeIntersection(a,b,f,e);h=
this._getBitCode(g,e);f===c?(a=g,c=h):(b=g,k=h)}else return[a,b]},_getEdgeIntersection:function(a,d,e,c){var k=d.x-a.x;d=d.y-a.y;var f=c.min;c=c.max;if(e&8)return new b.Point(a.x+k*(c.y-a.y)/d,c.y);if(e&4)return new b.Point(a.x+k*(f.y-a.y)/d,f.y);if(e&2)return new b.Point(c.x,a.y+d*(c.x-a.x)/k);if(e&1)return new b.Point(f.x,a.y+d*(f.x-a.x)/k)},_getBitCode:function(a,b){var e=0;a.x<b.min.x?e|=1:a.x>b.max.x&&(e|=2);a.y<b.min.y?e|=4:a.y>b.max.y&&(e|=8);return e},_sqDist:function(a,b){var e=b.x-a.x,c=
b.y-a.y;return e*e+c*c},_sqClosestPointOnSegment:function(a,d,e,c){var f=d.x;d=d.y;var g=e.x-f,h=e.y-d,m=g*g+h*h;0<m&&(m=((a.x-f)*g+(a.y-d)*h)/m,1<m?(f=e.x,d=e.y):0<m&&(f+=g*m,d+=h*m));g=a.x-f;h=a.y-d;return c?g*g+h*h:new b.Point(f,d)}};b.Polyline=b.Path.extend({initialize:function(a,d){b.Path.prototype.initialize.call(this,d);this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;a<b;a++)this._originalPoints[a]=
this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,e="";a<b;a++)e+=this._getPathPartStr(this._parts[a]);return e},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._latlngs=this._convertLatLngs(a);return this.redraw()},addLatLng:function(a){this._latlngs.push(b.latLng(a));return this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,!0);this.redraw();return a},
closestLayerPoint:function(a){for(var d=Infinity,e=this._parts,c,f,g=null,h=0,m=e.length;h<m;h++)for(var y=e[h],H=1,A=y.length;H<A;H++){c=y[H-1];f=y[H];var I=b.LineUtil._sqClosestPointOnSegment(a,c,f,!0);I<d&&(d=I,g=b.LineUtil._sqClosestPointOnSegment(a,c,f))}g&&(g.distance=Math.sqrt(d));return g},getBounds:function(){return new b.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,d){var e,c,f=d?a:[];e=0;for(c=a.length;e<c;e++){if(b.Util.isArray(a[e])&&"number"!==typeof a[e][0])return;f[e]=
b.latLng(a[e])}return f},_initEvents:function(){b.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var d=b.Path.VML,e=0,c=a.length,f="",g;e<c;e++)g=a[e],d&&g._round(),f+=(e?"L":"M")+g.x+" "+g.y;return f},_clipPoints:function(){var a=this._originalPoints,d=a.length,e,c,f;if(this.options.noClip)this._parts=[a];else{var g=this._parts=[],h=this._map._pathViewport,m=b.LineUtil;for(c=e=0;e<d-1;e++)if(f=m.clipSegment(a[e],a[e+1],h,e))if(g[c]=g[c]||[],g[c].push(f[0]),f[1]!==a[e+1]||
e===d-2)g[c].push(f[1]),c++}},_simplifyPoints:function(){for(var a=this._parts,d=b.LineUtil,e=0,c=a.length;e<c;e++)a[e]=d.simplify(a[e],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),b.Path.prototype._updatePath.call(this))}});b.polyline=function(a,d){return new b.Polyline(a,d)};b.PolyUtil={};b.PolyUtil.clipPolygon=function(a,d){var e,c=[1,4,2,8],f,g,h,m,y,H,A=b.LineUtil;f=0;for(y=a.length;f<y;f++)a[f]._code=A._getBitCode(a[f],d);for(h=0;4>
h;h++){H=c[h];e=[];f=0;y=a.length;for(g=y-1;f<y;g=f++)(m=a[f],g=a[g],m._code&H)?g._code&H||(g=A._getEdgeIntersection(g,m,H,d),g._code=A._getBitCode(g,d),e.push(g)):(g._code&H&&(g=A._getEdgeIntersection(g,m,H,d),g._code=A._getBitCode(g,d),e.push(g)),e.push(m));a=e}return a};b.Polygon=b.Polyline.extend({options:{fill:!0},initialize:function(a,d){b.Polyline.prototype.initialize.call(this,a,d);this._initWithHoles(a)},_initWithHoles:function(a){var d,e;if(a&&b.Util.isArray(a[0])&&"number"!==typeof a[0][0])for(this._latlngs=
this._convertLatLngs(a[0]),this._holes=a.slice(1),a=0,d=this._holes.length;a<d;a++)e=this._holes[a]=this._convertLatLngs(this._holes[a]),e[0].equals(e[e.length-1])&&e.pop();a=this._latlngs;2<=a.length&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){b.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(this._holes){var a,d,e,c;a=0;for(e=this._holes.length;a<e;a++)for(this._holePoints[a]=[],d=0,c=this._holes[a].length;d<c;d++)this._holePoints[a][d]=this._map.latLngToLayerPoint(this._holes[a][d])}},
setLatLngs:function(a){return a&&b.Util.isArray(a[0])&&"number"!==typeof a[0][0]?(this._initWithHoles(a),this.redraw()):b.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=[];this._parts=[this._originalPoints].concat(this._holePoints);if(!this.options.noClip){for(var d=0,e=this._parts.length;d<e;d++){var c=b.PolyUtil.clipPolygon(this._parts[d],this._map._pathViewport);c.length&&a.push(c)}this._parts=a}},_getPathPartStr:function(a){return b.Polyline.prototype._getPathPartStr.call(this,
a)+(b.Browser.svg?"z":"x")}});b.polygon=function(a,d){return new b.Polygon(a,d)};(function(){function a(a){return b.FeatureGroup.extend({initialize:function(a,b){this._layers={};this._options=b;this.setLatLngs(a)},setLatLngs:function(b){var c=0,f=b.length;for(this.eachLayer(function(a){c<f?a.setLatLngs(b[c++]):this.removeLayer(a)},this);c<f;)this.addLayer(new a(b[c++],this._options));return this},getLatLngs:function(){var a=[];this.eachLayer(function(b){a.push(b.getLatLngs())});return a}})}b.MultiPolyline=
a(b.Polyline);b.MultiPolygon=a(b.Polygon);b.multiPolyline=function(a,e){return new b.MultiPolyline(a,e)};b.multiPolygon=function(a,e){return new b.MultiPolygon(a,e)}})();b.Rectangle=b.Polygon.extend({initialize:function(a,d){b.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=b.latLngBounds(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});b.rectangle=function(a,
d){return new b.Rectangle(a,d)};b.Circle=b.Path.extend({initialize:function(a,d,e){b.Path.prototype.initialize.call(this,e);this._latlng=b.latLng(a);this._mRadius=d},options:{fill:!0},setLatLng:function(a){this._latlng=b.latLng(a);return this.redraw()},setRadius:function(a){this._mRadius=a;return this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,a=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-
a.x,1)},getBounds:function(){var a=this._getLngRadius(),d=360*(this._mRadius/40075017),e=this._latlng;return new b.LatLngBounds([e.lat-d,e.lng-a],[e.lat+d,e.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,d=this._radius;if(this._checkIfEmpty())return"";if(b.Browser.svg)return"M"+a.x+","+(a.y-d)+"A"+d+","+d+",0,1,1,"+(a.x-0.1)+","+(a.y-d)+" z";a._round();d=Math.round(d);return"AL "+a.x+","+a.y+" "+d+","+d+" 0,23592600"},getRadius:function(){return this._mRadius},
_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(b.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,e=this._point;return e.x-b>a.max.x||e.y-b>a.max.y||e.x+b<a.min.x||e.y+b<a.min.y}});b.circle=function(a,d,e){return new b.Circle(a,d,e)};b.CircleMarker=b.Circle.extend({options:{radius:10,weight:2},initialize:function(a,d){b.Circle.prototype.initialize.call(this,
a,null,d);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){b.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(a){b.Circle.prototype.setLatLng.call(this,a);this._popup&&this._popup._isOpen&&this._popup.setLatLng(a);return this},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius}});b.circleMarker=
function(a,d){return new b.CircleMarker(a,d)};b.Polyline.include(b.Path.CANVAS?{_containsPoint:function(a,d){var e,c,f,g,h,m,y=this.options.weight/2;b.Browser.touch&&(y+=10);e=0;for(g=this._parts.length;e<g;e++)for(m=this._parts[e],c=0,h=m.length,f=h-1;c<h;f=c++)if(d||0!==c)if(f=b.LineUtil.pointToSegmentDistance(a,m[f],m[c]),f<=y)return!0;return!1}}:{});b.Polygon.include(b.Path.CANVAS?{_containsPoint:function(a){var d=!1,e,c,f,g,h,m,y;if(b.Polyline.prototype._containsPoint.call(this,a,!0))return!0;
g=0;for(m=this._parts.length;g<m;g++)for(e=this._parts[g],h=0,y=e.length,f=y-1;h<y;f=h++)c=e[h],f=e[f],c.y>a.y!==f.y>a.y&&a.x<(f.x-c.x)*(a.y-c.y)/(f.y-c.y)+c.x&&(d=!d);return d}}:{});b.Circle.include(b.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this.options.stroke?this.options.weight/2:0;return a.distanceTo(this._point)<=this._radius+b}}:{});b.CircleMarker.include(b.Path.CANVAS?{_updateStyle:function(){b.Path.prototype._updateStyle.call(this)}}:
{});b.GeoJSON=b.FeatureGroup.extend({initialize:function(a,d){b.setOptions(this,d);this._layers={};a&&this.addData(a)},addData:function(a){var d=b.Util.isArray(a)?a:a.features,e,c;if(d){a=0;for(e=d.length;a<e;a++)c=d[a],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(d[a]);return this}d=this.options;if(!d.filter||d.filter(a)){e=b.GeoJSON.geometryToLayer(a,d.pointToLayer,d.coordsToLatLng,d);e.feature=b.GeoJSON.asFeature(a);e.defaultOptions=e.options;this.resetStyle(e);if(d.onEachFeature)d.onEachFeature(a,
e);return this.addLayer(e)}},resetStyle:function(a){var d=this.options.style;d&&(b.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,d))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"===typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}});b.extend(b.GeoJSON,{geometryToLayer:function(a,d,e,c){var f="Feature"===a.type?a.geometry:a,g=f.coordinates,h=[],m,y;e=e||this.coordsToLatLng;switch(f.type){case "Point":return c=
e(g),d?d(a,c):new b.Marker(c);case "MultiPoint":m=0;for(y=g.length;m<y;m++)c=e(g[m]),h.push(d?d(a,c):new b.Marker(c));return new b.FeatureGroup(h);case "LineString":return a=this.coordsToLatLngs(g,0,e),new b.Polyline(a,c);case "Polygon":if(2===g.length&&!g[1].length)throw Error("Invalid GeoJSON object.");a=this.coordsToLatLngs(g,1,e);return new b.Polygon(a,c);case "MultiLineString":return a=this.coordsToLatLngs(g,1,e),new b.MultiPolyline(a,c);case "MultiPolygon":return a=this.coordsToLatLngs(g,2,
e),new b.MultiPolygon(a,c);case "GeometryCollection":m=0;for(y=f.geometries.length;m<y;m++)h.push(this.geometryToLayer({geometry:f.geometries[m],type:"Feature",properties:a.properties},d,e,c));return new b.FeatureGroup(h);default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(a){return new b.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,e){var c,f,g,h=[];f=0;for(g=a.length;f<g;f++)c=b?this.coordsToLatLngs(a[f],b-1,e):(e||this.coordsToLatLng)(a[f]),h.push(c);return h},latLngToCoords:function(a){var b=
[a.lng,a.lat];a.alt!==m&&b.push(a.alt);return b},latLngsToCoords:function(a){for(var d=[],e=0,c=a.length;e<c;e++)d.push(b.GeoJSON.latLngToCoords(a[e]));return d},getFeature:function(a,d){return a.feature?b.extend({},a.feature,{geometry:d}):b.GeoJSON.asFeature(d)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var f={toGeoJSON:function(){return b.GeoJSON.getFeature(this,{type:"Point",coordinates:b.GeoJSON.latLngToCoords(this.getLatLng())})}};b.Marker.include(f);
b.Circle.include(f);b.CircleMarker.include(f);b.Polyline.include({toGeoJSON:function(){return b.GeoJSON.getFeature(this,{type:"LineString",coordinates:b.GeoJSON.latLngsToCoords(this.getLatLngs())})}});b.Polygon.include({toGeoJSON:function(){var a=[b.GeoJSON.latLngsToCoords(this.getLatLngs())],d,e,c;a[0].push(a[0][0]);if(this._holes)for(d=0,e=this._holes.length;d<e;d++)c=b.GeoJSON.latLngsToCoords(this._holes[d]),c.push(c[0]),a.push(c);return b.GeoJSON.getFeature(this,{type:"Polygon",coordinates:a})}});
(function(){function a(a){return function(){var c=[];this.eachLayer(function(a){c.push(a.toGeoJSON().geometry.coordinates)});return b.GeoJSON.getFeature(this,{type:a,coordinates:c})}}b.MultiPolyline.include({toGeoJSON:a("MultiLineString")});b.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});b.LayerGroup.include({toGeoJSON:function(){var d=this.feature&&this.feature.geometry,c=[],f;if(d&&"MultiPoint"===d.type)return a("MultiPoint").call(this);var k=d&&"GeometryCollection"===d.type;this.eachLayer(function(a){a.toGeoJSON&&
(f=a.toGeoJSON(),c.push(k?f.geometry:b.GeoJSON.asFeature(f)))});return k?b.GeoJSON.getFeature(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}})})();b.geoJson=function(a,d){return new b.GeoJSON(a,d)};b.DomEvent={addListener:function(a,d,c,f){var k=b.stamp(c),g="_leaflet_"+d+k,h,m;if(a[g])return this;h=function(d){return c.call(f||a,d||b.DomEvent._getEvent())};if(b.Browser.pointer&&0===d.indexOf("touch"))return this.addPointerListener(a,d,h,k);b.Browser.touch&&
"dblclick"===d&&this.addDoubleTapListener&&this.addDoubleTapListener(a,h,k);"addEventListener"in a?"mousewheel"===d?(a.addEventListener("DOMMouseScroll",h,!1),a.addEventListener(d,h,!1)):"mouseenter"===d||"mouseleave"===d?(m=h,h=function(d){if(b.DomEvent._checkMouse(a,d))return m(d)},a.addEventListener("mouseenter"===d?"mouseover":"mouseout",h,!1)):("click"===d&&b.Browser.android&&(m=h,h=function(a){return b.DomEvent._filterClick(a,m)}),a.addEventListener(d,h,!1)):"attachEvent"in a&&a.attachEvent("on"+
d,h);a[g]=h;return this},removeListener:function(a,d,c){c=b.stamp(c);var f="_leaflet_"+d+c,k=a[f];if(!k)return this;b.Browser.pointer&&0===d.indexOf("touch")?this.removePointerListener(a,d,c):b.Browser.touch&&"dblclick"===d&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,c):"removeEventListener"in a?"mousewheel"===d?(a.removeEventListener("DOMMouseScroll",k,!1),a.removeEventListener(d,k,!1)):"mouseenter"===d||"mouseleave"===d?a.removeEventListener("mouseenter"===d?"mouseover":"mouseout",
k,!1):a.removeEventListener(d,k,!1):"detachEvent"in a&&a.detachEvent("on"+d,k);a[f]=null;return this},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;b.DomEvent._skipped(a);return this},disableScrollPropagation:function(a){var d=b.DomEvent.stopPropagation;return b.DomEvent.on(a,"mousewheel",d).on(a,"MozMousePixelScroll",d)},disableClickPropagation:function(a){for(var d=b.DomEvent.stopPropagation,c=b.Draggable.START.length-1;0<=c;c--)b.DomEvent.on(a,b.Draggable.START[c],
d);return b.DomEvent.on(a,"click",b.DomEvent._fakeStop).on(a,"dblclick",d)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return b.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,d){var c=g.body,f=g.documentElement,k=b.DomUtil.documentIsLtr()?a.pageX?a.pageX-c.scrollLeft-f.scrollLeft:a.clientX:b.Browser.gecko?a.pageX-c.scrollLeft-f.scrollLeft:a.pageX?a.pageX-c.scrollLeft+f.scrollLeft:a.clientX,c=new b.Point(k,
a.pageY?a.pageY-c.scrollTop-f.scrollTop:a.clientY);if(!d)return c;f=d.getBoundingClientRect();return c._subtract(new b.Point(f.left-d.clientLeft,f.top-d.clientTop))},getWheelDelta:function(a){var b=0;a.wheelDelta&&(b=a.wheelDelta/120);a.detail&&(b=-a.detail/3);return b},_skipEvents:{},_fakeStop:function(a){b.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];this._skipEvents[a.type]=!1;return b},_checkMouse:function(a,b){var c=b.relatedTarget;if(!c)return!0;try{for(;c&&
c!==a;)c=c.parentNode}catch(f){return!1}return c!==a},_getEvent:function(){var a=h.event;if(!a)for(var b=arguments.callee.caller;b&&(!(a=b.arguments[0])||h.Event!==a.constructor);)b=b.caller;return a},_filterClick:function(a,d){var c=a.timeStamp||a.originalEvent.timeStamp,f=b.DomEvent._lastClick&&c-b.DomEvent._lastClick;if(f&&100<f&&1E3>f||a.target._simulatedClick&&!a._simulated)b.DomEvent.stop(a);else return b.DomEvent._lastClick=c,d(a)}};b.DomEvent.on=b.DomEvent.addListener;b.DomEvent.off=b.DomEvent.removeListener;
b.Draggable=b.Class.extend({includes:b.Mixin.Events,statics:{START:b.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a;this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=b.Draggable.START.length-1;0<=a;a--)b.DomEvent.on(this._dragStartTarget,
b.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=b.Draggable.START.length-1;0<=a;a--)b.DomEvent.off(this._dragStartTarget,b.Draggable.START[a],this._onDown,this);this._moved=this._enabled=!1}},_onDown:function(a){this._moved=!1;if(!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(b.DomEvent.stopPropagation(a),b.Draggable._disabled||(b.DomUtil.disableImageDrag(),b.DomUtil.disableTextSelection(),this._moving)))){var d=a.touches?a.touches[0]:
a;this._startPoint=new b.Point(d.clientX,d.clientY);this._startPos=this._newPos=b.DomUtil.getPosition(this._element);b.DomEvent.on(g,b.Draggable.MOVE[a.type],this._onMove,this).on(g,b.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(a.touches&&1<a.touches.length)this._moved=!0;else{var d=a.touches&&1===a.touches.length?a.touches[0]:a,d=(new b.Point(d.clientX,d.clientY)).subtract(this._startPoint);if(d.x||d.y)b.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=
!0,this._startPos=b.DomUtil.getPosition(this._element).subtract(d),b.DomUtil.addClass(g.body,"leaflet-dragging"),b.DomUtil.addClass(a.target||a.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,b.Util.cancelAnimFrame(this._animRequest),this._animRequest=b.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)}},_updatePosition:function(){this.fire("predrag");b.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(a){b.DomUtil.removeClass(g.body,
"leaflet-dragging");b.DomUtil.removeClass(a.target||a.srcElement,"leaflet-drag-target");for(var d in b.Draggable.MOVE)b.DomEvent.off(g,b.Draggable.MOVE[d],this._onMove).off(g,b.Draggable.END[d],this._onUp);b.DomUtil.enableImageDrag();b.DomUtil.enableTextSelection();this._moved&&this._moving&&(b.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});b.Handler=b.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||
(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});b.Map.mergeOptions({dragging:!0,inertia:!b.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:b.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1});b.Map.Drag=b.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new b.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,
drag:this._onDrag,dragend:this._onDragEnd},this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=
[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);200<a-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,
b=Math.round(a/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,k=(f-b+c)%a+b-c,a=(f+b+c)%a-b-c,c=Math.abs(k+c)<Math.abs(a+c)?k:a;this._draggable._newPos.x=c},_onDragEnd:function(a){var d=this._map,c=d.options,f=+new Date-this._lastTime,k=!c.inertia||f>c.inertiaThreshold||!this._positions[0];d.fire("dragend",a);if(k)d.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var g=c.easeLinearity;a=a.multiplyBy(g/((this._lastTime+f-this._times[0])/1E3));k=a.distanceTo([0,0]);f=Math.min(c.inertiaMaxSpeed,
k);a=a.multiplyBy(f/k);var h=f/(c.inertiaDeceleration*g),m=a.multiplyBy(-h/2).round();m.x&&m.y?(m=d._limitOffset(m,d.options.maxBounds),b.Util.requestAnimFrame(function(){d.panBy(m,{duration:h,easeLinearity:g,noMoveStart:!0})})):d.fire("moveend")}}});b.Map.addInitHook("addHandler","dragging",b.Map.Drag);b.Map.mergeOptions({doubleClickZoom:!0});b.Map.DoubleClickZoom=b.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",
this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,c=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(c):b.setZoomAround(a.containerPoint,c)}});b.Map.addInitHook("addHandler","doubleClickZoom",b.Map.DoubleClickZoom);b.Map.mergeOptions({scrollWheelZoom:!0});b.Map.ScrollWheelZoom=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);b.DomEvent.on(this._map._container,"MozMousePixelScroll",
b.DomEvent.preventDefault);this._delta=0},removeHooks:function(){b.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll);b.DomEvent.off(this._map._container,"MozMousePixelScroll",b.DomEvent.preventDefault)},_onWheelScroll:function(a){var d=b.DomEvent.getWheelDelta(a);this._delta+=d;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);d=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(b.bind(this._performZoom,
this),d);b.DomEvent.preventDefault(a);b.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,c=a.getZoom(),b=0<b?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(c+b)-c;this._delta=0;this._startTime=null;b&&("center"===a.options.scrollWheelZoom?a.setZoom(c+b):a.setZoomAround(this._lastMousePos,c+b))}});b.Map.addInitHook("addHandler","scrollWheelZoom",b.Map.ScrollWheelZoom);b.extend(b.DomEvent,{_touchstart:b.Browser.msPointer?"MSPointerDown":b.Browser.pointer?
"pointerdown":"touchstart",_touchend:b.Browser.msPointer?"MSPointerUp":b.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,d,c){function f(a){var d;b.Browser.pointer?(I.push(a.pointerId),d=I.length):d=a.touches.length;if(!(1<d)){d=Date.now();var c=d-(h||d);y=a.touches?a.touches[0]:a;m=0<c&&c<=v;h=d}}function k(a){if(b.Browser.pointer){a=I.indexOf(a.pointerId);if(-1===a)return;I.splice(a,1)}if(m){if(b.Browser.pointer){a={};var c,e;for(e in y)c=y[e],a[e]="function"===typeof c?c.bind(y):
c;y=a}y.type="dblclick";d(y);h=null}}var h,m=!1,v=250,y,H=this._touchstart,A=this._touchend,I=[];a["_leaflet_"+H+c]=f;a["_leaflet_"+A+c]=k;c=b.Browser.pointer?g.documentElement:a;a.addEventListener(H,f,!1);c.addEventListener(A,k,!1);b.Browser.pointer&&c.addEventListener(b.DomEvent.POINTER_CANCEL,k,!1);return this},removeDoubleTapListener:function(a,d){a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+d],!1);(b.Browser.pointer?g.documentElement:a).removeEventListener(this._touchend,
a["_leaflet_"+this._touchend+d],!1);b.Browser.pointer&&g.documentElement.removeEventListener(b.DomEvent.POINTER_CANCEL,a["_leaflet_"+this._touchend+d],!1);return this}});b.extend(b.DomEvent,{POINTER_DOWN:b.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:b.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:b.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:b.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,
b,c,f){switch(b){case "touchstart":return this.addPointerListenerStart(a,b,c,f);case "touchend":return this.addPointerListenerEnd(a,b,c,f);case "touchmove":return this.addPointerListenerMove(a,b,c,f);default:throw"Unknown touch event type";}},addPointerListenerStart:function(a,d,c,f){var k=this._pointers;d=function(a){b.DomEvent.preventDefault(a);for(var d=!1,f=0;f<k.length;f++)if(k[f].pointerId===a.pointerId){d=!0;break}d||k.push(a);a.touches=k.slice();a.changedTouches=[a];c(a)};a["_leaflet_touchstart"+
f]=d;a.addEventListener(this.POINTER_DOWN,d,!1);this._pointerDocumentListener||(a=function(a){for(var b=0;b<k.length;b++)if(k[b].pointerId===a.pointerId){k.splice(b,1);break}},g.documentElement.addEventListener(this.POINTER_UP,a,!1),g.documentElement.addEventListener(this.POINTER_CANCEL,a,!1),this._pointerDocumentListener=!0);return this},addPointerListenerMove:function(a,b,c,f){function k(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var b=0;b<g.length;b++)if(g[b].pointerId===
a.pointerId){g[b]=a;break}a.touches=g.slice();a.changedTouches=[a];c(a)}}var g=this._pointers;a["_leaflet_touchmove"+f]=k;a.addEventListener(this.POINTER_MOVE,k,!1);return this},addPointerListenerEnd:function(a,b,c,f){var k=this._pointers;b=function(a){for(var b=0;b<k.length;b++)if(k[b].pointerId===a.pointerId){k.splice(b,1);break}a.touches=k.slice();a.changedTouches=[a];c(a)};a["_leaflet_touchend"+f]=b;a.addEventListener(this.POINTER_UP,b,!1);a.addEventListener(this.POINTER_CANCEL,b,!1);return this},
removePointerListener:function(a,b,c){c=a["_leaflet_"+b+c];switch(b){case "touchstart":a.removeEventListener(this.POINTER_DOWN,c,!1);break;case "touchmove":a.removeEventListener(this.POINTER_MOVE,c,!1);break;case "touchend":a.removeEventListener(this.POINTER_UP,c,!1),a.removeEventListener(this.POINTER_CANCEL,c,!1)}return this}});b.Map.mergeOptions({touchZoom:b.Browser.touch&&!b.Browser.android23,bounceAtZoomLimits:!0});b.Map.TouchZoom=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,
"touchstart",this._onTouchStart,this)},removeHooks:function(){b.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(a.touches&&2===a.touches.length&&!d._animatingZoom&&!this._zooming){var c=d.mouseEventToLayerPoint(a.touches[0]),f=d.mouseEventToLayerPoint(a.touches[1]),k=d._getCenterLayerPoint();this._startCenter=c.add(f)._divideBy(2);this._startDist=c.distanceTo(f);this._moved=!1;this._zooming=!0;this._centerOffset=k.subtract(this._startCenter);
d._panAnim&&d._panAnim.stop();b.DomEvent.on(g,"touchmove",this._onTouchMove,this).on(g,"touchend",this._onTouchEnd,this);b.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var d=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var c=d.mouseEventToLayerPoint(a.touches[0]),f=d.mouseEventToLayerPoint(a.touches[1]);this._scale=c.distanceTo(f)/this._startDist;this._delta=c._add(f)._divideBy(2)._subtract(this._startCenter);1===this._scale||!d.options.bounceAtZoomLimits&&(d.getZoom()===
d.getMinZoom()&&1>this._scale||d.getZoom()===d.getMaxZoom()&&1<this._scale)||(this._moved||(b.DomUtil.addClass(d._mapPane,"leaflet-touching"),d.fire("movestart").fire("zoomstart"),this._moved=!0),b.Util.cancelAnimFrame(this._animRequest),this._animRequest=b.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),b.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),b=a.layerPointToLatLng(b),c=a.getScaleZoom(this._scale);a._animateZoom(b,c,
this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(this._moved&&this._zooming){var a=this._map;this._zooming=!1;b.DomUtil.removeClass(a._mapPane,"leaflet-touching");b.Util.cancelAnimFrame(this._animRequest);b.DomEvent.off(g,"touchmove",this._onTouchMove).off(g,"touchend",this._onTouchEnd);var d=this._getScaleOrigin(),c=a.layerPointToLatLng(d),f=a.getZoom(),k=a.getScaleZoom(this._scale)-f,k=0<k?Math.ceil(k):Math.floor(k),f=a._limitZoom(f+k),k=a.getZoomScale(f)/this._scale;a._animateZoom(c,
f,d,k)}else this._zooming=!1},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});b.Map.addInitHook("addHandler","touchZoom",b.Map.TouchZoom);b.Map.mergeOptions({tap:!0,tapTolerance:15});b.Map.Tap=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){b.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches)if(b.DomEvent.preventDefault(a),
this._fireClick=!0,1<a.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var d=a.touches[0];a=d.target;this._startPos=this._newPos=new b.Point(d.clientX,d.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&b.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(b.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",d))},this),1E3);b.DomEvent.on(g,"touchmove",this._onMove,this).on(g,"touchend",this._onUp,this)}},_onUp:function(a){clearTimeout(this._holdTimeout);
b.DomEvent.off(g,"touchmove",this._onMove,this).off(g,"touchend",this._onUp,this);if(this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var d=a.target;d&&d.tagName&&"a"===d.tagName.toLowerCase()&&b.DomUtil.removeClass(d,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new b.Point(a.clientX,a.clientY)},_simulateEvent:function(a,
b){var c=g.createEvent("MouseEvents");c._simulated=!0;b.target._simulatedClick=!0;c.initMouseEvent(a,!0,!0,h,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(c)}});b.Browser.touch&&!b.Browser.pointer&&b.Map.addInitHook("addHandler","tap",b.Map.Tap);b.Map.mergeOptions({boxZoom:!0});b.Map.BoxZoom=b.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._moved=!1},addHooks:function(){b.DomEvent.on(this._container,
"mousedown",this._onMouseDown,this)},removeHooks:function(){b.DomEvent.off(this._container,"mousedown",this._onMouseDown);this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){this._moved=!1;if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;b.DomUtil.disableTextSelection();b.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(a);b.DomEvent.on(g,"mousemove",this._onMouseMove,this).on(g,"mouseup",this._onMouseUp,this).on(g,"keydown",this._onKeyDown,
this)},_onMouseMove:function(a){this._moved||(this._box=b.DomUtil.create("div","leaflet-zoom-box",this._pane),b.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var d=this._startLayerPoint,c=this._box,f=this._map.mouseEventToLayerPoint(a);a=f.subtract(d);d=new b.Point(Math.min(f.x,d.x),Math.min(f.y,d.y));b.DomUtil.setPosition(c,d);this._moved=!0;c.style.width=Math.max(0,Math.abs(a.x)-4)+"px";c.style.height=Math.max(0,Math.abs(a.y)-
4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor="");b.DomUtil.enableTextSelection();b.DomUtil.enableImageDrag();b.DomEvent.off(g,"mousemove",this._onMouseMove).off(g,"mouseup",this._onMouseUp).off(g,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var d=this._map;a=d.mouseEventToLayerPoint(a);this._startLayerPoint.equals(a)||(a=new b.LatLngBounds(d.layerPointToLatLng(this._startLayerPoint),d.layerPointToLatLng(a)),d.fitBounds(a),
d.fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});b.Map.addInitHook("addHandler","boxZoom",b.Map.BoxZoom);b.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});b.Map.Keyboard=b.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=
this._map._container;-1===a.tabIndex&&(a.tabIndex="0");b.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;b.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,
this)},_onMouseDown:function(){if(!this._focused){var a=g.body,b=g.documentElement,c=a.scrollTop||b.scrollTop,a=a.scrollLeft||b.scrollLeft;this._map._container.focus();h.scrollTo(a,c)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanOffset:function(a){var b=this._panKeys={},c=this.keyCodes,f,k;f=0;for(k=c.left.length;f<k;f++)b[c.left[f]]=[-1*a,0];f=0;for(k=c.right.length;f<k;f++)b[c.right[f]]=[a,0];f=0;for(k=c.down.length;f<
k;f++)b[c.down[f]]=[0,a];f=0;for(k=c.up.length;f<k;f++)b[c.up[f]]=[0,-1*a]},_setZoomOffset:function(a){var b=this._zoomKeys={},c=this.keyCodes,f,k;f=0;for(k=c.zoomIn.length;f<k;f++)b[c.zoomIn[f]]=a;f=0;for(k=c.zoomOut.length;f<k;f++)b[c.zoomOut[f]]=-a},_addHooks:function(){b.DomEvent.on(g,"keydown",this._onKeyDown,this)},_removeHooks:function(){b.DomEvent.off(g,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var c=a.keyCode,e=this._map;if(c in this._panKeys){if(e._panAnim&&e._panAnim._inProgress)return;
e.panBy(this._panKeys[c]);e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds)}else if(c in this._zoomKeys)e.setZoom(e.getZoom()+this._zoomKeys[c]);else return;b.DomEvent.stop(a)}});b.Map.addInitHook("addHandler","keyboard",b.Map.Keyboard);b.Handler.MarkerDrag=b.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new b.Draggable(a,a));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,
this).on("dragend",this._onDragEnd,this);this._draggable.enable();b.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();b.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},
_onDrag:function(){var a=this._marker,c=a._shadow,e=b.DomUtil.getPosition(a._icon),f=a._map.layerPointToLatLng(e);c&&b.DomUtil.setPosition(c,e);a._latlng=f;a.fire("move",{latlng:f}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});b.Control=b.Class.extend({options:{position:"topright"},initialize:function(a){b.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;b&&b.removeControl(this);this.options.position=
a;b&&b.addControl(this);return this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var c=this._container=this.onAdd(a),e=this.getPosition();a=a._controlCorners[e];b.DomUtil.addClass(c,"leaflet-control");-1!==e.indexOf("bottom")?a.insertBefore(c,a.firstChild):a.appendChild(c);return this},removeFrom:function(a){var b=this.getPosition();a._controlCorners[b].removeChild(this._container);this._map=null;if(this.onRemove)this.onRemove(a);return this},_refocusOnMap:function(){this._map&&
this._map.getContainer().focus()}});b.control=function(a){return new b.Control(a)};b.Map.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.removeFrom(this);return this},_initControlPos:function(){function a(a,g){c[a+g]=b.DomUtil.create("div",e+a+" "+e+g,f)}var c=this._controlCorners={},e="leaflet-",f=this._controlContainer=b.DomUtil.create("div",e+"control-container",this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});
b.Control.Zoom=b.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var c=b.DomUtil.create("div","leaflet-control-zoom leaflet-bar");this._map=a;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,"leaflet-control-zoom-in",c,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,"leaflet-control-zoom-out",c,this._zoomOut,
this);this._updateDisabled();a.on("zoomend zoomlevelschange",this._updateDisabled,this);return c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,c,e,f,k,g){e=b.DomUtil.create("a",e,f);e.innerHTML=a;e.href="#";e.title=c;a=b.DomEvent.stopPropagation;b.DomEvent.on(e,"click",a).on(e,"mousedown",a).on(e,"dblclick",a).on(e,"click",b.DomEvent.preventDefault).on(e,
"click",k,g).on(e,"click",this._refocusOnMap,g);return e},_updateDisabled:function(){var a=this._map;b.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");b.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMinZoom()&&b.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMaxZoom()&&b.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});b.Map.mergeOptions({zoomControl:!0});b.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=
new b.Control.Zoom,this.addControl(this.zoomControl))});b.control.zoom=function(a){return new b.Control.Zoom(a)};b.Control.Attribution=b.Control.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"http://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},initialize:function(a){b.setOptions(this,a);this._attributions={}},onAdd:function(a){this._container=b.DomUtil.create("div","leaflet-control-attribution");b.DomEvent.disableClickPropagation(this._container);
for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);this._update();return this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(a)return this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,
this._update(),this},removeAttribution:function(a){if(a)return this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a=[],b;for(b in this._attributions)this._attributions[b]&&a.push(b);b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&
this.removeAttribution(a.layer.getAttribution())}});b.Map.mergeOptions({attributionControl:!0});b.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new b.Control.Attribution).addTo(this))});b.control.attribution=function(a){return new b.Control.Attribution(a)};b.Control.Scale=b.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var c=b.DomUtil.create("div","leaflet-control-scale"),e=
this.options;this._addScales(e,"leaflet-control-scale",c);a.on(e.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,e){a.metric&&(this._mScale=b.DomUtil.create("div",c+"-line",e));a.imperial&&(this._iScale=b.DomUtil.create("div",c+"-line",e))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,a=6378137*Math.PI*Math.cos(b*Math.PI/
180)*(a.getNorthEast().lng-a.getSouthWest().lng)/180,b=this._map.getSize(),c=this.options,f=0;0<b.x&&(f=a*(c.maxWidth/b.x));this._updateScales(c,f)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b);a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=1E3>b?b+" m":b/1E3+" km"},_updateImperial:function(a){var b=3.2808399*a;a=this._iScale;var c;5280<b?(b/=5280,c=this._getRoundNum(b),
a.style.width=this._getScaleWidth(c/b)+"px",a.innerHTML=c+" mi"):(c=this._getRoundNum(b),a.style.width=this._getScaleWidth(c/b)+"px",a.innerHTML=c+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return b*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}});b.control.scale=function(a){return new b.Control.Scale(a)};b.Control.Layers=b.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},
initialize:function(a,c,e){b.setOptions(this,e);this._layers={};this._lastZIndex=0;this._handlingClick=!1;for(var f in a)this._addLayer(a[f],f);for(f in c)this._addLayer(c[f],f,!0)},onAdd:function(a){this._initLayout();this._update();a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){this._addLayer(a,b);this._update();
return this},addOverlay:function(a,b){this._addLayer(a,b,!0);this._update();return this},removeLayer:function(a){a=b.stamp(a);delete this._layers[a];this._update();return this},_initLayout:function(){var a=this._container=b.DomUtil.create("div","leaflet-control-layers");a.setAttribute("aria-haspopup",!0);if(b.Browser.touch)b.DomEvent.on(a,"click",b.DomEvent.stopPropagation);else b.DomEvent.disableClickPropagation(a).disableScrollPropagation(a);var c=this._form=b.DomUtil.create("form","leaflet-control-layers-list");
if(this.options.collapsed){if(!b.Browser.android)b.DomEvent.on(a,"mouseover",this._expand,this).on(a,"mouseout",this._collapse,this);var e=this._layersLink=b.DomUtil.create("a","leaflet-control-layers-toggle",a);e.href="#";e.title="Layers";if(b.Browser.touch)b.DomEvent.on(e,"click",b.DomEvent.stop).on(e,"click",this._expand,this);else b.DomEvent.on(e,"focus",this._expand,this);b.DomEvent.on(c,"click",function(){setTimeout(b.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,
this)}else this._expand();this._baseLayersList=b.DomUtil.create("div","leaflet-control-layers-base",c);this._separator=b.DomUtil.create("div","leaflet-control-layers-separator",c);this._overlaysList=b.DomUtil.create("div","leaflet-control-layers-overlays",c);a.appendChild(c)},_addLayer:function(a,c,e){var f=b.stamp(a);this._layers[f]={layer:a,name:c,overlay:e};this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML=
"";this._overlaysList.innerHTML="";var a=!1,b=!1,c,f;for(c in this._layers)f=this._layers[c],this._addItem(f),b=b||f.overlay,a=a||!f.overlay;this._separator.style.display=b&&a?"":"none"}},_onLayerChange:function(a){var c=this._layers[b.stamp(a.layer)];c&&(this._handlingClick||this._update(),(a=c.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null)&&this._map.fire(a,c))},_createRadioElement:function(a,b){var c='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+
a+'"';b&&(c+=' checked\x3d"checked"');var c=c+"/\x3e",f=g.createElement("div");f.innerHTML=c;return f.firstChild},_addItem:function(a){var c=g.createElement("label"),e,f=this._map.hasLayer(a.layer);a.overlay?(e=g.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=f):e=this._createRadioElement("leaflet-base-layers",f);e.layerId=b.stamp(a.layer);b.DomEvent.on(e,"click",this._onInputClick,this);f=g.createElement("span");f.innerHTML=" "+a.name;c.appendChild(e);
c.appendChild(f);(a.overlay?this._overlaysList:this._baseLayersList).appendChild(c);return c},_onInputClick:function(){var a,b,c,f=this._form.getElementsByTagName("input"),k=f.length;this._handlingClick=!0;for(a=0;a<k;a++)b=f[a],c=this._layers[b.layerId],b.checked&&!this._map.hasLayer(c.layer)?this._map.addLayer(c.layer):!b.checked&&this._map.hasLayer(c.layer)&&this._map.removeLayer(c.layer);this._handlingClick=!1;this._refocusOnMap()},_expand:function(){b.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},
_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}});b.control.layers=function(a,c,e){return new b.Control.Layers(a,c,e)};b.PosAnimation=b.Class.extend({includes:b.Mixin.Events,run:function(a,c,e,f){this.stop();this._el=a;this._inProgress=!0;this._newPos=c;this.fire("start");a.style[b.DomUtil.TRANSITION]="all "+(e||0.25)+"s cubic-bezier(0,0,"+(f||0.5)+",1)";b.DomEvent.on(a,b.DomUtil.TRANSITION_END,this._onTransitionEnd,this);b.DomUtil.setPosition(a,
c);b.Util.falseFn(a.offsetWidth);this._stepTimer=setInterval(b.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(b.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),b.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();a?(this._el._leaflet_pos=a,this.fire("step")):this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,c;c=h.getComputedStyle(this._el);if(b.Browser.any3d){c=c[b.DomUtil.TRANSFORM].match(this._transformRe);
if(!c)return;a=parseFloat(c[1]);c=parseFloat(c[2])}else a=parseFloat(c.left),c=parseFloat(c.top);return new b.Point(a,c,!0)},_onTransitionEnd:function(){b.DomEvent.off(this._el,b.DomUtil.TRANSITION_END,this._onTransitionEnd,this);this._inProgress&&(this._inProgress=!1,this._el.style[b.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});b.Map.include({setView:function(a,c,e){c=c===m?this._zoom:this._limitZoom(c);a=this._limitCenter(b.latLng(a),
c,this.options.maxBounds);e=e||{};this._panAnim&&this._panAnim.stop();if(this._loaded&&!e.reset&&!0!==e&&(e.animate!==m&&(e.zoom=b.extend({animate:e.animate},e.zoom),e.pan=b.extend({animate:e.animate},e.pan)),this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,e.zoom):this._tryAnimatedPan(a,e.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(a,c);return this},panBy:function(a,c){a=b.point(a).round();c=c||{};if(!a.x&&!a.y)return this;this._panAnim||(this._panAnim=new b.PosAnimation,
this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this));c.noMoveStart||this.fire("movestart");if(!1!==c.animate){b.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,e,c.duration||0.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){b.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");
this.fire("moveend")},_tryAnimatedPan:function(a,b){var c=this._getCenterOffset(a)._floor();if(!0!==(b&&b.animate)&&!this.getSize().contains(c))return!1;this.panBy(c,b);return!0}});b.PosAnimation=b.DomUtil.TRANSITION?b.PosAnimation:b.PosAnimation.extend({run:function(a,c,e,f){this.stop();this._el=a;this._inProgress=!0;this._duration=e||0.25;this._easeOutPower=1/Math.max(f||0.5,0.2);this._startPos=b.DomUtil.getPosition(a);this._offset=c.subtract(this._startPos);this._startTime=+new Date;this.fire("start");
this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=b.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var a=+new Date-this._startTime,b=1E3*this._duration;a<b?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){a=this._startPos.add(this._offset.multiplyBy(a));b.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){b.Util.cancelAnimFrame(this._animId);
this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});b.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});b.DomUtil.TRANSITION&&b.Map.addInitHook(function(){if(this._zoomAnimated=this.options.zoomAnimation&&b.DomUtil.TRANSITION&&b.Browser.any3d&&!b.Browser.android23&&!b.Browser.mobileOpera)b.DomEvent.on(this._mapPane,b.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});b.Map.include(b.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&
0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;c=c||{};if(!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(b),k=this._getCenterOffset(a)._divideBy(1-1/f),g=this._getCenterLayerPoint()._add(k);if(!0!==
c.animate&&!this.getSize().contains(k))return!1;this.fire("movestart").fire("zoomstart");this._animateZoom(a,b,g,f,null,!0);return!0},_animateZoom:function(a,c,e,f,k,g){this._animatingZoom=!0;b.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=a;this._animateToZoom=c;b.Draggable&&(b.Draggable._disabled=!0);this.fire("zoomanim",{center:a,zoom:c,origin:e,scale:f,delta:k,backwards:g})},_onZoomTransitionEnd:function(){this._animatingZoom=!1;b.DomUtil.removeClass(this._mapPane,
"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);b.Draggable&&(b.Draggable._disabled=!1)}}:{});b.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var c=this._bgBuffer,e=b.DomUtil.TRANSFORM,f=a.delta?b.DomUtil.getTranslateString(a.delta):c.style[e],k=b.DomUtil.getScaleString(a.scale,a.origin);c.style[e]=a.backwards?k+" "+f:f+" "+k},_endZoomAnim:function(){var a=this._tileContainer,c=this._bgBuffer;a.style.visibility=
"";a.parentNode.appendChild(a);b.Util.falseFn(c.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[b.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,c=this._bgBuffer,e=this._getLoadedTilesPercentage(c),f=this._getLoadedTilesPercentage(a);c&&0.5<e&&0.5>f?(a.style.visibility="hidden",this._stopLoadingImages(a)):(c.style.visibility="hidden",c.style[b.DomUtil.TRANSFORM]=
"",this._tileContainer=c,c=this._bgBuffer=a,this._stopLoadingImages(c),clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(a){a=a.getElementsByTagName("img");var b,c,f=0;b=0;for(c=a.length;b<c;b++)a[b].complete&&f++;return f/c},_stopLoadingImages:function(a){a=Array.prototype.slice.call(a.getElementsByTagName("img"));var c,e,f;c=0;for(e=a.length;c<e;c++)f=a[c],f.complete||(f.onload=b.Util.falseFn,f.onerror=b.Util.falseFn,f.src=b.Util.emptyImageUrl,f.parentNode.removeChild(f))}});
b.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:Infinity,timeout:1E4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){a=this._locateOptions=b.extend(this._defaultLocateOptions,a);if(!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=b.bind(this._handleGeolocationResponse,this),e=b.bind(this._handleGeolocationError,this);a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,e,a):navigator.geolocation.getCurrentPosition(c,
e,a);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var c=a.coords.latitude,
e=a.coords.longitude,f=new b.LatLng(c,e),k=180*a.coords.accuracy/40075017,g=k/Math.cos(b.LatLng.DEG_TO_RAD*c),c=b.latLngBounds([c-k,e-g],[c+k,e+g]),e=this._locateOptions;e.setView&&(e=Math.min(this.getBoundsZoom(c),e.maxZoom),this.setView(f,e));var f={latlng:f,bounds:c,timestamp:a.timestamp},h;for(h in a.coords)"number"===typeof a.coords[h]&&(f[h]=a.coords[h]);this.fire("locationfound",f)}})})(window,document);
(function(h,g,m){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(c){L.Util.setOptions(this,c);this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction);this._featureGroup=L.featureGroup();
this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this);this._nonPointGroup=L.featureGroup();this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this);this._inZoomAnimation=0;this._needsClustering=[];this._needsRemoving=[];this._currentShownBounds=null;this._queue=[]},addLayer:function(c){if(c instanceof L.LayerGroup){var b=[],f;for(f in c._layers)b.push(c._layers[f]);return this.addLayers(b)}if(!c.getLatLng)return this._nonPointGroup.addLayer(c),this;if(!this._map)return this._needsClustering.push(c),
this;if(this.hasLayer(c))return this;this._unspiderfy&&this._unspiderfy();this._addLayer(c,this._maxZoom);b=c;f=this._map.getZoom();if(c.__parent)for(;b.__parent._zoom>=f;)b=b.__parent;this._currentShownBounds.contains(b.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(c,b):this._animationAddLayerNonAnimated(c,b));return this},removeLayer:function(c){if(c instanceof L.LayerGroup){var b=[],f;for(f in c._layers)b.push(c._layers[f]);return this.removeLayers(b)}if(!c.getLatLng)return this._nonPointGroup.removeLayer(c),
this;if(!this._map)return!this._arraySplice(this._needsClustering,c)&&this.hasLayer(c)&&this._needsRemoving.push(c),this;if(!c.__parent)return this;this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(c));this._removeLayer(c,!0);this._featureGroup.hasLayer(c)&&(this._featureGroup.removeLayer(c),c.setOpacity&&c.setOpacity(1));return this},addLayers:function(c){var b,f,a,d=this._map,e=this._featureGroup,g=this._nonPointGroup;b=0;for(f=c.length;b<f;b++)if(a=c[b],!a.getLatLng)g.addLayer(a);else if(!this.hasLayer(a))if(d){if(this._addLayer(a,
this._maxZoom),a.__parent&&2===a.__parent.getChildCount()){var k=a.__parent.getAllChildMarkers();e.removeLayer(k[0]===a?k[1]:k[0])}}else this._needsClustering.push(a);d&&(e.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds));return this},removeLayers:function(c){var b,f,a,d=this._featureGroup,e=this._nonPointGroup;if(!this._map){b=0;for(f=c.length;b<f;b++)a=c[b],this._arraySplice(this._needsClustering,
a),e.removeLayer(a);return this}b=0;for(f=c.length;b<f;b++)a=c[b],a.__parent?(this._removeLayer(a,!0,!0),d.hasLayer(a)&&(d.removeLayer(a),a.setOpacity&&a.setOpacity(1))):e.removeLayer(a);this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds);d.eachLayer(function(a){a instanceof L.MarkerCluster&&a._updateIcon()});return this},clearLayers:function(){this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered);this._noanimationUnspiderfy&&
this._noanimationUnspiderfy();this._featureGroup.clearLayers();this._nonPointGroup.clearLayers();this.eachLayer(function(c){delete c.__parent});this._map&&this._generateInitialClusters();return this},getBounds:function(){var c=new L.LatLngBounds;if(this._topClusterLevel)c.extend(this._topClusterLevel._bounds);else for(var b=this._needsClustering.length-1;0<=b;b--)c.extend(this._needsClustering[b].getLatLng());c.extend(this._nonPointGroup.getBounds());return c},eachLayer:function(c,b){var f=this._needsClustering.slice(),
a;this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(f);for(a=f.length-1;0<=a;a--)c.call(b,f[a]);this._nonPointGroup.eachLayer(c,b)},getLayers:function(){var c=[];this.eachLayer(function(b){c.push(b)});return c},getLayer:function(c){var b=null;this.eachLayer(function(f){L.stamp(f)===c&&(b=f)});return b},hasLayer:function(c){if(!c)return!1;var b,f=this._needsClustering;for(b=f.length-1;0<=b;b--)if(f[b]===c)return!0;f=this._needsRemoving;for(b=f.length-1;0<=b;b--)if(f[b]===c)return!1;return!(!c.__parent||
c.__parent._group!==this)||this._nonPointGroup.hasLayer(c)},zoomToShowLayer:function(c,b){var f=function(){if((c._icon||c.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",f,this),this.off("animationend",f,this),c._icon)b();else if(c.__parent._icon){var a=function(){this.off("spiderfied",a,this);b()};this.on("spiderfied",a,this);c.__parent.spiderfy()}};c._icon&&this._map.getBounds().contains(c.getLatLng())?b():c.__parent._zoom<this._map.getZoom()?(this._map.on("moveend",f,this),this._map.panTo(c.getLatLng())):
(this._map.on("moveend",f,this),this.on("animationend",f,this),this._map.setView(c.getLatLng(),c.__parent._zoom+1),c.__parent.zoomToBounds())},onAdd:function(c){this._map=c;var b,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";this._featureGroup.onAdd(c);this._nonPointGroup.onAdd(c);this._gridClusters||this._generateInitialClusters();c=0;for(b=this._needsRemoving.length;c<b;c++)f=this._needsRemoving[c],this._removeLayer(f,!0);this._needsRemoving=[];c=0;for(b=this._needsClustering.length;c<
b;c++)f=this._needsClustering[c],f.getLatLng?f.__parent||this._addLayer(f,this._maxZoom):this._featureGroup.addLayer(f);this._needsClustering=[];this._map.on("zoomend",this._zoomEnd,this);this._map.on("moveend",this._moveEnd,this);this._spiderfierOnAdd&&this._spiderfierOnAdd();this._bindEvents();this._zoom=this._map.getZoom();this._currentShownBounds=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(c){c.off("zoomend",
this._zoomEnd,this);c.off("moveend",this._moveEnd,this);this._unbindEvents();this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","");this._spiderfierOnRemove&&this._spiderfierOnRemove();this._hideCoverage();this._featureGroup.onRemove(c);this._nonPointGroup.onRemove(c);this._featureGroup.clearLayers();this._map=null},getVisibleParent:function(c){for(;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(c,b){for(var f=c.length-1;0<=f;f--)if(c[f]===b)return c.splice(f,
1),!0},_removeLayer:function(c,b,f){var a=this._gridClusters,d=this._gridUnclustered,e=this._featureGroup,g=this._map;if(b)for(var k=this._maxZoom;0<=k&&d[k].removeObject(c,g.project(c.getLatLng(),k));k--);var k=c.__parent,h;for(this._arraySplice(k._markers,c);k;){k._childCount--;if(0>k._zoom)break;else b&&1>=k._childCount?(h=k._markers[0]===c?k._markers[1]:k._markers[0],a[k._zoom].removeObject(k,g.project(k._cLatLng,k._zoom)),d[k._zoom].addObject(h,g.project(h.getLatLng(),k._zoom)),this._arraySplice(k.__parent._childClusters,
k),k.__parent._markers.push(h),h.__parent=k.__parent,k._icon&&(e.removeLayer(k),f||e.addLayer(h))):(k._recalculateBounds(),f&&k._icon||k._updateIcon());k=k.__parent}delete c.__parent},_isOrIsParent:function(c,b){for(;b;){if(c===b)return!0;b=b.parentNode}return!1},_propagateEvent:function(c){if(c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;c.type="cluster"+c.type}this.fire(c.type,c)},_defaultIconCreateFunction:function(c){c=
c.getChildCount();var b=" marker-cluster-";return new L.DivIcon({html:"\x3cdiv\x3e\x3cspan\x3e"+c+"\x3c/span\x3e\x3c/div\x3e",className:"marker-cluster"+(10>c?b+"small":100>c?b+"medium":b+"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var c=this._map,b=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick;if(this.options.spiderfyOnMaxZoom||f)this.on("clusterclick",this._zoomOrSpiderfy,this);b&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",
this._hideCoverage,this),c.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(c){var b=this._map;b.getMaxZoom()===b.getZoom()?this.options.spiderfyOnMaxZoom&&c.layer.spiderfy():this.options.zoomToBoundsOnClick&&c.layer.zoomToBounds();c.originalEvent&&13===c.originalEvent.keyCode&&b._container.focus()},_showCoverage:function(c){var b=this._map;this._inZoomAnimation||(this._shownPolygon&&b.removeLayer(this._shownPolygon),2<c.layer.getChildCount()&&c.layer!==this._spiderfied&&(this._shownPolygon=
new L.Polygon(c.layer.getConvexHull(),this.options.polygonOptions),b.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var c=this.options.showCoverageOnHover,b=this.options.zoomToBoundsOnClick,f=this._map;(this.options.spiderfyOnMaxZoom||b)&&this.off("clusterclick",this._zoomOrSpiderfy,this);c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,
this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var c=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,c);this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,c);this._currentShownBounds=c}},_generateInitialClusters:function(){var c=
this._map.getMaxZoom(),b=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(c=this.options.disableClusteringAtZoom-1);this._maxZoom=c;this._gridClusters={};for(this._gridUnclustered={};0<=c;c--)this._gridClusters[c]=new L.DistanceGrid(b),this._gridUnclustered[c]=new L.DistanceGrid(b);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(c,b){var f=this._gridClusters,a=this._gridUnclustered,d,e;this.options.singleMarkerMode&&(c.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},
getAllChildMarkers:function(){return[c]}}));for(;0<=b;b--){d=this._map.project(c.getLatLng(),b);var g=f[b].getNearObject(d);if(g){g._addChild(c);c.__parent=g;return}if(g=a[b].getNearObject(d)){(d=g.__parent)&&this._removeLayer(g,!1);e=new L.MarkerCluster(this,b,g,c);f[b].addObject(e,this._map.project(e._cLatLng,b));g.__parent=e;var k=c.__parent=e;for(e=b-1;e>d._zoom;e--)k=new L.MarkerCluster(this,e,k),f[e].addObject(k,this._map.project(g.getLatLng(),e));d._addChild(k);for(e=b;0<=e&&a[e].removeObject(g,
this._map.project(g.getLatLng(),e));e--);return}a[b].addObject(c,d)}this._topClusterLevel._addChild(c);c.__parent=this._topClusterLevel},_enqueue:function(c){this._queue.push(c);this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var c=0;c<this._queue.length;c++)this._queue[c].call(this);this._queue.length=0;clearTimeout(this._queueTimeout);this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue();this._zoom<this._map._zoom&&
this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var c=this._map.getBounds(),
b=c._southWest,c=c._northEast,f=L.Browser.mobile?0:Math.abs(b.lat-c.lat),a=L.Browser.mobile?0:Math.abs(b.lng-c.lng);return new L.LatLngBounds(new L.LatLng(b.lat-f,b.lng-a,!0),new L.LatLng(c.lat+f,c.lng+a,!0))},_animationAddLayerNonAnimated:function(c,b){if(b===c)this._featureGroup.addLayer(c);else if(2===b._childCount){b._addToMap();var f=b.getAllChildMarkers();this._featureGroup.removeLayer(f[0]);this._featureGroup.removeLayer(f[1])}else b._updateIcon()}});L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?
{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim";this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""));this._inZoomAnimation--;this.fire("animationend")},_animationZoomIn:function(c,b){var f=this._getExpandedVisibleBounds(),a=this._featureGroup,d;this._topClusterLevel._recursively(f,c,0,function(e){var g=e._latlng,k=e._markers;f.contains(g)||(g=null);e._isSingleParent()&&
c+1===b?(a.removeLayer(e),e._recursivelyAddChildrenToMap(null,b,f)):(e.setOpacity(0),e._recursivelyAddChildrenToMap(g,b,f));for(d=k.length-1;0<=d;d--)e=k[d],f.contains(e._latlng)||a.removeLayer(e)});this._forceLayout();this._topClusterLevel._recursivelyBecomeVisible(f,b);a.eachLayer(function(a){a instanceof L.MarkerCluster||!a._icon||a.setOpacity(1)});this._topClusterLevel._recursively(f,c,b,function(a){a._recursivelyRestoreChildPositions(b)});this._enqueue(function(){this._topClusterLevel._recursively(f,
c,0,function(b){a.removeLayer(b);b.setOpacity(1)});this._animationEnd()})},_animationZoomOut:function(c,b){this._animationZoomOutSingle(this._topClusterLevel,c-1,b);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds());this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(c,b,f){var a=this._getExpandedVisibleBounds();c._recursivelyAnimateChildrenInAndAddSelfToMap(a,
b+1,f);var d=this;this._forceLayout();c._recursivelyBecomeVisible(a,f);this._enqueue(function(){if(1===c._childCount){var e=c._markers[0];e.setLatLng(e.getLatLng());e.setOpacity(1)}else c._recursively(a,f,0,function(c){c._recursivelyRemoveChildrenFromMap(a,b+1)});d._animationEnd()})},_animationAddLayer:function(c,b){var f=this,a=this._featureGroup;a.addLayer(c);b!==c&&(2<b._childCount?(b._updateIcon(),this._forceLayout(),this._animationStart(),c._setPos(this._map.latLngToLayerPoint(b.getLatLng())),
c.setOpacity(0),this._enqueue(function(){a.removeLayer(c);c.setOpacity(1);f._animationEnd()})):(this._forceLayout(),f._animationStart(),f._animationZoomOutSingle(b,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(g.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(c,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds())},
_animationZoomOut:function(c,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds())},_animationAddLayer:function(c,b){this._animationAddLayerNonAnimated(c,b)}});L.markerClusterGroup=function(c){return new L.MarkerClusterGroup(c)};L.MarkerCluster=L.Marker.extend({initialize:function(c,b,f,a){L.Marker.prototype.initialize.call(this,f?f._cLatLng||f.getLatLng():new L.LatLng(0,0),
{icon:this});this._group=c;this._zoom=b;this._markers=[];this._childClusters=[];this._childCount=0;this._iconNeedsUpdate=!0;this._bounds=new L.LatLngBounds;f&&this._addChild(f);a&&this._addChild(a)},getAllChildMarkers:function(c){c=c||[];for(var b=this._childClusters.length-1;0<=b;b--)this._childClusters[b].getAllChildMarkers(c);for(b=this._markers.length-1;0<=b;b--)c.push(this._markers[b]);return c},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var c=this._childClusters.slice(),
b=this._group._map,f=b.getBoundsZoom(this._bounds),a=this._zoom+1,b=b.getZoom(),d;0<c.length&&f>a;){a++;var e=[];for(d=0;d<c.length;d++)e=e.concat(c[d]._childClusters);c=e}f>a?this._group._map.setView(this._latlng,a):f<=b?this._group._map.setView(this._latlng,b+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var c=new L.LatLngBounds;c.extend(this._bounds);return c},_updateIcon:function(){this._iconNeedsUpdate=!0;this._icon&&this.setIcon(this)},createIcon:function(){this._iconNeedsUpdate&&
(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1);return this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(c,b){this._iconNeedsUpdate=!0;this._expandBounds(c);c instanceof L.MarkerCluster?(b||(this._childClusters.push(c),c.__parent=this),this._childCount+=c._childCount):(b||this._markers.push(c),this._childCount++);this.__parent&&this.__parent._addChild(c,!0)},_expandBounds:function(c){var b,f=c._wLatLng||
c._latlng;c instanceof L.MarkerCluster?(this._bounds.extend(c._bounds),b=c._childCount):(this._bounds.extend(f),b=1);this._cLatLng||(this._cLatLng=c._cLatLng||f);c=this._childCount+b;this._wLatLng?(this._wLatLng.lat=(f.lat*b+this._wLatLng.lat*this._childCount)/c,this._wLatLng.lng=(f.lng*b+this._wLatLng.lng*this._childCount)/c):this._latlng=this._wLatLng=new L.LatLng(f.lat,f.lng)},_addToMap:function(c){c&&(this._backupLatlng=this._latlng,this.setLatLng(c));this._group._featureGroup.addLayer(this)},
_recursivelyAnimateChildrenIn:function(c,b,f){this._recursively(c,0,f-1,function(a){a=a._markers;var c,e;for(c=a.length-1;0<=c;c--)e=a[c],e._icon&&(e._setPos(b),e.setOpacity(0))},function(a){a=a._childClusters;var c,e;for(c=a.length-1;0<=c;c--)e=a[c],e._icon&&(e._setPos(b),e.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(c,b,f){this._recursively(c,f,0,function(a){a._recursivelyAnimateChildrenIn(c,a._group._map.latLngToLayerPoint(a.getLatLng()).round(),b);a._isSingleParent()&&
b-1===f?(a.setOpacity(1),a._recursivelyRemoveChildrenFromMap(c,b)):a.setOpacity(0);a._addToMap()})},_recursivelyBecomeVisible:function(c,b){this._recursively(c,0,b,null,function(b){b.setOpacity(1)})},_recursivelyAddChildrenToMap:function(c,b,f){this._recursively(f,-1,b,function(a){if(b!==a._zoom)for(var d=a._markers.length-1;0<=d;d--){var e=a._markers[d];f.contains(e._latlng)&&(c&&(e._backupLatlng=e.getLatLng(),e.setLatLng(c),e.setOpacity&&e.setOpacity(0)),a._group._featureGroup.addLayer(e))}},function(a){a._addToMap(c)})},
_recursivelyRestoreChildPositions:function(c){for(var b=this._markers.length-1;0<=b;b--){var f=this._markers[b];f._backupLatlng&&(f.setLatLng(f._backupLatlng),delete f._backupLatlng)}if(c-1===this._zoom)for(c=this._childClusters.length-1;0<=c;c--)this._childClusters[c]._restorePosition();else for(b=this._childClusters.length-1;0<=b;b--)this._childClusters[b]._recursivelyRestoreChildPositions(c)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},
_recursivelyRemoveChildrenFromMap:function(c,b,f){var a,d;this._recursively(c,-1,b-1,function(b){for(d=b._markers.length-1;0<=d;d--)a=b._markers[d],f&&f.contains(a._latlng)||(b._group._featureGroup.removeLayer(a),a.setOpacity&&a.setOpacity(1))},function(b){for(d=b._childClusters.length-1;0<=d;d--)a=b._childClusters[d],f&&f.contains(a._latlng)||(b._group._featureGroup.removeLayer(a),a.setOpacity&&a.setOpacity(1))})},_recursively:function(c,b,f,a,d){var e=this._childClusters,g=this._zoom,k;if(b>g)for(g=
e.length-1;0<=g;g--)k=e[g],c.intersects(k._bounds)&&k._recursively(c,b,f,a,d);else if(a&&a(this),d&&this._zoom===f&&d(this),f>g)for(g=e.length-1;0<=g;g--)k=e[g],c.intersects(k._bounds)&&k._recursively(c,b,f,a,d)},_recalculateBounds:function(){var c=this._markers,b=this._childClusters,f;this._bounds=new L.LatLngBounds;delete this._wLatLng;for(f=c.length-1;0<=f;f--)this._expandBounds(c[f]);for(f=b.length-1;0<=f;f--)this._expandBounds(b[f])},_isSingleParent:function(){return 0<this._childClusters.length&&
this._childClusters[0]._childCount===this._childCount}});L.DistanceGrid=function(c){this._cellSize=c;this._sqCellSize=c*c;this._grid={};this._objectPoint={}};L.DistanceGrid.prototype={addObject:function(c,b){var f=this._getCoord(b.x),a=this._getCoord(b.y),d=this._grid,a=d[a]=d[a]||{},f=a[f]=a[f]||[],a=L.Util.stamp(c);this._objectPoint[a]=b;f.push(c)},updateObject:function(c,b){this.removeObject(c);this.addObject(c,b)},removeObject:function(c,b){var f=this._getCoord(b.x),a=this._getCoord(b.y),d=this._grid,
a=d[a]=d[a]||{},d=a[f]=a[f]||[],e,g;delete this._objectPoint[L.Util.stamp(c)];e=0;for(g=d.length;e<g;e++)if(d[e]===c)return d.splice(e,1),1===g&&delete a[f],!0},eachObject:function(c,b){var f,a,d,e,g,k,h,m=this._grid;for(f in m)for(a in g=m[f],g)for(k=g[a],d=0,e=k.length;d<e;d++)if(h=c.call(b,k[d]))d--,e--},getNearObject:function(c){var b=this._getCoord(c.x),f=this._getCoord(c.y),a,d,e,g,k,h,m,v,y=this._objectPoint,H=this._sqCellSize,A=null;for(a=f-1;a<=f+1;a++)if(g=this._grid[a])for(d=b-1;d<=b+1;d++)if(k=
g[d])for(e=0,h=k.length;e<h;e++)m=k[e],v=this._sqDist(y[L.Util.stamp(m)],c),v<H&&(H=v,A=m);return A},_getCoord:function(c){return Math.floor(c/this._cellSize)},_sqDist:function(c,b){var f=b.x-c.x,a=b.y-c.y;return f*f+a*a}};(function(){L.QuickHull={getDistant:function(c,b){return(b[0].lng-b[1].lng)*(c.lat-b[0].lat)+(b[1].lat-b[0].lat)*(c.lng-b[0].lng)},findMostDistantPointFromBaseLine:function(c,b){var f=0,a=null,d=[],e,g,k;for(e=b.length-1;0<=e;e--)g=b[e],k=this.getDistant(g,c),0<k&&(d.push(g),k>
f&&(f=k,a=g));return{maxPoint:a,newPoints:d}},buildConvexHull:function(c,b){var f=[],a=this.findMostDistantPointFromBaseLine(c,b);return a.maxPoint?(f=f.concat(this.buildConvexHull([c[0],a.maxPoint],a.newPoints)),f=f.concat(this.buildConvexHull([a.maxPoint,c[1]],a.newPoints))):[c[0]]},getConvexHull:function(c){var b=!1,f=!1,a=null,d=null,e;for(e=c.length-1;0<=e;e--){var g=c[e];if(!1===b||g.lat>b)a=g,b=g.lat;if(!1===f||g.lat<f)d=g,f=g.lat}return[].concat(this.buildConvexHull([d,a],c),this.buildConvexHull([a,
d],c))}}})();L.MarkerCluster.include({getConvexHull:function(){var c=this.getAllChildMarkers(),b=[],f,a;for(a=c.length-1;0<=a;a--)f=c[a].getLatLng(),b.push(f);return L.QuickHull.getConvexHull(b)}});L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var c=this.getAllChildMarkers(),
b=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy();this._group._spiderfied=this;c.length>=this._circleSpiralSwitchover?b=this._generatePointsSpiral(c.length,b):(b.y+=10,b=this._generatePointsCircle(c.length,b));this._animationSpiderfy(c,b)}},unspiderfy:function(c){this._group._inZoomAnimation||(this._animationUnspiderfy(c),this._group._spiderfied=null)},_generatePointsCircle:function(c,b){var f=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+
c)/this._2PI,a=this._2PI/c,d=[],e,g;d.length=c;for(e=c-1;0<=e;e--)g=this._circleStartAngle+e*a,d[e]=(new L.Point(b.x+f*Math.cos(g),b.y+f*Math.sin(g)))._round();return d},_generatePointsSpiral:function(c,b){var f=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,a=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,d=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,e=0,g=[],k;g.length=c;for(k=c-1;0<=k;k--)e+=a/f+5E-4*k,g[k]=(new L.Point(b.x+
f*Math.cos(e),b.y+f*Math.sin(e)))._round(),f+=this._2PI*d/e;return g},_noanimationUnspiderfy:function(){var c=this._group,b=c._map,f=c._featureGroup,a=this.getAllChildMarkers(),d,e;this.setOpacity(1);for(e=a.length-1;0<=e;e--)d=a[e],f.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(b.removeLayer(d._spiderLeg),delete d._spiderLeg);c._spiderfied=null}});L.MarkerCluster.include(L.DomUtil.TRANSITION?
{SVG_ANIMATION:-1<g.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate"),_animationSpiderfy:function(c,b){var f=this._group,a=f._map,d=f._featureGroup,e=a.latLngToLayerPoint(this._latlng),h,k,m;for(h=c.length-1;0<=h;h--)k=c[h],k.setOpacity?(k.setZIndexOffset(1E6),k.setOpacity(0),d.addLayer(k),k._setPos(e)):d.addLayer(k);f._forceLayout();f._animationStart();d=L.Path.SVG?0:0.3;e=L.Path.SVG_NS;for(h=c.length-1;0<=h;h--)if(m=a.layerPointToLatLng(b[h]),k=c[h],k._preSpiderfyLatlng=
k._latlng,k.setLatLng(m),k.setOpacity&&k.setOpacity(1),m=new L.Polyline([this._latlng,m],{weight:1.5,color:"#222",opacity:d}),a.addLayer(m),k._spiderLeg=m,L.Path.SVG&&this.SVG_ANIMATION){k=m._path.getTotalLength();m._path.setAttribute("stroke-dasharray",k+","+k);var r=g.createElementNS(e,"animate");r.setAttribute("attributeName","stroke-dashoffset");r.setAttribute("begin","indefinite");r.setAttribute("from",k);r.setAttribute("to",0);r.setAttribute("dur",0.25);m._path.appendChild(r);r.beginElement();
r=g.createElementNS(e,"animate");r.setAttribute("attributeName","stroke-opacity");r.setAttribute("attributeName","stroke-opacity");r.setAttribute("begin","indefinite");r.setAttribute("from",0);r.setAttribute("to",0.5);r.setAttribute("dur",0.25);m._path.appendChild(r);r.beginElement()}this.setOpacity(0.3);if(L.Path.SVG)for(this._group._forceLayout(),h=c.length-1;0<=h;h--)k=c[h]._spiderLeg,k.options.opacity=0.5,k._path.setAttribute("stroke-opacity",0.5);setTimeout(function(){f._animationEnd();f.fire("spiderfied")},
200)},_animationUnspiderfy:function(c){var b=this._group,f=b._map,a=b._featureGroup;c=c?f._latLngToNewLayerPoint(this._latlng,c.zoom,c.center):f.latLngToLayerPoint(this._latlng);var d=this.getAllChildMarkers(),e=L.Path.SVG&&this.SVG_ANIMATION,g,k,h;b._animationStart();this.setOpacity(1);for(k=d.length-1;0<=k;k--)g=d[k],g._preSpiderfyLatlng&&(g.setLatLng(g._preSpiderfyLatlng),delete g._preSpiderfyLatlng,g.setOpacity?(g._setPos(c),g.setOpacity(0)):a.removeLayer(g),e&&(h=g._spiderLeg._path.childNodes[0],
h.setAttribute("to",h.getAttribute("from")),h.setAttribute("from",0),h.beginElement(),h=g._spiderLeg._path.childNodes[1],h.setAttribute("from",0.5),h.setAttribute("to",0),h.setAttribute("stroke-opacity",0),h.beginElement(),g._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var c=0;for(k=d.length-1;0<=k;k--)g=d[k],g._spiderLeg&&c++;for(k=d.length-1;0<=k;k--)g=d[k],g._spiderLeg&&(g.setOpacity&&(g.setOpacity(1),g.setZIndexOffset(0)),1<c&&a.removeLayer(g),f.removeLayer(g._spiderLeg),
delete g._spiderLeg);b._animationEnd()},200)}}:{_animationSpiderfy:function(c,b){var f=this._group,a=f._map,d=f._featureGroup,e,g,k;for(e=c.length-1;0<=e;e--)k=a.layerPointToLatLng(b[e]),g=c[e],g._preSpiderfyLatlng=g._latlng,g.setLatLng(k),g.setZIndexOffset&&g.setZIndexOffset(1E6),d.addLayer(g),k=new L.Polyline([this._latlng,k],{weight:1.5,color:"#222"}),a.addLayer(k),g._spiderLeg=k;this.setOpacity(0.3);f.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}});L.MarkerClusterGroup.include({_spiderfied:null,
_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this);if(this._map.options.zoomAnimation)this._map.on("zoomstart",this._unspiderfyZoomStart,this);this._map.on("zoomend",this._noanimationUnspiderfy,this);L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this);this._map.off("zoomstart",this._unspiderfyZoomStart,this);this._map.off("zoomanim",this._unspiderfyZoomAnim,this);this._unspiderfy()},
_unspiderfyZoomStart:function(){if(this._map)this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(c){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(c))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(c){this._spiderfied&&this._spiderfied.unspiderfy(c)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(c){c._spiderLeg&&
(this._featureGroup.removeLayer(c),c.setOpacity(1),c.setZIndexOffset(0),this._map.removeLayer(c._spiderLeg),delete c._spiderLeg)}})})(window,document);L.GeoSearch={};L.GeoSearch.Provider={};L.GeoSearch.Result=function(h,g,m){this.X=h;this.Y=g;this.Label=m};
L.Control.GeoSearch=L.Control.extend({options:{position:"topcenter",showMarker:!0},_config:{country:"",searchLabel:"search for address ...",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3E3,zoomLevel:18},initialize:function(h){L.Util.extend(this.options,h);L.Util.extend(this._config,h)},onAdd:function(h){for(var g=h._controlContainer,m=g.childNodes,c=!1,b=0,f=m.length;b<f;b++){var a=m[b].className;if(/leaflet-top/.test(a)&&/leaflet-center/.test(a)){c=!0;break}}c||(m=document.createElement("div"),
m.className+="leaflet-top leaflet-center",g.appendChild(m),h._controlCorners.topcenter=m);this._map=h;this._container=L.DomUtil.create("div","leaflet-control-geosearch");h=document.createElement("input");h.id="leaflet-control-geosearch-qry";h.type="text";h.placeholder=this._config.searchLabel;this._searchbox=h;h=document.createElement("div");h.id="leaflet-control-geosearch-msg";h.className="leaflet-control-geosearch-msg";this._msgbox=h;h=document.createElement("ul");h.id="leaflet-control-geosearch-results";
this._resultslist=h;this._msgbox.appendChild(this._resultslist);this._container.appendChild(this._searchbox);this._container.appendChild(this._msgbox);L.DomEvent.addListener(this._container,"click",L.DomEvent.stop).addListener(this._searchbox,"keypress",this._onKeyUp,this);L.DomEvent.disableClickPropagation(this._container);return this._container},geosearch:function(h){try{var g=this._config.provider;if("function"==typeof g.GetLocations)g.GetLocations(h,function(b){this._processResults(b)}.bind(this));
else{var m=g.GetServiceUrl(h);this.sendRequest(g,m)}}catch(c){this._printError(c)}},sendRequest:function(h,g){function m(a){a+="\x26callback\x3dparseLocation";var b=document.createElement("script");b.id="getJsonP";b.src=a;b.async=!0;document.body.appendChild(b)}var c=this;window.parseLocation=function(a){a=h.ParseJSON(a);c._processResults(a);document.body.removeChild(document.getElementById("getJsonP"));delete window.parseLocation};if(XMLHttpRequest){var b=new XMLHttpRequest;if("withCredentials"in
b)b=new XMLHttpRequest,b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status){var a=JSON.parse(b.responseText),a=h.ParseJSON(a);c._processResults(a)}else 0==b.status||400==b.status?m(g):c._printError(b.responseText)},b.open("GET",g,!0),b.send();else if(XDomainRequest){var f=new XDomainRequest;f.onerror=function(a){c._printError(a)};f.onload=function(){var a=JSON.parse(f.responseText),a=h.ParseJSON(a);c._processResults(a)};f.open("GET",g);f.send()}else m(g)}},_processResults:function(h){0<
h.length?(this._map.fireEvent("geosearch_foundlocations",{Locations:h}),this._showLocation(h[0])):this._printError(this._config.notFoundMessage)},_showLocation:function(h){!0==this.options.showMarker&&("undefined"===typeof this._positionMarker?this._positionMarker=L.marker([h.Y,h.X]).addTo(this._map):this._positionMarker.setLatLng([h.Y,h.X]));this._map.setView([h.Y,h.X],this._config.zoomLevel,!1);this._map.fireEvent("geosearch_showlocation",{Location:h})},_printError:function(h){var g=this._resultslist;
g.innerHTML="\x3cli\x3e"+h+"\x3c/li\x3e";g.style.display="block";setTimeout(function(){g.style.display="none"},3E3)},_onKeyUp:function(h){var g=document.getElementById("leaflet-control-geosearch-qry");27===h.keyCode?(g.value="",this._map._container.focus()):13===h.keyCode&&this.geosearch(g.value)}});
L.GeoSearch.Provider.OpenStreetMap=L.Class.extend({options:{},initialize:function(h){L.Util.setOptions(this,h)},GetServiceUrl:function(h){h=L.Util.extend({q:h,format:"json"},this.options);return"http://nominatim.openstreetmap.org/search"+L.Util.getParamString(h)},ParseJSON:function(h){if(0==h.length)return[];for(var g=[],m=0;m<h.length;m++)g.push(new L.GeoSearch.Result(h[m].lon,h[m].lat,h[m].display_name));return g}});
+function(h){function g(a){h(c).remove();h(b).each(function(){var b=m(h(this)),c={relatedTarget:this};b.hasClass("open")&&(b.trigger(a=h.Event("hide.bs.dropdown",c)),a.isDefaultPrevented()||b.removeClass("open").trigger("hidden.bs.dropdown",c))})}function m(a){var b=a.attr("data-target");b||(b=(b=a.attr("href"))&&/#[A-Za-z]/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));return(b=b&&h(b))&&b.length?b:a.parent()}var c=".dropdown-backdrop",b="[data-toggle\x3ddropdown]",f=function(a){h(a).on("click.bs.dropdown",
this.toggle)};f.prototype.toggle=function(a){var b=h(this);if(!b.is(".disabled, :disabled")){var c=m(b);a=c.hasClass("open");g();if(!a){if("ontouchstart"in document.documentElement&&!c.closest(".navbar-nav").length)h('\x3cdiv class\x3d"dropdown-backdrop"/\x3e').insertAfter(h(this)).on("click",g);var f={relatedTarget:this};c.trigger(a=h.Event("show.bs.dropdown",f));if(a.isDefaultPrevented())return;c.toggleClass("open").trigger("shown.bs.dropdown",f);b.focus()}return!1}};f.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var c=
h(this);a.preventDefault();a.stopPropagation();if(!c.is(".disabled, :disabled")){var f=m(c),g=f.hasClass("open");if(!g||g&&27==a.keyCode)return 27==a.which&&f.find(b).focus(),c.click();c=f.find("[role\x3dmenu] li:not(.divider):visible a, [role\x3dlistbox] li:not(.divider):visible a");c.length&&(f=c.index(c.filter(":focus")),38==a.keyCode&&0<f&&f--,40==a.keyCode&&f<c.length-1&&f++,~f||(f=0),c.eq(f).focus())}}};var a=h.fn.dropdown;h.fn.dropdown=function(a){return this.each(function(){var b=h(this),
c=b.data("bs.dropdown");c||b.data("bs.dropdown",c=new f(this));"string"==typeof a&&c[a].call(b)})};h.fn.dropdown.Constructor=f;h.fn.dropdown.noConflict=function(){h.fn.dropdown=a;return this};h(document).on("click.bs.dropdown.data-api",g).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",b,f.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role\x3dmenu], [role\x3dlistbox]",f.prototype.keydown)}(jQuery);
+function(h){var g=function(c,b){this.options=b;this.$element=h(c);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,h.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};g.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};g.prototype.toggle=function(c){return this[this.isShown?"hide":"show"](c)};g.prototype.show=function(c){var b=this,f=h.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(f);this.isShown||f.isDefaultPrevented()||
(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss\x3d"modal"]',h.proxy(this.hide,this)),this.backdrop(function(){var a=h.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show().scrollTop(0);a&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();var d=h.Event("shown.bs.modal",{relatedTarget:c});a?b.$element.find(".modal-dialog").one(h.support.transition.end,
function(){b.$element.focus().trigger(d)}).emulateTransitionEnd(300):b.$element.focus().trigger(d)}))};g.prototype.hide=function(c){c&&c.preventDefault();c=h.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),h(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),h.support.transition&&this.$element.hasClass("fade")?this.$element.one(h.support.transition.end,h.proxy(this.hideModal,
this)).emulateTransitionEnd(300):this.hideModal())};g.prototype.enforceFocus=function(){h(document).off("focusin.bs.modal").on("focusin.bs.modal",h.proxy(function(c){this.$element[0]===c.target||this.$element.has(c.target).length||this.$element.focus()},this))};g.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",h.proxy(function(c){27==c.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};g.prototype.hideModal=
function(){var c=this;this.$element.hide();this.backdrop(function(){c.removeBackdrop();c.$element.trigger("hidden.bs.modal")})};g.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};g.prototype.backdrop=function(c){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=h.support.transition&&b;this.$backdrop=h('\x3cdiv class\x3d"modal-backdrop '+b+'" /\x3e').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",
h.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));f&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");c&&(f?this.$backdrop.one(h.support.transition.end,c).emulateTransitionEnd(150):c())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),h.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(h.support.transition.end,c).emulateTransitionEnd(150):c()):
c&&c()};var m=h.fn.modal;h.fn.modal=function(c,b){return this.each(function(){var f=h(this),a=f.data("bs.modal"),d=h.extend({},g.DEFAULTS,f.data(),"object"==typeof c&&c);a||f.data("bs.modal",a=new g(this,d));if("string"==typeof c)a[c](b);else d.show&&a.show(b)})};h.fn.modal.Constructor=g;h.fn.modal.noConflict=function(){h.fn.modal=m;return this};h(document).on("click.bs.modal.data-api",'[data-toggle\x3d"modal"]',function(c){var b=h(this),f=b.attr("href"),a=h(b.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,
"")),f=a.data("bs.modal")?"toggle":h.extend({remote:!/#/.test(f)&&f},a.data(),b.data());b.is("a")&&c.preventDefault();a.modal(f,this).one("hide",function(){b.is(":visible")&&b.focus()})});h(document).on("show.bs.modal",".modal",function(){h(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){h(document.body).removeClass("modal-open")})}(jQuery);
+function(h){var g=function(c,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",c,b)};g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'\x3cdiv class\x3d"tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip-inner"\x3e\x3c/div\x3e\x3c/div\x3e',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};g.prototype.init=function(c,b,f){this.enabled=!0;this.type=c;this.$element=h(b);this.options=this.getOptions(f);
c=this.options.trigger.split(" ");for(b=c.length;b--;)if(f=c[b],"click"==f)this.$element.on("click."+this.type,this.options.selector,h.proxy(this.toggle,this));else if("manual"!=f){var a="hover"==f?"mouseleave":"focusout";this.$element.on(("hover"==f?"mouseenter":"focusin")+"."+this.type,this.options.selector,h.proxy(this.enter,this));this.$element.on(a+"."+this.type,this.options.selector,h.proxy(this.leave,this))}this.options.selector?this._options=h.extend({},this.options,{trigger:"manual",selector:""}):
this.fixTitle()};g.prototype.getDefaults=function(){return g.DEFAULTS};g.prototype.getOptions=function(c){c=h.extend({},this.getDefaults(),this.$element.data(),c);c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay});return c};g.prototype.getDelegateOptions=function(){var c={},b=this.getDefaults();this._options&&h.each(this._options,function(f,a){b[f]!=a&&(c[f]=a)});return c};g.prototype.enter=function(c){var b=c instanceof this.constructor?c:h(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+
this.type);clearTimeout(b.timeout);b.hoverState="in";if(!b.options.delay||!b.options.delay.show)return b.show();b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)};g.prototype.leave=function(c){var b=c instanceof this.constructor?c:h(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(b.timeout);b.hoverState="out";if(!b.options.delay||!b.options.delay.hide)return b.hide();b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},
b.options.delay.hide)};g.prototype.show=function(){var c=h.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(c),!c.isDefaultPrevented())){var b=this,c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");var f="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,d=a.test(f);d&&(f=f.replace(a,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(f);
this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var a=this.getPosition(),e=c[0].offsetWidth,g=c[0].offsetHeight;if(d){var k=this.$element.parent(),d=f,m=document.documentElement.scrollTop||document.body.scrollTop,r="body"==this.options.container?window.innerWidth:k.outerWidth(),v="body"==this.options.container?window.innerHeight:k.outerHeight(),k="body"==this.options.container?0:k.offset().left,f="bottom"==f&&a.top+a.height+g-m>v?"top":"top"==f&&0>a.top-m-g?
"bottom":"right"==f&&a.right+e>r?"left":"left"==f&&a.left-e<k?"right":f;c.removeClass(d).addClass(f)}a=this.getCalculatedOffset(f,a,e,g);this.applyPlacement(a,f);this.hoverState=null;f=function(){b.$element.trigger("shown.bs."+b.type)};h.support.transition&&this.$tip.hasClass("fade")?c.one(h.support.transition.end,f).emulateTransitionEnd(150):f()}};g.prototype.applyPlacement=function(c,b){var f,a=this.tip(),d=a[0].offsetWidth,e=a[0].offsetHeight,g=parseInt(a.css("margin-top"),10),k=parseInt(a.css("margin-left"),
10);isNaN(g)&&(g=0);isNaN(k)&&(k=0);c.top+=g;c.left+=k;h.offset.setOffset(a[0],h.extend({using:function(b){a.css({top:Math.round(b.top),left:Math.round(b.left)})}},c),0);a.addClass("in");g=a[0].offsetWidth;k=a[0].offsetHeight;"top"==b&&k!=e&&(f=!0,c.top=c.top+e-k);/bottom|top/.test(b)?(e=0,0>c.left&&(e=-2*c.left,c.left=0,a.offset(c),g=a[0].offsetWidth,k=a[0].offsetHeight),this.replaceArrow(e-d+g,g,"left")):this.replaceArrow(k-e,k,"top");f&&a.offset(c)};g.prototype.replaceArrow=function(c,b,f){this.arrow().css(f,
c?50*(1-c/b)+"%":"")};g.prototype.setContent=function(){var c=this.tip(),b=this.getTitle();c.find(".tooltip-inner")[this.options.html?"html":"text"](b);c.removeClass("fade in top bottom left right")};g.prototype.hide=function(){function c(){"in"!=b.hoverState&&f.detach();b.$element.trigger("hidden.bs."+b.type)}var b=this,f=this.tip(),a=h.Event("hide.bs."+this.type);this.$element.trigger(a);if(!a.isDefaultPrevented())return f.removeClass("in"),h.support.transition&&this.$tip.hasClass("fade")?f.one(h.support.transition.end,
c).emulateTransitionEnd(150):c(),this.hoverState=null,this};g.prototype.fixTitle=function(){var c=this.$element;(c.attr("title")||"string"!=typeof c.attr("data-original-title"))&&c.attr("data-original-title",c.attr("title")||"").attr("title","")};g.prototype.hasContent=function(){return this.getTitle()};g.prototype.getPosition=function(){var c=this.$element[0];return h.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():{width:c.offsetWidth,height:c.offsetHeight},this.$element.offset())};
g.prototype.getCalculatedOffset=function(c,b,f,a){return"bottom"==c?{top:b.top+b.height,left:b.left+b.width/2-f/2}:"top"==c?{top:b.top-a,left:b.left+b.width/2-f/2}:"left"==c?{top:b.top+b.height/2-a/2,left:b.left-f}:{top:b.top+b.height/2-a/2,left:b.left+b.width}};g.prototype.getTitle=function(){var c=this.$element,b=this.options;return c.attr("data-original-title")||("function"==typeof b.title?b.title.call(c[0]):b.title)};g.prototype.tip=function(){return this.$tip=this.$tip||h(this.options.template)};
g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};g.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};g.prototype.enable=function(){this.enabled=!0};g.prototype.disable=function(){this.enabled=!1};g.prototype.toggleEnabled=function(){this.enabled=!this.enabled};g.prototype.toggle=function(c){c=c?h(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?
c.leave(c):c.enter(c)};g.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var m=h.fn.tooltip;h.fn.tooltip=function(c){return this.each(function(){var b=h(this),f=b.data("bs.tooltip"),a="object"==typeof c&&c;if(f||"destroy"!=c)if(f||b.data("bs.tooltip",f=new g(this,a)),"string"==typeof c)f[c]()})};h.fn.tooltip.Constructor=g;h.fn.tooltip.noConflict=function(){h.fn.tooltip=m;return this}}(jQuery);
+function(h){var g=function(c,b){this.init("popover",c,b)};if(!h.fn.tooltip)throw Error("Popover requires tooltip.js");g.DEFAULTS=h.extend({},h.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'\x3cdiv class\x3d"popover"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3ch3 class\x3d"popover-title"\x3e\x3c/h3\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e'});g.prototype=h.extend({},h.fn.tooltip.Constructor.prototype);g.prototype.constructor=g;g.prototype.getDefaults=
function(){return g.DEFAULTS};g.prototype.setContent=function(){var c=this.tip(),b=this.getTitle(),f=this.getContent();c.find(".popover-title")[this.options.html?"html":"text"](b);c.find(".popover-content")[this.options.html?"string"==typeof f?"html":"append":"text"](f);c.removeClass("fade top bottom left right in");c.find(".popover-title").html()||c.find(".popover-title").hide()};g.prototype.hasContent=function(){return this.getTitle()||this.getContent()};g.prototype.getContent=function(){var c=
this.$element,b=this.options;return c.attr("data-content")||("function"==typeof b.content?b.content.call(c[0]):b.content)};g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};g.prototype.tip=function(){this.$tip||(this.$tip=h(this.options.template));return this.$tip};var m=h.fn.popover;h.fn.popover=function(c){return this.each(function(){var b=h(this),f=b.data("bs.popover"),a="object"==typeof c&&c;if(f||"destroy"!=c)if(f||b.data("bs.popover",f=new g(this,a)),"string"==
typeof c)f[c]()})};h.fn.popover.Constructor=g;h.fn.popover.noConflict=function(){h.fn.popover=m;return this}}(jQuery);
+function(h){var g=function(c){this.element=h(c)};g.prototype.show=function(){var c=this.element,b=c.closest("ul:not(.dropdown-menu)"),f=c.data("target");f||(f=(f=c.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));if(!c.parent("li").hasClass("active")){var a=b.find(".active:last a")[0],d=h.Event("show.bs.tab",{relatedTarget:a});c.trigger(d);d.isDefaultPrevented()||(f=h(f),this.activate(c.parent("li"),b),this.activate(f,f.parent(),function(){c.trigger({type:"shown.bs.tab",relatedTarget:a})}))}};g.prototype.activate=
function(c,b,f){function a(){d.removeClass("active").find("\x3e .dropdown-menu \x3e .active").removeClass("active");c.addClass("active");e?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade");c.parent(".dropdown-menu")&&c.closest("li.dropdown").addClass("active");f&&f()}var d=b.find("\x3e .active"),e=f&&h.support.transition&&d.hasClass("fade");e?d.one(h.support.transition.end,a).emulateTransitionEnd(150):a();d.removeClass("in")};var m=h.fn.tab;h.fn.tab=function(c){return this.each(function(){var b=
h(this),f=b.data("bs.tab");f||b.data("bs.tab",f=new g(this));if("string"==typeof c)f[c]()})};h.fn.tab.Constructor=g;h.fn.tab.noConflict=function(){h.fn.tab=m;return this};h(document).on("click.bs.tab.data-api",'[data-toggle\x3d"tab"], [data-toggle\x3d"pill"]',function(c){c.preventDefault();h(this).tab("show")})}(jQuery);
+function(h){var g=function(c,b){this.$element=h(c);this.options=h.extend({},g.DEFAULTS,b);this.transitioning=null;this.options.parent&&(this.$parent=h(this.options.parent));this.options.toggle&&this.toggle()};g.DEFAULTS={toggle:!0};g.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};g.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=h.Event("show.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){if((c=this.$parent&&
this.$parent.find("\x3e .panel \x3e .in"))&&c.length){var b=c.data("bs.collapse");if(b&&b.transitioning)return;c.collapse("hide");b||c.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0);this.transitioning=1;c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!h.support.transition)return c.call(this);b=h.camelCase(["scroll",f].join("-"));
this.$element.one(h.support.transition.end,h.proxy(c,this)).emulateTransitionEnd(350)[f](this.$element[0][b])}}};g.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=h.Event("hide.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var b=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
if(!h.support.transition)return b.call(this);this.$element[c](0).one(h.support.transition.end,h.proxy(b,this)).emulateTransitionEnd(350)}}};g.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var m=h.fn.collapse;h.fn.collapse=function(c){return this.each(function(){var b=h(this),f=b.data("bs.collapse"),a=h.extend({},g.DEFAULTS,b.data(),"object"==typeof c&&c);!f&&a.toggle&&"show"==c&&(c=!c);f||b.data("bs.collapse",f=new g(this,a));if("string"==typeof c)f[c]()})};h.fn.collapse.Constructor=
g;h.fn.collapse.noConflict=function(){h.fn.collapse=m;return this};h(document).on("click.bs.collapse.data-api","[data-toggle\x3dcollapse]",function(c){var b=h(this),f;c=b.attr("data-target")||c.preventDefault()||(f=b.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"");f=h(c);var a=(c=f.data("bs.collapse"))?"toggle":b.data(),d=b.attr("data-parent"),e=d&&h(d);c&&c.transitioning||(e&&e.find('[data-toggle\x3dcollapse][data-parent\x3d"'+d+'"]').not(b).addClass("collapsed"),b[f.hasClass("in")?"addClass":"removeClass"]("collapsed"));
f.collapse(a)})}(jQuery);
+function(h){h.fn.emulateTransitionEnd=function(g){var m=!1,c=this;h(this).one(h.support.transition.end,function(){m=!0});setTimeout(function(){m||h(c).trigger(h.support.transition.end)},g);return this};h(function(){var g=h.support,m;a:{m=document.createElement("bootstrap");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},b;for(b in c)if(void 0!==m.style[b]){m={end:c[b]};break a}m=!1}g.transition=m})}(jQuery);
!function(h){var g=function(c,b){this.element=h(c);this.format=m.parseFormat(b.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=h(m.template).appendTo("body").on({click:h.proxy(this.click,this)});this.position=b.position||"below";this.picker.addClass(this.position);this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):!1;if(this.isInput)this.element.on({focus:h.proxy(this.show,this),keyup:h.proxy(this.update,this)});else if(this.component)this.component.on("click",
h.proxy(this.show,this));else this.element.on("click",h.proxy(this.show,this));this.minViewMode=b.minViewMode||this.element.data("date-minviewmode")||0;if("string"===typeof this.minViewMode)switch(this.minViewMode){case "months":this.minViewMode=1;break;case "years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=b.viewMode||this.element.data("date-viewmode")||0;if("string"===typeof this.viewMode)switch(this.viewMode){case "months":this.viewMode=1;break;case "years":this.viewMode=
2;break;default:this.viewMode=0}this.startViewMode=this.viewMode;this.weekStart=b.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=0===this.weekStart?6:this.weekStart-1;this.onRender=b.onRender;this.fillDow();this.fillMonths();this.update();this.showMode()};g.prototype={constructor:g,show:function(c){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();h(window).on("resize",h.proxy(this.place,this));c&&(c.stopPropagation(),
c.preventDefault());var b=this;h(document).on("mousedown",function(c){0==h(c.target).closest(".datepicker").length&&b.hide()});this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();h(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();this.isInput||h(document).off("mousedown",this.hide);this.element.trigger({type:"hide",date:this.date})},set:function(){var c=m.formatDate(this.date,this.format);this.isInput?this.element.prop("value",c):
(this.component&&this.element.find("input").prop("value",c),this.element.data("date",c))},setValue:function(c){this.date="string"===typeof c?m.parseDate(c,this.format):new Date(c);this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},place:function(){var c=this.component?this.component.offset():this.element.offset();this.picker.css({top:"below"==this.position?c.top+this.height:c.top-this.picker[0].offsetHeight,left:c.left})},update:function(c){this.date=
m.parseDate("string"===typeof c?c:this.isInput?this.element.prop("value"):this.element.data("date"),this.format);this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},fillDow:function(){for(var c=this.weekStart,b="\x3ctr\x3e";c<this.weekStart+7;)b+='\x3cth class\x3d"dow"\x3e'+m.dates.daysMin[c++%7]+"\x3c/th\x3e";b+="\x3c/tr\x3e";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var c="",b=0;12>b;)c+='\x3cspan class\x3d"month"\x3e'+
m.dates.monthsShort[b++]+"\x3c/span\x3e";this.picker.find(".datepicker-months td").append(c)},fill:function(){var c=new Date(this.viewDate),b=c.getFullYear(),f=c.getMonth(),a=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(m.dates.months[f]+" "+b);var d=new Date(b,f-1,28,0,0,0,0),c=m.getDaysInMonth(d.getFullYear(),d.getMonth());d.setDate(c);d.setDate(c-(d.getDay()-this.weekStart+7)%7);var e=new Date(d);e.setDate(e.getDate()+42);for(var e=e.valueOf(),c=[],g,h,q;d.valueOf()<e;){d.getDay()===
this.weekStart&&c.push("\x3ctr\x3e");g=this.onRender(d);h=d.getFullYear();q=d.getMonth();if(q<f&&h===b||h<b)g+=" old";else if(q>f&&h===b||h>b)g+=" new";d.valueOf()===a&&(g+=" active");c.push('\x3ctd class\x3d"day '+g+'"\x3e'+d.getDate()+"\x3c/td\x3e");d.getDay()===this.weekEnd&&c.push("\x3c/tr\x3e");d.setDate(d.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));f=this.date.getFullYear();c=this.picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");
f===b&&c.eq(this.date.getMonth()).addClass("active");c="";b=10*parseInt(b/10,10);a=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;for(d=-1;11>d;d++)c+='\x3cspan class\x3d"year'+(-1===d||10===d?" old":"")+(f===b?" active":"")+'"\x3e'+b+"\x3c/span\x3e",b+=1;a.html(c)},click:function(c){c.stopPropagation();c.preventDefault();var b=h(c.target).closest("span, td, th");if(1===b.length)switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "switch":this.showMode(1);
break;case "prev":case "next":this.viewDate["set"+m.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+m.modes[this.viewMode].navFnc].call(this.viewDate)+m.modes[this.viewMode].navStep*("prev"===b[0].className?-1:1)),this.fill(),this.set()}break;case "span":b.is(".month")?(c=b.parent().find("span").index(b),this.viewDate.setMonth(c)):(b=parseInt(b.text(),10)||0,this.viewDate.setFullYear(b));0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",
date:this.date,viewMode:m.modes[this.viewMode].clsName}));this.showMode(-1);this.fill();this.set();break;case "td":if(b.is(".day")&&!b.is(".disabled")){var f=parseInt(b.text(),10)||1;c=this.viewDate.getMonth();b.is(".old")?c-=1:b.is(".new")&&(c+=1);b=this.viewDate.getFullYear();this.date=new Date(b,c,f,0,0,0,0);this.viewDate=new Date(b,c,Math.min(28,f),0,0,0,0);this.fill();this.set();this.element.trigger({type:"changeDate",date:this.date,viewMode:m.modes[this.viewMode].clsName})}}},mousedown:function(c){c.stopPropagation();
c.preventDefault()},showMode:function(c){c&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+c)));this.picker.find("\x3ediv").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).show()}};h.fn.datepicker=function(c,b){return this.each(function(){var f=h(this),a=f.data("datepicker"),d="object"===typeof c&&c;a||f.data("datepicker",a=new g(this,h.extend({},h.fn.datepicker.defaults,d)));if("string"===typeof c)a[c](b)})};h.fn.datepicker.defaults={onRender:function(c){return""}};
h.fn.datepicker.Constructor=g;var m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},
isLeapYear:function(c){return 0===c%4&&0!==c%100||0===c%400},getDaysInMonth:function(c,b){return[31,m.isLeapYear(c)?29:28,31,30,31,30,31,31,30,31,30,31][b]},parseFormat:function(c){var b=c.match(/[.\/\-\s].*?/);c=c.split(/\W+/);if(!b||!c||0===c.length)throw Error("Invalid date format.");return{separator:b,parts:c}},parseDate:function(c,b){var f=c.split(b.separator);c=new Date;var a;c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);if(f.length===b.parts.length){for(var d=c.getFullYear(),
e=c.getDate(),g=c.getMonth(),h=0,m=b.parts.length;h<m;h++)switch(a=parseInt(f[h],10)||1,b.parts[h]){case "dd":case "d":e=a;c.setDate(a);break;case "mm":case "m":g=a-1;c.setMonth(a-1);break;case "yy":d=2E3+a;c.setFullYear(2E3+a);break;case "yyyy":d=a,c.setFullYear(a)}c=new Date(d,g,e,0,0,0)}return c},formatDate:function(c,b){var f={d:c.getDate(),m:c.getMonth()+1,yy:c.getFullYear().toString().substring(2),yyyy:c.getFullYear()};f.dd=(10>f.d?"0":"")+f.d;f.mm=(10>f.m?"0":"")+f.m;c=[];for(var a=0,d=b.parts.length;a<
d;a++)c.push(f[b.parts[a]]);return c.join(b.separator)},headTemplate:'\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"prev"\x3e\x26lsaquo;\x3c/th\x3e\x3cth colspan\x3d"5" class\x3d"switch"\x3e\x3c/th\x3e\x3cth class\x3d"next"\x3e\x26rsaquo;\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e',contTemplate:'\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d"7"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e'};m.template='\x3cdiv class\x3d"datepicker dropdown-menu"\x3e\x3cdiv class\x3d"datepicker-days"\x3e\x3ctable class\x3d" table-condensed"\x3e'+
m.headTemplate+'\x3ctbody\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-months"\x3e\x3ctable class\x3d"table-condensed"\x3e'+m.headTemplate+m.contTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-years"\x3e\x3ctable class\x3d"table-condensed"\x3e'+m.headTemplate+m.contTemplate+"\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e"}(window.jQuery);
var Mustache=function(){var h=function(){};h.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0,"TRANSLATION-HINT":!0},context:{},render:function(g,h,c,b){b||(this.context=h,this.buffer=[]);if(this.includes("",g)){this.pragmas["TRANSLATION-HINT"]&&(h._mode=this.pragmas["TRANSLATION-HINT"].mode);g=this.render_pragmas(g);g=this.render_i18n(g,h,c);var f=this.render_section(g,h,c);if(f===g){if(b)return this.render_tags(f,h,c,!0);this.render_tags(f,h,c,!1)}else{if(b)return f;
g=f.split("\n");for(h=0;h<g.length;h++)this.send(g[h])}}else{if(b)return g;this.send(g)}},send:function(g){""!=g&&this.buffer.push(g)},render_pragmas:function(g){if(!this.includes("%",g))return g;var h=this;return g.replace(RegExp(this.otag+"%([\\w-]+) ?([\\w]+\x3d[\\w]+)?"+this.ctag),function(c,b,f){if(!h.pragmas_implemented[b])throw{message:"This implementation of mustache doesn't understand the '"+b+"' pragma"};h.pragmas[b]={};f&&(c=f.split("\x3d"),h.pragmas[b][c[0]]=c[1]);return""})},render_partial:function(g,
h,c){g=this.trim(g);if(!c||void 0===c[g])throw{message:"unknown_partial '"+g+"'"};return"object"!=typeof h[g]?this.render(c[g],h,c,!0):this.render(c[g],h[g],c,!0)},render_i18n:function(g,h,c){if(-1==g.indexOf(this.otag+"_i"))return g;var b=this;return g.replace(RegExp(this.otag+"\\_i"+this.ctag+"\\s*([\\s\\S]+?)"+this.otag+"\\/i"+this.ctag,"mg"),function(f,a){var d=void 0;b.pragmas&&b.pragmas["TRANSLATION-HINT"]&&b.pragmas["TRANSLATION-HINT"].mode?d={_mode:b.pragmas["TRANSLATION-HINT"].mode}:h._mode&&
(d={_mode:h._mode});return b.render(_(a,d),h,c,!0)})},render_section:function(g,h,c){if(!this.includes("#",g)&&!this.includes("^",g))return g;var b=this;return g.replace(RegExp("^([\\s\\S]*?)"+this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]*?)"+this.otag+"\\/\\s*\\3\\s*"+this.ctag+"\\s*([\\s\\S]*)$","g"),function(f,a,d,e,g,k){f=a?b.render_tags(a,h,c,!0):"";k=k?b.render(k,h,c,!0):"";e=b.find(e,h);if("^"==d)return!e||b.is_array(e)&&0===e.length?f+b.render(g,h,c,!0)+k:f+""+k;if("#"==d)return b.is_array(e)?
f+b.map(e,function(a){return b.render(g,b.create_context(a),c,!0)}).join("")+k:b.is_object(e)?f+b.render(g,b.create_context(e),c,!0)+k:"function"===typeof e?f+e.call(h,g,function(a){return b.render(a,h,c,!0)})+k:e?f+b.render(g,h,c,!0)+k:f+""+k})},render_tags:function(g,h,c,b){var f=this,a=function(){return RegExp(f.otag+"(\x3d|!|\x3e|\\{|%)?([^\\/#\\^]+?)\\1?"+f.ctag+"+","g")},d=a(),e=function(b,e,g){switch(e){case "!":return"";case "\x3d":return f.set_delimiters(g),d=a(),"";case "\x3e":return f.render_partial(g,
h,c);case "{":return f.find(g,h);default:return f.escape(f.find(g,h))}};g=g.split("\n");for(var l=0;l<g.length;l++)g[l]=g[l].replace(d,e,this),b||this.send(g[l]);if(b)return g.join("\n")},set_delimiters:function(g){g=g.split(" ");this.otag=this.escape_regex(g[0]);this.ctag=this.escape_regex(g[1])},escape_regex:function(g){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"));return g.replace(arguments.callee.sRE,"\\$1")},find:function(g,
h){g=this.trim(g);var c;if(!1===h[g]||0===h[g]||h[g])c=h[g];else if(!1===this.context[g]||0===this.context[g]||this.context[g])c=this.context[g];return"function"===typeof c?c.apply(h):void 0!==c?c:""},includes:function(g,h){return-1!=h.indexOf(this.otag+g)},escape:function(g){g=String(null===g?"":g);return g.replace(/&(?!\w+;)|["'<>\\]/g,function(g){switch(g){case "\x26":return"\x26amp;";case "\\":return"\\\\";case '"':return"\x26quot;";case "'":return"\x26#39;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";
default:return g}})},create_context:function(g){if(this.is_object(g))return g;var h=".";this.pragmas["IMPLICIT-ITERATOR"]&&(h=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};c[h]=g;return c},is_object:function(g){return g&&"object"==typeof g},is_array:function(g){return"[object Array]"===Object.prototype.toString.call(g)},trim:function(g){return g.replace(/^\s*|\s*$/g,"")},map:function(g,h){if("function"==typeof g.map)return g.map(h);for(var c=[],b=g.length,f=0;f<b;f++)c.push(h(g[f]));return c}};
return{name:"mustache.js",version:"0.3.1-dev-twitter",to_html:function(g,m,c,b){var f=new h;b&&(f.send=b);f.render(g,m||{},c);if(!b)return f.buffer.join("\n")}}}();
(function(h){function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function m(a,b){return function(c){return l(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function b(){}function f(a){O(a);d(this,a)}function a(a){a=y(a);var b=a.year||0,c=a.month||0,d=a.week||0,e=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||
0)+36E5*(a.hour||0);this._days=+e+7*d;this._months=+c+12*b;this._data={};this._bubble()}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function e(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function k(a,b,c,d){var e,f,g=b._milliseconds,h=b._days;b=b._months;g&&a._d.setTime(+a._d+g*
c);(h||b)&&(e=a.minute(),f=a.hour());h&&a.date(a.date()+h*c);b&&a.month(a.month()+b*c);g&&!d&&n.updateOffset(a);(h||b)&&(a.minute(e),a.hour(f))}function q(a){return"[object Array]"===Object.prototype.toString.call(a)}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&A(a[d])!==A(b[d]))&&g++;return g+f}function v(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Ma[a]||Na[b]||b}return a}function y(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&
(b=v(c),b&&(d[b]=a[c]));return d}function H(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else{if(0!==a.indexOf("month"))return;b=12;c="month"}n[a]=function(d,e){var f,g,k=n.fn._lang[a],l=[];if("number"==typeof d&&(e=d,d=h),g=function(a){a=n().utc().set(c,a);return k.call(n.fn._lang,a,d||"")},null!=e)return g(e);for(f=0;b>f;f++)l.push(g(f));return l}}function A(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a)),b}function I(a){return 0===a%4&&0!==a%100||0===a%400}function O(a){var b;
a._a&&-2===a._pf.overflow&&(b=0>a._a[E]||11<a._a[E]?E:1>a._a[N]||a._a[N]>(new Date(Date.UTC(a._a[p],a._a[E]+1,0))).getUTCDate()?N:0>a._a[J]||23<a._a[J]?J:0>a._a[s]||59<a._a[s]?s:0>a._a[C]||59<a._a[C]?C:0>a._a[P]||999<a._a[P]?P:-1,a._pf._overflowDayOfYear&&(p>b||b>N)&&(b=N),a._pf.overflow=b)}function S(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=
a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function D(a){return a?a.toLowerCase().replace("_","-"):a}function t(a,b){return b._isUTC?n(a).zone(b._offset||0):n(a).local()}function Q(a){var b,c,d,e,f=0,g=function(a){if(!z[a]&&u)try{require("./lang/"+a)}catch(b){}return z[a]};if(!a)return n.fn._lang;if(!q(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){e=D(a[f]).split("-");b=e.length;for(d=(d=D(a[f+1]))?d.split("-"):null;0<b;){if(c=g(e.slice(0,b).join("-")))return c;
if(d&&d.length>=b&&r(e,d,!0)>=b-1)break;b--}f++}return n.fn._lang}function U(a){var b,c,d=a.match(sa);b=0;for(c=d.length;c>b;b++)d[b]=ca[d[b]]?ca[d[b]]:d[b].match(/\[[\s\S]/)?d[b].replace(/^\[|\]$/g,""):d[b].replace(/\\/g,"");return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function aa(a,b){return a.isValid()?(b=W(b,a.lang()),pa[b]||(pa[b]=U(b)),pa[b](a)):a.lang().invalidDate()}function W(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;
for(la.lastIndex=0;0<=d&&la.test(a);)a=a.replace(la,c),la.lastIndex=0,d-=1;return a}function ka(a,b){var c=b._strict;switch(a){case "DDDD":return va;case "YYYY":case "GGGG":case "gggg":return c?Ka:Ba;case "Y":case "G":case "g":return Da;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?La:Ca;case "S":if(c)return Ja;case "SS":if(c)return ua;case "SSS":if(c)return va;case "DDD":return Aa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Ga;case "a":case "A":return Q(b._l)._meridiemParse;
case "X":return Ia;case "Z":case "ZZ":return na;case "T":return Ha;case "SSSS":return Fa;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?ua:ta;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return ta;default:var c=RegExp,d;d=ia(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26");return new c(d)}}function ga(a){a=(a||"").match(na)||[];a=((a[a.length-1]||[])+"").match(Oa)||
["-",0,0];var b=+(60*a[1])+A(a[2]);return"+"===a[0]?-b:b}function Y(a){var b,c,d,e,f,g,h,k,l,m=[];if(!a._d){c=$(a);a._w&&null==a._a[N]&&null==a._a[E]&&(e=function(b){var c=parseInt(b,10);return b?3>b.length?68<c?1900+c:2E3+c:c:null==a._a[p]?n().weekYear():a._a[p]},f=a._w,null!=f.GG||null!=f.W||null!=f.E?g=T(e(f.GG),f.W||1,f.E,4,1):(h=Q(a._l),k=null!=f.d?ea(f.d,h):null!=f.e?parseInt(f.e,10)+h._week.dow:0,l=parseInt(f.w,10)||1,null!=f.d&&k<h._week.dow&&l++,g=T(e(f.gg),l,k,h._week.doy,h._week.dow)),
a._a[p]=g.year,a._dayOfYear=g.dayOfYear);a._dayOfYear&&(d=null==a._a[p]?c[p]:a._a[p],a._dayOfYear>(I(d)?366:365)&&(a._pf._overflowDayOfYear=!0),b=da(d,0,a._dayOfYear),a._a[E]=b.getUTCMonth(),a._a[N]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=m[b]=c[b];for(;7>b;b++)a._a[b]=m[b]=null==a._a[b]?2===b?1:0:a._a[b];m[J]+=A((a._tzm||0)/60);m[s]+=A((a._tzm||0)%60);a._d=(a._useUTC?da:ja).apply(null,m)}}function $(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:
[b.getFullYear(),b.getMonth(),b.getDate()]}function fa(a){a._a=[];a._pf.empty=!0;var b,c,d,e,f;b=Q(a._l);var g=""+a._i,h=g.length,k=0;d=W(a._f,b).match(sa)||[];for(b=0;b<d.length;b++)if(e=d[b],(c=(g.match(ka(e,a))||[])[0])&&(f=g.substr(0,g.indexOf(c)),0<f.length&&a._pf.unusedInput.push(f),g=g.slice(g.indexOf(c)+c.length),k+=c.length),ca[e]){c?a._pf.empty=!1:a._pf.unusedTokens.push(e);var l=a,m=void 0,n=l._a;switch(e){case "M":case "MM":null!=c&&(n[E]=A(c)-1);break;case "MMM":case "MMMM":m=Q(l._l).monthsParse(c);
null!=m?n[E]=m:l._pf.invalidMonth=c;break;case "D":case "DD":null!=c&&(n[N]=A(c));break;case "DDD":case "DDDD":null!=c&&(l._dayOfYear=A(c));break;case "YY":n[p]=A(c)+(68<A(c)?1900:2E3);break;case "YYYY":case "YYYYY":case "YYYYYY":n[p]=A(c);break;case "a":case "A":l._isPm=Q(l._l).isPM(c);break;case "H":case "HH":case "h":case "hh":n[J]=A(c);break;case "m":case "mm":n[s]=A(c);break;case "s":case "ss":n[C]=A(c);break;case "S":case "SS":case "SSS":case "SSSS":n[P]=A(1E3*("0."+c));break;case "X":l._d=
new Date(1E3*parseFloat(c));break;case "Z":case "ZZ":l._useUTC=!0;l._tzm=ga(c);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":e=e.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":e=e.substr(0,2),c&&(l._w=l._w||{},l._w[e]=c)}}else a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=h-k;0<g.length&&a._pf.unusedInput.push(g);a._isPm&&12>a._a[J]&&(a._a[J]+=12);!1===a._isPm&&12===a._a[J]&&(a._a[J]=0);Y(a);O(a)}function ia(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
function(a,b,c,d,e){return b||c||d||e})}function ja(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);return 1970>a&&b.setFullYear(a),b}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Z(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function M(a,b,c){var d;b=c-b;c-=a.day();return c>b&&(c-=7),b-7>c&&(c+=7),d=n(a).add("d",
c),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function T(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:0<g?a:a-1,dayOfYear:0<g?g:(I(a-1)?366:365)+g}}function ba(a){var b=a._i,c=a._f;if(null===b)a=n.invalid({nullInput:!0});else{"string"==typeof b&&(a._i=b=Q().preparse(b));if(n.isMoment(b)){a=b;var e,k={};for(e in a)a.hasOwnProperty(e)&&F.hasOwnProperty(e)&&(k[e]=a[e]);a=k;a._d=new Date(+b._d)}else if(c)if(q(c)){var l=a,m,p;
if(0===l._f.length)l._pf.invalidFormat=!0,l._d=new Date(0/0);else{for(b=0;b<l._f.length;b++)e=0,k=d({},l),k._pf=g(),k._f=l._f[b],fa(k),S(k)&&(e+=k._pf.charsLeftOver,e+=10*k._pf.unusedTokens.length,k._pf.score=e,(null==p||p>e)&&(p=e,m=k));d(l,m||k)}}else fa(a);else if(k=a,m=k._i,p=w.exec(m),m===h)k._d=new Date;else if(p)k._d=new Date(+p[1]);else if("string"==typeof m)if(l=k._i,b=Ea.exec(l)){k._pf.iso=!0;m=0;for(p=ma.length;p>m;m++)if(ma[m][1].exec(l)){k._f=ma[m][0]+(b[6]||" ");break}m=0;for(p=oa.length;p>
m;m++)if(oa[m][1].exec(l)){k._f+=oa[m][0];break}l.match(na)&&(k._f+="Z");fa(k)}else k._d=new Date(l);else q(m)?(k._a=m.slice(0),Y(k)):"[object Date]"===Object.prototype.toString.call(m)||m instanceof Date?k._d=new Date(+m):"object"==typeof m?k._d||(l=y(k._i),k._a=[l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond],Y(k)):k._d=new Date(m);a=new f(a)}return a}function B(a,b){n.fn[a]=n.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),n.updateOffset(this),
this):this._d["get"+c+b]()}}function ha(a){n.duration.fn[a]=function(){return this._data[a]}}function V(a,b){n.duration.fn["as"+a]=function(){return+this/b}}function G(a){var b=!1,c=n;"undefined"==typeof ender&&(a?(R.moment=function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)},d(R.moment,c)):R.moment=n)}for(var n,x,R=this,K=Math.round,p=0,E=1,N=2,J=3,s=4,C=5,P=
6,z={},F={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},u="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,w=/^\/?Date\((\-?\d+)/i,X=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,za=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,sa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,
la=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ta=/\d\d?/,Aa=/\d{1,3}/,Ba=/\d{1,4}/,Ca=/[+\-]?\d{1,6}/,Fa=/\d+/,Ga=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,na=/Z|[\+\-]\d\d:?\d\d/gi,Ha=/T/i,Ia=/[\+\-]?\d+(\.\d{1,3})?/,Ja=/\d/,ua=/\d\d/,va=/\d{3}/,Ka=/\d{4}/,La=/[+-]?\d{6}/,Da=/[+-]?\d+/,Ea=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
ma=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],oa=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Oa=/([\+\-]|\d\d)/gi,qa=["Date","Hours","Minutes","Seconds","Milliseconds"],ra={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Ma={ms:"millisecond",s:"second",
m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Na={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pa={},wa="DDD w W M D d".split(" "),xa="MDHhmswW".split(""),ca={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+l(Math.abs(a),
6)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return l(this.weekYear(),4)},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return l(this.isoWeekYear(),4)},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),
!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return l(A(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+l(A(a/60),2)+":"+l(A(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,
b="-"),b+l(A(a/60),2)+l(A(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ya=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];wa.length;)x=wa.pop(),ca[x+"o"]=c(ca[x],x);for(;xa.length;)x=xa.pop(),ca[x+x]=m(ca[x],2);ca.DDDD=m(ca.DDD,3);d(b.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),
months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=n.utc([2E3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=n([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,
""),this._weekdaysParse[b]=RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},
_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",
y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return M(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",
invalidDate:function(){return this._invalidDate}});n=function(a,b,c,d){var e;return"boolean"==typeof c&&(d=c,c=h),e={},e._isAMomentObject=!0,e._i=a,e._f=b,e._l=c,e._strict=d,e._isUTC=!1,e._pf=g(),ba(e)};n.utc=function(a,b,c,d){var e;return"boolean"==typeof c&&(d=c,c=h),e={},e._isAMomentObject=!0,e._useUTC=!0,e._isUTC=!0,e._l=c,e._i=a,e._f=b,e._strict=d,e._pf=g(),ba(e).utc()};n.unix=function(a){return n(1E3*a)};n.duration=function(b,c){var d,e,f,g=b,h=null;return n.isDuration(b)?g={ms:b._milliseconds,
d:b._days,M:b._months}:"number"==typeof b?(g={},c?g[c]=b:g.milliseconds=b):(h=X.exec(b))?(d="-"===h[1]?-1:1,g={y:0,d:A(h[N])*d,h:A(h[J])*d,m:A(h[s])*d,s:A(h[C])*d,ms:A(h[P])*d}):(h=za.exec(b))&&(d="-"===h[1]?-1:1,f=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*d},g={y:f(h[2]),M:f(h[3]),d:f(h[4]),h:f(h[5]),m:f(h[6]),s:f(h[7]),w:f(h[8])}),e=new a(g),n.isDuration(b)&&b.hasOwnProperty("_lang")&&(e._lang=b._lang),e};n.version="2.5.1";n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";n.updateOffset=
function(){};n.lang=function(a,c){var d,e;a?(c?(e=D(a),c.abbr=e,z[e]||(z[e]=new b),z[e].set(c)):null===c?(delete z[a],a="en"):z[a]||Q(a),e=(d=n.duration.fn._lang=n.fn._lang=Q(a),d._abbr)):e=n.fn._lang._abbr;return e};n.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),Q(a)};n.isMoment=function(a){return a instanceof f||null!=a&&a.hasOwnProperty("_isAMomentObject")};n.isDuration=function(b){return b instanceof a};for(x=ya.length-1;0<=x;--x)H(ya[x]);n.normalizeUnits=function(a){return v(a)};
n.invalid=function(a){var b=n.utc(0/0);return null!=a?d(b._pf,a):b._pf.userInvalidated=!0,b};n.parseZone=function(a){return n(a).parseZone()};d(n.fn=f.prototype,{clone:function(){return n(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=n(this).utc();return 0<
a.year()&&9999>=a.year()?aa(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):aa(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return S(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<r(this._a,(this._isUTC?n.utc(this._a):n(this._a)).toArray()):!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},
local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){a=aa(this,a||n.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;return c="string"==typeof a?n.duration(+b,a):n.duration(a,b),k(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?n.duration(+b,a):n.duration(a,b),k(this,c,-1),this},diff:function(a,b,c){var d,f;a=t(a,this);var g=6E4*(this.zone()-a.zone());return b=v(b),"year"===b||"month"===b?(d=432E5*(this.daysInMonth()+a.daysInMonth()),
f=12*(this.year()-a.year())+(this.month()-a.month()),f+=(this-n(this).startOf("month")-(a-n(a).startOf("month")))/d,f-=6E4*(this.zone()-n(this).startOf("month").zone()-(a.zone()-n(a).startOf("month").zone()))/d,"year"===b&&(f/=12)):(d=this-a,f="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?f:e(f)},from:function(a,b){return n.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(n(),a)},calendar:function(){var a=
t(n(),this).startOf("day"),a=this.diff(a,"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return I(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ea(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,
c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),n.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=v(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=v(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+n(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+n(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+t(a,this).startOf(b)},min:function(a){return a=n.apply(null,
arguments),this>a?this:a},max:function(a){return a=n.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=ga(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&k(this,n.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==
typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?n(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=K((n(this).startOf("day")-n(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(a){var b=M(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==
a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=M(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=M(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=v(a),this[a]()},set:function(a,
b){return a=v(a),"function"==typeof this[a]&&this[a](b),this},lang:function(a){return a===h?this._lang:(this._lang=Q(a),this)}});for(x=0;x<qa.length;x++)B(qa[x].toLowerCase().replace(/s$/,""),qa[x]);B("year","FullYear");n.fn.days=n.fn.day;n.fn.months=n.fn.month;n.fn.weeks=n.fn.week;n.fn.isoWeeks=n.fn.isoWeek;n.fn.toJSON=n.fn.toISOString;d(n.duration.fn=a.prototype,{_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var c=this._months,d=this._data;d.milliseconds=a%1E3;a=e(a/1E3);d.seconds=
a%60;a=e(a/60);d.minutes=a%60;a=e(a/60);d.hours=a%24;b+=e(a/24);d.days=b%30;c+=e(b/30);d.months=c%12;b=e(c/12);d.years=b},weeks:function(){return e(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*(this._months%12)+31536E6*A(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=K(Math.abs(b)/1E3),f=K(e/60),g=K(f/60),h=K(g/24),k=K(h/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===g&&["h"]||22>g&&["hh",g]||1===h&&["d"]||25>=h&&["dd",
h]||45>=h&&["M"]||345>h&&["MM",K(h/30)]||1===k&&["y"]||["yy",k];c=(e[2]=c,e[3]=0<b,e[4]=d,Z.apply({},e));return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=n.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=n.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=v(a),
this[a.toLowerCase()+"s"]()},as:function(a){return a=v(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:n.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(x in ra)ra.hasOwnProperty(x)&&
(V(x,ra[x]),ha(x.toLowerCase()));V("Weeks",6048E5);n.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};n.lang("en",{ordinal:function(a){var b=a%10,b=1===A(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});u?(module.exports=n,G(!0)):"function"==typeof define&&define.amd?define("moment",function(a,b,c){return c.config&&c.config()&&!0!==c.config().noGlobal&&G(c.config().noGlobal===h),n}):G()}).call(this);
!function(h){function g(a,b,c){b=b.mime||U;h.location.href=a.toDataURL(b).replace(b,aa);"function"==typeof c&&c()}function m(a){return"string"==typeof a&&(a={value:a}),a||{}}function c(a){function b(c){a[c]=function(){throw Error(c+" requires HTML5 canvas element support");}}var c,d=["canvas","image","save","saveSync","toDataURL"];for(c=0;c<d.length;c++)b(d[c])}function b(a,b,c){function d(){O.write(e,f,0,f.length,0,function(a){O.close(e);c(a)})}if("string"!=typeof b.path)return c(new TypeError("Invalid path type: "+
typeof b.path));var e,f;a.toBuffer(function(a,b){return a?c(a):(f=b,void(e&&d()))});O.open(b.path,"w",Z,function(a,b){return a?c(a):(e=b,void(f&&d()))})}function f(a,b){var c;a>b&&(c=a,a=b,b=c);c=b*b;c+=b;c>>=1;c+=a;ha[c]=1}function a(a,b){var c;B[a+t*b]=1;for(c=-2;2>c;c++)B[a+c+t*(b-2)]=1,B[a-2+t*(b+c+1)]=1,B[a+2+t*(b+c)]=1,B[a+c+1+t*(b+2)]=1;for(c=0;2>c;c++)f(a-1,b+c),f(a+1,b-c),f(a-c,b-1),f(a+c,b+1)}function d(a){for(;255<=a;)a-=255,a=(a>>8)+(255&a);return a}function e(a,b,c,e){var f,g,h;for(g=
0;e>g;g++)x[c+g]=0;for(g=0;b>g;g++){if(f=$[x[a+g]^x[c]],255!==f)for(h=1;e>h;h++)x[c+h-1]=x[c+h]^Y[d(f+G[e-h])];else for(h=c;c+e>h;h++)x[h]=x[h+1];x[c+e-1]=255===f?0:Y[d(f+G[0])]}}function l(a,b){var c;return a>b&&(c=a,a=b,b=c),c=b,c+=b*b,c>>=1,c+=a,1===ha[c]}function k(a){var b,c,d;switch(a){case 0:for(b=0;t>b;b++)for(a=0;t>a;a++)a+b&1||l(a,b)||(B[a+b*t]^=1);break;case 1:for(b=0;t>b;b++)for(a=0;t>a;a++)1&b||l(a,b)||(B[a+b*t]^=1);break;case 2:for(b=0;t>b;b++)for(a=c=0;t>a;a++,c++)3===c&&(c=0),c||l(a,
b)||(B[a+b*t]^=1);break;case 3:for(b=d=0;t>b;b++,d++)for(3===d&&(d=0),c=d,a=0;t>a;a++,c++)3===c&&(c=0),c||l(a,b)||(B[a+b*t]^=1);break;case 4:for(b=0;t>b;b++)for(c=0,d=b>>1&1,a=0;t>a;a++,c++)3===c&&(c=0,d=!d),d||l(a,b)||(B[a+b*t]^=1);break;case 5:for(b=d=0;t>b;b++,d++)for(3===d&&(d=0),a=c=0;t>a;a++,c++)3===c&&(c=0),(a&b&1)+!(!c|!d)||l(a,b)||(B[a+b*t]^=1);break;case 6:for(b=d=0;t>b;b++,d++)for(3===d&&(d=0),a=c=0;t>a;a++,c++)3===c&&(c=0),(a&b&1)+(c&&c===d)&1||l(a,b)||(B[a+b*t]^=1);break;case 7:for(b=
d=0;t>b;b++,d++)for(3===d&&(d=0),a=c=0;t>a;a++,c++)3===c&&(c=0),(c&&c===d)+(a+b&1)&1||l(a,b)||(B[a+b*t]^=1)}}function q(a){var b,c=0;for(b=0;a>=b;b++)5<=M[b]&&(c+=fa+M[b]-5);for(b=3;a-1>b;b+=2)M[b-2]===M[b+2]&&M[b+2]===M[b-1]&&M[b-1]===M[b+1]&&3*M[b-1]===M[b]&&(0===M[b-3]||b+3>a||3*M[b-3]>=4*M[b]||3*M[b+3]>=4*M[b])&&(c+=ja);return c}function r(){var a,b,c,d,e,f,g,h;for(h=c=d=e=0;t-1>h;h++)for(g=0;t-1>g;g++)(B[g+t*h]&&B[g+1+t*h]&&B[g+t*(h+1)]&&B[g+1+t*(h+1)]||!(B[g+t*h]||B[g+1+t*h]||B[g+t*(h+1)]||
B[g+1+t*(h+1)]))&&(c+=ia);for(h=0;t>h;h++){for(f=a=g=M[0]=0;t>g;g++)(b=B[g+t*h])===a?M[f]++:M[++f]=1,a=b,d+=a?1:-1;c+=q(f)}0>d&&(d=-d);a=d;for(a=a+(a<<2)<<1;a>t*t;)a-=t*t,e++;c+=e*da;for(g=0;t>g;g++){for(f=a=h=M[0]=0;t>h;h++)(b=B[g+t*h])===a?M[f]++:M[++f]=1,a=b;c+=q(f)}return c}var v,y,H,A,I,O,S,D,t,Q=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],U="image/png",aa="image/octet-stream",W=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,
9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,
5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,
22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,
10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],ka={L:1,M:2,Q:3,H:4},ga=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],Y=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,
3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,
145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],$=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,
194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,
109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],fa=3,ia=3,ja=40,da=10,ea=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],Z=438,M=[],T=[],ba=1,B=[],ha=[],V=!1,G=[],n=h.qr,x=[],R={VERSION:"1.1.2",
canvas:function(b){b=m(b);var c=1<=b.size&&10>=b.size?b.size:4,c=25*c,g=b.canvas||(V?new v:h.document.createElement("canvas")),n=g.getContext("2d");n.canvas.width=c;n.canvas.height=c;n.fillStyle=b.background||"#fff";n.fillRect(0,0,c,c);ba=ka[b.level&&b.level.toUpperCase()||"L"];var q,s=b.value||"",C,M,z,F,u,w;z=s.length;D=0;do if(D++,q=4*(ba-1)+16*(D-1),A=W[q++],I=W[q++],y=W[q++],H=W[q],q=y*(A+I)+I-3+(9>=D),q>=z)break;while(40>D);t=17+4*D;F=y+(y+H)*(A+I)+I;for(z=0;F>z;z++)T[z]=0;x=s.slice(0);for(z=
0;t*t>z;z++)B[z]=0;for(z=0;(t*(t+1)+1)/2>z;z++)ha[z]=0;for(z=0;3>z;z++){q=w=0;1===z&&(q=t-7);2===z&&(w=t-7);B[w+3+t*(q+3)]=1;for(u=0;6>u;u++)B[w+u+t*q]=1,B[w+t*(q+u+1)]=1,B[w+6+t*(q+u)]=1,B[w+u+1+t*(q+6)]=1;for(u=1;5>u;u++)f(w+u,q+1),f(w+1,q+u+1),f(w+5,q+u),f(w+u+1,q+5);for(u=2;4>u;u++)B[w+u+t*(q+2)]=1,B[w+2+t*(q+u+1)]=1,B[w+4+t*(q+u)]=1,B[w+u+1+t*(q+4)]=1}if(1<D)for(z=Q[D],w=t-7;;){for(u=t-7;u>z-3&&(a(u,w),!(z>u));)u-=z;if(z+9>=w)break;w-=z;a(6,w);a(w,6)}B[8+t*(t-8)]=1;for(w=0;7>w;w++)f(7,w),f(t-
8,w),f(7,w+t-7);for(u=0;8>u;u++)f(u,7),f(u+t-8,7),f(u,t-8);for(u=0;9>u;u++)f(u,8);for(u=0;8>u;u++)f(u+t-8,8),f(8,u);for(w=0;7>w;w++)f(8,w+t-7);for(u=0;t-14>u;u++)1&u?(f(8+u,6),f(6,8+u)):(B[8+u+6*t]=1,B[6+t*(8+u)]=1);if(6<D)for(z=ea[D-7],q=17,u=0;6>u;u++)for(w=0;3>w;w++,q--)1&(11<q?D>>q-12:z>>q)?(B[5-u+t*(2-w+t-11)]=1,B[2-w+t-11+t*(5-u)]=1):(f(5-u,2-w+t-11),f(2-w+t-11,5-u));for(w=0;t>w;w++)for(u=0;w>=u;u++)B[u+t*w]&&f(u,w);F=x.length;for(s=0;F>s;s++)T[s]=x.charCodeAt(s);if(x=T.slice(0),u=y*(A+I)+I,
F>=u-2&&(F=u-2,9<D&&F--),s=F,9<D){x[s+2]=0;for(x[s+3]=0;s--;)z=x[s],x[s+3]|=255&z<<4,x[s+2]=z>>4;x[2]|=255&F<<4;x[1]=F>>4;x[0]=64|F>>12}else{x[s+1]=0;for(x[s+2]=0;s--;)z=x[s],x[s+2]|=255&z<<4,x[s+1]=z>>4;x[1]|=255&F<<4;x[0]=64|F>>4}for(s=F+3-(10>D);u>s;)x[s++]=236,x[s++]=17;G[0]=1;for(s=0;H>s;s++){G[s+1]=1;for(C=s;0<C;C--)G[C]=G[C]?G[C-1]^Y[d($[G[C]]+s)]:G[C-1];G[0]=Y[d($[G[0]]+s)]}for(s=0;H>=s;s++)G[s]=$[G[s]];q=u;for(s=w=0;A>s;s++)e(w,y,q,H),w+=y,q+=H;for(s=0;I>s;s++)e(w,y+1,q,H),w+=y+1,q+=H;for(s=
w=0;y>s;s++){for(C=0;A>C;C++)T[w++]=x[s+C*y];for(C=0;I>C;C++)T[w++]=x[A*y+s+C*(y+1)]}for(C=0;I>C;C++)T[w++]=x[A*y+s+C*(y+1)];for(s=0;H>s;s++)for(C=0;A+I>C;C++)T[w++]=x[u+s+C*H];x=T;u=w=t-1;q=F=1;M=(y+H)*(A+I)+I;for(s=0;M>s;s++)for(z=x[s],C=0;8>C;C++,z<<=1){128&z&&(B[u+t*w]=1);do F?u--:(u++,q?0!==w?w--:(u-=2,q=!q,6===u&&(u--,w=9)):w!==t-1?w++:(u-=2,q=!q,6===u&&(u--,w-=8))),F=!F;while(l(u,w))}x=B.slice(0);z=0;w=3E4;for(q=0;8>q&&(k(q),u=r(),w>u&&(w=u,z=q),7!==z);q++)B=x.slice(0);z!==q&&k(z);w=ga[z+(ba-
1<<3)];for(q=0;8>q;q++,w>>=1)1&w&&(B[t-1-q+8*t]=1,6>q?B[8+t*q]=1:B[8+t*(q+1)]=1);for(q=0;7>q;q++,w>>=1)1&w&&(B[8+t*(t-7+q)]=1,q?B[6-q+8*t]=1:B[7+8*t]=1);q=B;n.lineWidth=1;z=c/t;z=Math.floor(z);n.clearRect(0,0,c,c);n.fillStyle=b.background||"#fff";n.fillRect(0,0,z*(t+8),z*(t+8));n.fillStyle=b.foreground||"#000";for(b=0;t>b;b++)for(c=0;t>c;c++)q[c*t+b]&&n.fillRect(z*b,z*c,z,z);return g},image:function(a){a=m(a);var b=this.canvas(a),c=a.image||(V?new S:h.document.createElement("img"));return c.src=b.toDataURL(a.mime||
U),c.height=b.height,c.width=b.width,c},save:function(a,c,d){function e(a){f||(f=!0,d(a))}switch(a=m(a),typeof c){case "function":d=c;c=null;break;case "string":a.path=c}if("function"!=typeof d)throw new TypeError("Invalid callback type: "+typeof d);var f=!1;c=this.canvas(a);V?b(c,a,e):g(c,a,e)},saveSync:function(a,b){a=m(a);"string"==typeof b&&(a.path=b);var c=this.canvas(a);if(V){var d=a;if("string"!=typeof d.path)throw new TypeError("Invalid path type: "+typeof d.path);c=c.toBuffer();d=O.openSync(d.path,
"w",Z);try{O.writeSync(d,c,0,c.length,0)}finally{O.closeSync(d)}}else g(c,a)},toDataURL:function(a){return a=m(a),this.canvas(a).toDataURL(a.mime||U)},noConflict:function(){return h.qr=n,this}};"undefined"!=typeof exports?(V=!0,"undefined"!=typeof module&&module.exports&&(exports=module.exports=R),exports.qr=R,v=require("canvas"),S=v.Image,O=require("fs")):"function"==typeof define&&define.amd?define(function(){return R}):(h.HTMLCanvasElement||c(R),h.qr=R)}(this);