(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):"object"===typeof exports?module.exports=g(require("jquery")):g(jQuery)})(function(g){if(!g.support.cors&&g.ajaxTransport&&window.XDomainRequest){var k=/^https?:\/\//i,l=/^get|post$/i,e=RegExp("^"+location.protocol,"i");g.ajaxTransport("* text html xml json",function(b,f,a){if(b.crossDomain&&b.async&&l.test(b.type)&&k.test(b.url)&&e.test(b.url)){var c=null;return{send:function(a,h){var e="",r=(f.dataType||"").toLowerCase();c=
new XDomainRequest;/^\d+$/.test(f.timeout)&&(c.timeout=f.timeout);c.ontimeout=function(){h(500,"timeout")};c.onload=function(){var a="Content-Length: "+c.responseText.length+"\r\nContent-Type: "+c.contentType,b=200,d="success",f={text:c.responseText};try{if("html"===r||/text\/html/i.test(c.contentType))f.html=c.responseText;else if("json"===r||"text"!==r&&/\/json/i.test(c.contentType))try{f.json=g.parseJSON(c.responseText)}catch(e){b=500,d="parseerror"}else if("xml"===r||"text"!==r&&/\/xml/i.test(c.contentType)){var n=
new ActiveXObject("Microsoft.XMLDOM");n.async=!1;try{n.loadXML(c.responseText)}catch(k){n=void 0}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw"Invalid XML: "+c.responseText;f.xml=n}}catch(l){throw l;}finally{h(b,d,f,a)}};c.onprogress=function(){};c.onerror=function(){h(500,"error",{text:c.responseText})};f.data&&(e="string"===g.type(f.data)?f.data:g.param(f.data));c.open(b.type,b.url);c.send(e)},abort:function(){c&&c.abort()}}}})}});
(function(g){g.color={};g.color.make=function(k,e,b,f){var a={};a.r=k||0;a.g=e||0;a.b=b||0;a.a=null!=f?f:1;a.add=function(c,b){for(var h=0;h<c.length;++h)a[c.charAt(h)]+=b;return a.normalize()};a.scale=function(c,b){for(var h=0;h<c.length;++h)a[c.charAt(h)]*=b;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function c(a,c,b){return c<a?a:c>b?b:c}a.r=c(0,parseInt(a.r),255);a.g=c(0,parseInt(a.g),255);
a.b=c(0,parseInt(a.b),255);a.a=c(0,a.a,1);return a};a.clone=function(){return g.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};g.color.extract=function(k,e){var b;do{b=k.css(e).toLowerCase();if(""!=b&&"transparent"!=b)break;k=k.parent()}while(k.length&&!g.nodeName(k.get(0),"body"));"rgba(0, 0, 0, 0)"==b&&(b="transparent");return g.color.parse(b)};g.color.parse=function(l){var e,b=g.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(l))return b(parseInt(e[1],
10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(l))return b(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(l))return b(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(l))return b(2.55*
parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(l))return b(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(l))return b(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));l=g.trim(l).toLowerCase();if("transparent"==l)return b(255,255,255,0);e=k[l]||[0,0,0];return b(e[0],e[1],e[2])};var k={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(g){function k(b,f){var a=f.children("."+b)[0];if(null==a&&(a=document.createElement("canvas"),a.className=b,g(a).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(f),!a.getContext))if(window.G_vmlCanvasManager)a=window.G_vmlCanvasManager.initElement(a);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
a;a=this.context=a.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);this.resize(f.width(),f.height());this.textContainer=null;this.text={};this._textCache={}}function l(b,f,a,c){function d(a,c){c=[G].concat(c);for(var b=0;b<a.length;++b)a[b].apply(this,c)}function h(a){for(var c=[],b=0;b<a.length;++b){var d=g.extend(!0,{},q.series);null!=a[b].data?
(d.data=a[b].data,delete a[b].data,g.extend(!0,d,a[b]),a[b].data=d.data):d.data=a[b];c.push(d)}H=c;b=H.length;c=-1;for(a=0;a<H.length;++a)d=H[a].color,null!=d&&(b--,"number"==typeof d&&d>c&&(c=d));b<=c&&(b=c+1);var c=[],h=q.colors,f=h.length,r=0;for(a=0;a<b;a++)d=g.color.parse(h[a%f]||"#666"),0==a%f&&a&&(r=0<=r?0.5>r?-r-0.2:0:-r),c[a]=d.scale("rgb",1+r);for(a=b=0;a<H.length;++a){d=H[a];null==d.color?(d.color=c[b].toString(),++b):"number"==typeof d.color&&(d.color=c[d.color].toString());if(null==d.lines.show){var k,
h=!0;for(k in d)if(d[k]&&d[k].show){h=!1;break}h&&(d.lines.show=!0)}null==d.lines.zero&&(d.lines.zero=!!d.lines.fill);d.xaxis=p(P,e(d,"x"));d.yaxis=p(J,e(d,"y"))}w()}function e(a,c){var b=a[c+"axis"];"object"==typeof b&&(b=b.n);"number"!=typeof b&&(b=1);return b}function r(){return g.grep(P.concat(J),function(a){return a})}function l(a){var c={},b,d;for(b=0;b<P.length;++b)(d=P[b])&&d.used&&(c["x"+d.n]=d.c2p(a.left));for(b=0;b<J.length;++b)(d=J[b])&&d.used&&(c["y"+d.n]=d.c2p(a.top));void 0!==c.x1&&
(c.x=c.x1);void 0!==c.y1&&(c.y=c.y1);return c}function p(a,c){a[c-1]||(a[c-1]={n:c,direction:a==P?"x":"y",options:g.extend(!0,{},a==P?q.xaxis:q.yaxis)});return a[c-1]}function w(){function a(c,b,d){b<c.datamin&&b!=-h&&(c.datamin=b);d>c.datamax&&d!=h&&(c.datamax=d)}var c=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,h=Number.MAX_VALUE,f,e,n,k,l,s,t,p,m,w,N,z;g.each(r(),function(a,d){d.datamin=c;d.datamax=b;d.used=!1});for(f=0;f<H.length;++f)l=H[f],l.datapoints={points:[]},d(A.processRawData,
[l,l.data,l.datapoints]);for(f=0;f<H.length;++f){l=H[f];N=l.data;z=l.datapoints.format;if(!z){z=[];z.push({x:!0,number:!0,required:!0});z.push({y:!0,number:!0,required:!0});if(l.bars.show||l.lines.show&&l.lines.fill)z.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(l.bars.show&&l.bars.zero||l.lines.show&&l.lines.zero)}),l.bars.horizontal&&(delete z[z.length-1].y,z[z.length-1].x=!0);l.datapoints.format=z}if(null==l.datapoints.pointsize){l.datapoints.pointsize=z.length;t=l.datapoints.pointsize;
s=l.datapoints.points;var v=l.lines.show&&l.lines.steps;l.xaxis.used=l.yaxis.used=!0;for(e=n=0;e<N.length;++e,n+=t){w=N[e];var u=null==w;if(!u)for(k=0;k<t;++k){p=w[k];if(m=z[k])m.number&&null!=p&&(p=+p,isNaN(p)?p=null:Infinity==p?p=h:-Infinity==p&&(p=-h)),null==p&&(m.required&&(u=!0),null!=m.defaultValue&&(p=m.defaultValue));s[n+k]=p}if(u)for(k=0;k<t;++k)p=s[n+k],null!=p&&(m=z[k],!1!==m.autoscale&&(m.x&&a(l.xaxis,p,p),m.y&&a(l.yaxis,p,p))),s[n+k]=null;else if(v&&0<n&&null!=s[n-t]&&s[n-t]!=s[n]&&s[n-
t+1]!=s[n+1]){for(k=0;k<t;++k)s[n+t+k]=s[n+k];s[n+1]=s[n-t+1];n+=t}}}}for(f=0;f<H.length;++f)l=H[f],d(A.processDatapoints,[l,l.datapoints]);for(f=0;f<H.length;++f){l=H[f];s=l.datapoints.points;t=l.datapoints.pointsize;z=l.datapoints.format;w=n=c;v=N=b;for(e=0;e<s.length;e+=t)if(null!=s[e])for(k=0;k<t;++k)p=s[e+k],(m=z[k])&&!1!==m.autoscale&&p!=h&&p!=-h&&(m.x&&(p<n&&(n=p),p>N&&(N=p)),m.y&&(p<w&&(w=p),p>v&&(v=p)));if(l.bars.show){switch(l.bars.align){case "left":e=0;break;case "right":e=-l.bars.barWidth;
break;default:e=-l.bars.barWidth/2}l.bars.horizontal?(w+=e,v+=e+l.bars.barWidth):(n+=e,N+=e+l.bars.barWidth)}a(l.xaxis,n,N);a(l.yaxis,w,v)}g.each(r(),function(a,d){d.datamin==c&&(d.datamin=null);d.datamax==b&&(d.datamax=null)})}function C(){m&&clearTimeout(m);N.unbind("mousemove",ga);N.unbind("mouseleave",ua);N.unbind("click",ha);d(A.shutdown,[N])}function B(a){function c(a){return a}var b,d,h=a.options.transform||c,f=a.options.inverseTransform;"x"==a.direction?(b=a.scale=R/Math.abs(h(a.max)-h(a.min)),
d=Math.min(h(a.max),h(a.min))):(b=a.scale=Q/Math.abs(h(a.max)-h(a.min)),b=-b,d=Math.max(h(a.max),h(a.min)));a.p2c=h==c?function(a){return(a-d)*b}:function(a){return(h(a)-d)*b};a.c2p=f?function(a){return f(d+a/b)}:function(a){return d+a/b}}function z(a){var c=a.labelWidth,b=a.labelHeight,d=a.options.position,h="x"===a.direction,f=a.options.tickLength,e=q.grid.axisMargin,n=q.grid.labelMargin,r=!0,k=!0,l=!0,p=!1;g.each(h?P:J,function(c,b){b&&b.reserveSpace&&(b===a?p=!0:b.options.position===d&&(p?k=!1:
r=!1),p||(l=!1))});k&&(e=0);null==f&&(f=l?"full":5);isNaN(+f)||(n+=+f);h?(b+=n,"bottom"==d?(v.bottom+=b+e,a.box={top:E.height-v.bottom,height:b}):(a.box={top:v.top+e,height:b},v.top+=b+e)):(c+=n,"left"==d?(a.box={left:v.left+e,width:c},v.left+=c+e):(v.right+=c+e,a.box={left:E.width-v.right,width:c}));a.position=d;a.tickLength=f;a.box.padding=n;a.innermost=r}function x(){var a=q.grid.minBorderMargin,c;if(null==a)for(c=a=0;c<H.length;++c)a=Math.max(a,2*(H[c].points.radius+H[c].points.lineWidth/2));
var b=a,d=a,h=a,f=a;g.each(r(),function(a,c){if(c.reserveSpace&&c.ticks&&c.ticks.length){var e=c.ticks[c.ticks.length-1];"x"===c.direction?(b=Math.max(b,c.labelWidth/2),e.v<=c.max&&(d=Math.max(d,c.labelWidth/2))):(f=Math.max(f,c.labelHeight/2),e.v<=c.max&&(h=Math.max(h,c.labelHeight/2)))}});v.left=Math.ceil(Math.max(b,v.left));v.right=Math.ceil(Math.max(d,v.right));v.top=Math.ceil(Math.max(h,v.top));v.bottom=Math.ceil(Math.max(f,v.bottom))}function O(){var a,c=r(),b=q.grid.show;for(a in v){var h=
q.grid.margin||0;v[a]="number"==typeof h?h:h[a]||0}d(A.processOffset,[v]);for(a in v)v[a]="object"==typeof q.grid.borderWidth?v[a]+(b?q.grid.borderWidth[a]:0):v[a]+(b?q.grid.borderWidth:0);g.each(c,function(a,c){c.show=c.options.show;null==c.show&&(c.show=c.used);c.reserveSpace=c.show||c.options.reserveSpace;var b=c.options,d=+(null!=b.min?b.min:c.datamin),h=+(null!=b.max?b.max:c.datamax),f=h-d;if(0==f){if(f=0==h?1:0.01,null==b.min&&(d-=f),null==b.max||null!=b.min)h+=f}else{var e=b.autoscaleMargin;
null!=e&&(null==b.min&&(d-=f*e,0>d&&null!=c.datamin&&0<=c.datamin&&(d=0)),null==b.max&&(h+=f*e,0<h&&null!=c.datamax&&0>=c.datamax&&(h=0)))}c.min=d;c.max=h});if(b){h=g.grep(c,function(a){return a.reserveSpace});g.each(h,function(a,c){F(c);var b=c.options.ticks,d=[];null==b||"number"==typeof b&&0<b?d=c.tickGenerator(c):b&&(d=g.isFunction(b)?b(c):b);var h;c.ticks=[];for(b=0;b<d.length;++b){var f=null,e=d[b];"object"==typeof e?(h=+e[0],1<e.length&&(f=e[1])):h=+e;null==f&&(f=c.tickFormatter(h,c));isNaN(h)||
c.ticks.push({v:h,label:f})}d=c.ticks;c.options.autoscaleMargin&&0<d.length&&(null==c.options.min&&(c.min=Math.min(c.min,d[0].v)),null==c.options.max&&1<d.length&&(c.max=Math.max(c.max,d[d.length-1].v)));d=c.options;b=c.ticks||[];h=d.labelWidth||0;for(var f=d.additionalWidth||0,e=d.labelHeight||0,n=h||("x"==c.direction?Math.floor(E.width/(b.length||1)):null),r="flot-"+c.direction+"-axis flot-"+c.direction+c.n+"-axis "+(c.direction+"Axis "+c.direction+c.n+"Axis"),k=d.font||"flot-tick-label tickLabel",
l=0;l<b.length;++l){var p=b[l];p.label&&(p=E.getTextInfo(r,p.label,k,null,n),h=Math.max(h,p.width+("y"==c.direction?f:0)),e=Math.max(e,p.height))}c.labelWidth=d.labelWidth||h;c.labelHeight=d.labelHeight||e});for(a=h.length-1;0<=a;--a)z(h[a]);x();g.each(h,function(a,c){"x"==c.direction?(c.box.left=v.left-c.labelWidth/2,c.box.width=E.width-v.left-v.right+c.labelWidth):(c.box.top=v.top-c.labelHeight/2,c.box.height=E.height-v.bottom-v.top+c.labelHeight)})}R=E.width-v.left-v.right;Q=E.height-v.bottom-
v.top;g.each(c,function(a,c){B(c)});b&&I();va()}function F(a){var c=a.options,b;b="number"==typeof c.ticks&&0<c.ticks?c.ticks:0.3*Math.sqrt("x"==a.direction?E.width:E.height);b=(a.max-a.min)/b;var d=-Math.floor(Math.log(b)/Math.LN10),h=c.tickDecimals;null!=h&&d>h&&(d=h);var f=Math.pow(10,-d),e=b/f,n;1.5>e?n=1:3>e?(n=2,2.25<e&&(null==h||d+1<=h)&&(n=2.5,++d)):n=7.5>e?5:10;n*=f;null!=c.minTickSize&&n<c.minTickSize&&(n=c.minTickSize);a.delta=b;a.tickDecimals=Math.max(0,null!=h?h:d);a.tickSize=c.tickSize||
n;if("time"==c.mode&&!a.tickGenerator)throw Error("Time mode requires the flot.time plugin.");a.tickGenerator||(a.tickGenerator=function(a){var c=[],b=a.tickSize*Math.floor(a.min/a.tickSize),d=0,h=Number.NaN,f;do f=h,h=b+d*a.tickSize,c.push(h),++d;while(h<a.max&&h!=f);return c},a.tickFormatter=function(a,c){var b=c.tickDecimals?Math.pow(10,c.tickDecimals):1,d=""+Math.round(a*b)/b;if(null!=c.tickDecimals){var h=d.indexOf("."),h=-1==h?0:d.length-h-1;if(h<c.tickDecimals)return(h?d:d+".")+(""+b).substr(1,
c.tickDecimals-h)}return d});g.isFunction(c.tickFormatter)&&(a.tickFormatter=function(a,b){return""+c.tickFormatter(a,b)});if(null!=c.alignTicksWithAxis){var r=("x"==a.direction?P:J)[c.alignTicksWithAxis-1];r&&r.used&&r!=a&&(b=a.tickGenerator(a),0<b.length&&(null==c.min&&(a.min=Math.min(a.min,b[0])),null==c.max&&1<b.length&&(a.max=Math.max(a.max,b[b.length-1]))),a.tickGenerator=function(a){var c=[],b,d;for(d=0;d<r.ticks.length;++d)b=(r.ticks[d].v-r.min)/(r.max-r.min),b=a.min+b*(a.max-a.min),c.push(b);
return c},a.mode||null!=c.tickDecimals||(b=Math.max(0,-Math.floor(Math.log(a.delta)/Math.LN10)+1),d=a.tickGenerator(a),1<d.length&&/\..*0$/.test((d[1]-d[0]).toFixed(b))||(a.tickDecimals=b)))}}function u(){E.clear();d(A.drawBackground,[s]);var a=q.grid;a.show&&a.backgroundColor&&(s.save(),s.translate(v.left,v.top),s.fillStyle=Y(q.grid.backgroundColor,Q,0,"rgba(255, 255, 255, 0)"),s.fillRect(0,0,R,Q),s.restore());a.show&&!a.aboveData&&V();for(var c=0;c<H.length;++c){d(A.drawSeries,[s,H[c]]);var b=H[c];
b.lines.show&&X(b);b.bars.show&&ea(b);b.points.show&&wa(b)}d(A.draw,[s]);a.show&&a.aboveData&&V();E.render();aa()}function ba(a,c){for(var b,d,h,f,e=r(),n=0;n<e.length;++n)if(b=e[n],b.direction==c&&(f=c+b.n+"axis",a[f]||1!=b.n||(f=c+"axis"),a[f])){d=a[f].from;h=a[f].to;break}a[f]||(b="x"==c?P[0]:J[0],d=a[c+"1"],h=a[c+"2"]);null!=d&&null!=h&&d>h&&(f=d,d=h,h=f);return{from:d,to:h,axis:b}}function V(){var a,c,b;s.save();s.translate(v.left,v.top);if(b=q.grid.markings)for(g.isFunction(b)&&(c=G.getAxes(),
c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,b=b(c)),a=0;a<b.length;++a){c=b[a];var d=ba(c,"x"),h=ba(c,"y");null==d.from&&(d.from=d.axis.min);null==d.to&&(d.to=d.axis.max);null==h.from&&(h.from=h.axis.min);null==h.to&&(h.to=h.axis.max);d.to<d.axis.min||d.from>d.axis.max||h.to<h.axis.min||h.from>h.axis.max||(d.from=Math.max(d.from,d.axis.min),d.to=Math.min(d.to,d.axis.max),h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),d.from==d.to&&h.from==h.to)||
(d.from=d.axis.p2c(d.from),d.to=d.axis.p2c(d.to),h.from=h.axis.p2c(h.from),h.to=h.axis.p2c(h.to),d.from==d.to||h.from==h.to?(s.beginPath(),s.strokeStyle=c.color||q.grid.markingsColor,s.lineWidth=c.lineWidth||q.grid.markingsLineWidth,s.moveTo(d.from,h.from),s.lineTo(d.to,h.to),s.stroke()):(s.fillStyle=c.color||q.grid.markingsColor,s.fillRect(d.from,h.to,d.to-d.from,h.from-h.to)))}c=r();b=q.grid.borderWidth;for(d=0;d<c.length;++d){h=c[d];a=h.box;var f=h.tickLength,e,n,k,l;if(h.show&&0!=h.ticks.length){s.lineWidth=
1;"x"==h.direction?(e=0,n="full"==f?"top"==h.position?0:Q:a.top-v.top+("top"==h.position?a.height:0)):(n=0,e="full"==f?"left"==h.position?0:R:a.left-v.left+("left"==h.position?a.width:0));h.innermost||(s.strokeStyle=h.options.color,s.beginPath(),k=l=0,"x"==h.direction?k=R+1:l=Q+1,1==s.lineWidth&&("x"==h.direction?n=Math.floor(n)+0.5:e=Math.floor(e)+0.5),s.moveTo(e,n),s.lineTo(e+k,n+l),s.stroke());s.strokeStyle=h.options.tickColor;s.beginPath();for(a=0;a<h.ticks.length;++a){var p=h.ticks[a].v;k=l=
0;isNaN(p)||p<h.min||p>h.max||"full"==f&&("object"==typeof b&&0<b[h.position]||0<b)&&(p==h.min||p==h.max)||("x"==h.direction?(e=h.p2c(p),l="full"==f?-Q:f,"top"==h.position&&(l=-l)):(n=h.p2c(p),k="full"==f?-R:f,"left"==h.position&&(k=-k)),1==s.lineWidth&&("x"==h.direction?e=Math.floor(e)+0.5:n=Math.floor(n)+0.5),s.moveTo(e,n),s.lineTo(e+k,n+l))}s.stroke()}}b&&(a=q.grid.borderColor,"object"==typeof b||"object"==typeof a?("object"!==typeof b&&(b={top:b,right:b,bottom:b,left:b}),"object"!==typeof a&&
(a={top:a,right:a,bottom:a,left:a}),0<b.top&&(s.strokeStyle=a.top,s.lineWidth=b.top,s.beginPath(),s.moveTo(0-b.left,0-b.top/2),s.lineTo(R,0-b.top/2),s.stroke()),0<b.right&&(s.strokeStyle=a.right,s.lineWidth=b.right,s.beginPath(),s.moveTo(R+b.right/2,0-b.top),s.lineTo(R+b.right/2,Q),s.stroke()),0<b.bottom&&(s.strokeStyle=a.bottom,s.lineWidth=b.bottom,s.beginPath(),s.moveTo(R+b.right,Q+b.bottom/2),s.lineTo(0,Q+b.bottom/2),s.stroke()),0<b.left&&(s.strokeStyle=a.left,s.lineWidth=b.left,s.beginPath(),
s.moveTo(0-b.left/2,Q+b.bottom),s.lineTo(0-b.left/2,0),s.stroke())):(s.lineWidth=b,s.strokeStyle=q.grid.borderColor,s.strokeRect(-b/2,-b/2,R+b,Q+b)));s.restore()}function I(){g.each(r(),function(a,c){var b=c.box,d="flot-"+c.direction+"-axis flot-"+c.direction+c.n+"-axis "+(c.direction+"Axis "+c.direction+c.n+"Axis"),h=c.options.font||"flot-tick-label tickLabel",f,e,n,g,r;E.removeText(d);if(c.show&&0!=c.ticks.length)for(var k=0;k<c.ticks.length;++k)f=c.ticks[k],!f.label||f.v<c.min||f.v>c.max||("x"==
c.direction?(g="center",e=v.left+c.p2c(f.v),"bottom"==c.position?n=b.top+b.padding:(n=b.top+b.height-b.padding,r="bottom")):(r="middle",n=v.top+c.p2c(f.v),"left"==c.position?(e=b.left+b.width-b.padding,g="right"):e=b.left+b.padding),E.addText(d,e,n,f.label,h,null,null,g,r))})}function X(a){function c(a,b,d,h,f){var e=a.points;a=a.pointsize;var n=null,g=null;s.beginPath();for(var r=a;r<e.length;r+=a){var k=e[r-a],l=e[r-a+1],p=e[r],t=e[r+1];if(null!=k&&null!=p){if(l<=t&&l<f.min){if(t<f.min)continue;
k=(f.min-l)/(t-l)*(p-k)+k;l=f.min}else if(t<=l&&t<f.min){if(l<f.min)continue;p=(f.min-l)/(t-l)*(p-k)+k;t=f.min}if(l>=t&&l>f.max){if(t>f.max)continue;k=(f.max-l)/(t-l)*(p-k)+k;l=f.max}else if(t>=l&&t>f.max){if(l>f.max)continue;p=(f.max-l)/(t-l)*(p-k)+k;t=f.max}if(k<=p&&k<h.min){if(p<h.min)continue;l=(h.min-k)/(p-k)*(t-l)+l;k=h.min}else if(p<=k&&p<h.min){if(k<h.min)continue;t=(h.min-k)/(p-k)*(t-l)+l;p=h.min}if(k>=p&&k>h.max){if(p>h.max)continue;l=(h.max-k)/(p-k)*(t-l)+l;k=h.max}else if(p>=k&&p>h.max){if(k>
h.max)continue;t=(h.max-k)/(p-k)*(t-l)+l;p=h.max}k==n&&l==g||s.moveTo(h.p2c(k)+b,f.p2c(l)+d);n=p;g=t;s.lineTo(h.p2c(p)+b,f.p2c(t)+d)}}s.stroke()}function b(a,c,d){var h=a.points;a=a.pointsize;for(var f=Math.min(Math.max(0,d.min),d.max),e=0,n=!1,g=1,k=0,r=0;!(0<a&&e>h.length+a);){var e=e+a,l=h[e-a],p=h[e-a+g],t=h[e],m=h[e+g];if(n){if(0<a&&null!=l&&null==t){r=e;a=-a;g=2;continue}if(0>a&&e==k+a){s.fill();n=!1;a=-a;g=1;e=k=r+a;continue}}if(null!=l&&null!=t){if(l<=t&&l<c.min){if(t<c.min)continue;p=(c.min-
l)/(t-l)*(m-p)+p;l=c.min}else if(t<=l&&t<c.min){if(l<c.min)continue;m=(c.min-l)/(t-l)*(m-p)+p;t=c.min}if(l>=t&&l>c.max){if(t>c.max)continue;p=(c.max-l)/(t-l)*(m-p)+p;l=c.max}else if(t>=l&&t>c.max){if(l>c.max)continue;m=(c.max-l)/(t-l)*(m-p)+p;t=c.max}n||(s.beginPath(),s.moveTo(c.p2c(l),d.p2c(f)),n=!0);if(p>=d.max&&m>=d.max)s.lineTo(c.p2c(l),d.p2c(d.max)),s.lineTo(c.p2c(t),d.p2c(d.max));else if(p<=d.min&&m<=d.min)s.lineTo(c.p2c(l),d.p2c(d.min)),s.lineTo(c.p2c(t),d.p2c(d.min));else{var w=l,ta=t;p<=
m&&p<d.min&&m>=d.min?(l=(d.min-p)/(m-p)*(t-l)+l,p=d.min):m<=p&&m<d.min&&p>=d.min&&(t=(d.min-p)/(m-p)*(t-l)+l,m=d.min);p>=m&&p>d.max&&m<=d.max?(l=(d.max-p)/(m-p)*(t-l)+l,p=d.max):m>=p&&m>d.max&&p<=d.max&&(t=(d.max-p)/(m-p)*(t-l)+l,m=d.max);l!=w&&s.lineTo(c.p2c(w),d.p2c(p));s.lineTo(c.p2c(l),d.p2c(p));s.lineTo(c.p2c(t),d.p2c(m));t!=ta&&(s.lineTo(c.p2c(t),d.p2c(m)),s.lineTo(c.p2c(ta),d.p2c(m)))}}}}s.save();s.translate(v.left,v.top);s.lineJoin="round";var d=a.lines.lineWidth,h=a.shadowSize;if(0<d&&0<
h){s.lineWidth=h;s.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;c(a.datapoints,Math.sin(f)*(d/2+h/2),Math.cos(f)*(d/2+h/2),a.xaxis,a.yaxis);s.lineWidth=h/2;c(a.datapoints,Math.sin(f)*(d/2+h/4),Math.cos(f)*(d/2+h/4),a.xaxis,a.yaxis)}s.lineWidth=d;s.strokeStyle=a.color;if(h=Z(a.lines,a.color,0,Q))s.fillStyle=h,b(a.datapoints,a.xaxis,a.yaxis);0<d&&c(a.datapoints,0,0,a.xaxis,a.yaxis);s.restore()}function wa(a){function c(a,b,d,h,f,e,n,g){var k=a.points;a=a.pointsize;for(var r=0;r<k.length;r+=a){var l=
k[r],p=k[r+1];null==l||l<e.min||l>e.max||p<n.min||p>n.max||(s.beginPath(),l=e.p2c(l),p=n.p2c(p)+h,"circle"==g?s.arc(l,p,b,0,f?Math.PI:2*Math.PI,!1):g(s,l,p,b,f),s.closePath(),d&&(s.fillStyle=d,s.fill()),s.stroke())}}s.save();s.translate(v.left,v.top);var b=a.points.lineWidth,d=a.shadowSize,h=a.points.radius,f=a.points.symbol;0==b&&(b=1E-4);0<b&&0<d&&(d/=2,s.lineWidth=d,s.strokeStyle="rgba(0,0,0,0.1)",c(a.datapoints,h,null,d+d/2,!0,a.xaxis,a.yaxis,f),s.strokeStyle="rgba(0,0,0,0.2)",c(a.datapoints,
h,null,d/2,!0,a.xaxis,a.yaxis,f));s.lineWidth=b;s.strokeStyle=a.color;c(a.datapoints,h,Z(a.points,a.color),0,!1,a.xaxis,a.yaxis,f);s.restore()}function ia(a,c,b,d,h,f,e,n,g,k,l){var r,p,t,s;k?(s=p=t=!0,r=!1,k=b,b=c+d,h=c+h,a<k&&(c=a,a=k,k=c,r=!0,p=!1)):(r=p=t=!0,s=!1,k=a+d,a+=h,h=b,b=c,b<h&&(c=b,b=h,h=c,s=!0,t=!1));a<e.min||k>e.max||b<n.min||h>n.max||(k<e.min&&(k=e.min,r=!1),a>e.max&&(a=e.max,p=!1),h<n.min&&(h=n.min,s=!1),b>n.max&&(b=n.max,t=!1),k=e.p2c(k),h=n.p2c(h),a=e.p2c(a),b=n.p2c(b),f&&(g.fillStyle=
f(h,b),g.fillRect(k,b,a-k,h-b)),0<l&&(r||p||t||s)&&(g.beginPath(),g.moveTo(k,h),r?g.lineTo(k,b):g.moveTo(k,b),t?g.lineTo(a,b):g.moveTo(a,b),p?g.lineTo(a,h):g.moveTo(a,h),s?g.lineTo(k,h):g.moveTo(k,h),g.stroke()))}function ea(a){s.save();s.translate(v.left,v.top);s.lineWidth=a.bars.lineWidth;s.strokeStyle=a.color;var c;switch(a.bars.align){case "left":c=0;break;case "right":c=-a.bars.barWidth;break;default:c=-a.bars.barWidth/2}(function(c,b,d,h,f,e){var n=c.points;c=c.pointsize;for(var g=0;g<n.length;g+=
c)null!=n[g]&&ia(n[g],n[g+1],n[g+2],b,d,h,f,e,s,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,c,c+a.bars.barWidth,a.bars.fill?function(c,b){return Z(a.bars,a.color,c,b)}:null,a.xaxis,a.yaxis);s.restore()}function Z(a,c,b,d){var h=a.fill;if(!h)return null;if(a.fillColor)return Y(a.fillColor,b,d,c);a=g.color.parse(c);a.a="number"==typeof h?h:0.4;a.normalize();return a.toString()}function va(){null!=q.legend.container?g(q.legend.container).html(""):b.find(".legend").remove();if(q.legend.show){for(var a=
[],c=[],d=!1,h=q.legend.labelFormatter,f,e,n=0;n<H.length;++n)f=H[n],f.label&&(e=h?h(f.label,f):f.label)&&c.push({label:e,color:f.color});if(q.legend.sorted)if(g.isFunction(q.legend.sorted))c.sort(q.legend.sorted);else if("reverse"==q.legend.sorted)c.reverse();else{var k="descending"!=q.legend.sorted;c.sort(function(a,c){return a.label==c.label?0:a.label<c.label!=k?1:-1})}for(n=0;n<c.length;++n)h=c[n],0==n%q.legend.noColumns&&(d&&a.push("\x3c/tr\x3e"),a.push("\x3ctr\x3e"),d=!0),a.push('\x3ctd class\x3d"legendColorBox"\x3e\x3cdiv style\x3d"border:1px solid '+
q.legend.labelBoxBorderColor+';padding:1px"\x3e\x3cdiv style\x3d"width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"legendLabel"\x3e'+h.label+"\x3c/td\x3e");d&&a.push("\x3c/tr\x3e");0!=a.length&&(c='\x3ctable style\x3d"font-size:smaller;color:'+q.grid.color+'"\x3e'+a.join("")+"\x3c/table\x3e",null!=q.legend.container?g(q.legend.container).html(c):(a="",d=q.legend.position,n=q.legend.margin,null==n[0]&&(n=[n,n]),"n"==d.charAt(0)?
a+="top:"+(n[1]+v.top)+"px;":"s"==d.charAt(0)&&(a+="bottom:"+(n[1]+v.bottom)+"px;"),"e"==d.charAt(1)?a+="right:"+(n[0]+v.right)+"px;":"w"==d.charAt(1)&&(a+="left:"+(n[0]+v.left)+"px;"),c=g('\x3cdiv class\x3d"legend"\x3e'+c.replace('style\x3d"','style\x3d"position:absolute;'+a+";")+"\x3c/div\x3e").appendTo(b),0!=q.legend.backgroundOpacity&&(d=q.legend.backgroundColor,null==d&&(d=(d=q.grid.backgroundColor)&&"string"==typeof d?g.color.parse(d):g.color.extract(c,"background-color"),d.a=1,d=d.toString()),
n=c.children(),g('\x3cdiv style\x3d"position:absolute;width:'+n.width()+"px;height:"+n.height()+"px;"+a+"background-color:"+d+';"\x3e \x3c/div\x3e').prependTo(c).css("opacity",q.legend.backgroundOpacity))))}}function ga(a){q.grid.hoverable&&ja("plothover",a,function(a){return!1!=a.hoverable})}function ua(a){q.grid.hoverable&&ja("plothover",a,function(a){return!1})}function ha(a){ja("plotclick",a,function(a){return!1!=a.clickable})}function ja(a,c,d){var h=N.offset(),f=c.pageX-h.left-v.left,e=c.pageY-
h.top-v.top,n=l({left:f,top:e});n.pageX=c.pageX;n.pageY=c.pageY;c=q.grid.mouseActiveRadius;var g=c*c+1,k=null,r,p,s;for(r=H.length-1;0<=r;--r)if(d(H[r])){var m=H[r],w=m.xaxis,z=m.yaxis,u=m.datapoints.points,B=w.c2p(f),K=z.c2p(e),x=c/w.scale,C=c/z.scale;s=m.datapoints.pointsize;w.options.inverseTransform&&(x=Number.MAX_VALUE);z.options.inverseTransform&&(C=Number.MAX_VALUE);if(m.lines.show||m.points.show)for(p=0;p<u.length;p+=s){var J=u[p],F=u[p+1];null==J||J-B>x||J-B<-x||F-K>C||F-K<-C||(J=Math.abs(w.p2c(J)-
f),F=Math.abs(z.p2c(F)-e),F=J*J+F*F,F<g&&(g=F,k=[r,p/s]))}if(m.bars.show&&!k){switch(m.bars.align){case "left":w=0;break;case "right":w=-m.bars.barWidth;break;default:w=-m.bars.barWidth/2}m=w+m.bars.barWidth;for(p=0;p<u.length;p+=s)J=u[p],F=u[p+1],z=u[p+2],null!=J&&(H[r].bars.horizontal?B<=Math.max(z,J)&&B>=Math.min(z,J)&&K>=F+w&&K<=F+m:B>=J+w&&B<=J+m&&K>=Math.min(z,F)&&K<=Math.max(z,F))&&(k=[r,p/s])}}k?(r=k[0],p=k[1],s=H[r].datapoints.pointsize,d={datapoint:H[r].datapoints.points.slice(p*s,(p+1)*
s),dataIndex:p,series:H[r],seriesIndex:r}):d=null;d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+h.left+v.left,10),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+h.top+v.top,10));if(q.grid.autoHighlight){for(h=0;h<y.length;++h)f=y[h],f.auto!=a||d&&f.series==d.series&&f.point[0]==d.datapoint[0]&&f.point[1]==d.datapoint[1]||ka(f.series,f.point);d&&T(d.series,d.datapoint,a)}b.trigger(a,[n,d])}function aa(){var a=q.interaction.redrawOverlayInterval;-1==a?M():m||(m=setTimeout(M,a))}function M(){m=
null;K.save();U.clear();K.translate(v.left,v.top);var a,c;for(a=0;a<y.length;++a)if(c=y[a],c.series.bars.show)sa(c.series,c.point);else{var b=c.series,h=c.point;c=h[0];var h=h[1],f=b.xaxis,e=b.yaxis,n="string"===typeof b.highlightColor?b.highlightColor:g.color.parse(b.color).scale("a",0.5).toString();if(!(c<f.min||c>f.max||h<e.min||h>e.max)){var k=b.points.radius+b.points.lineWidth/2;K.lineWidth=k;K.strokeStyle=n;n=1.5*k;c=f.p2c(c);h=e.p2c(h);K.beginPath();"circle"==b.points.symbol?K.arc(c,h,n,0,
2*Math.PI,!1):b.points.symbol(K,c,h,n,!1);K.closePath();K.stroke()}}K.restore();d(A.drawOverlay,[K])}function T(a,c,b){"number"==typeof a&&(a=H[a]);if("number"==typeof c){var d=a.datapoints.pointsize;c=a.datapoints.points.slice(d*c,d*(c+1))}d=D(a,c);-1==d?(y.push({series:a,point:c,auto:b}),aa()):b||(y[d].auto=!1)}function ka(a,c){if(null==a&&null==c)y=[],aa();else{"number"==typeof a&&(a=H[a]);if("number"==typeof c){var b=a.datapoints.pointsize;c=a.datapoints.points.slice(b*c,b*(c+1))}b=D(a,c);-1!=
b&&(y.splice(b,1),aa())}}function D(a,c){for(var b=0;b<y.length;++b){var d=y[b];if(d.series==a&&d.point[0]==c[0]&&d.point[1]==c[1])return b}return-1}function sa(a,c){var b="string"===typeof a.highlightColor?a.highlightColor:g.color.parse(a.color).scale("a",0.5).toString(),d;switch(a.bars.align){case "left":d=0;break;case "right":d=-a.bars.barWidth;break;default:d=-a.bars.barWidth/2}K.lineWidth=a.bars.lineWidth;K.strokeStyle=b;ia(c[0],c[1],c[2]||0,d,d+a.bars.barWidth,function(){return b},a.xaxis,a.yaxis,
K,a.bars.horizontal,a.bars.lineWidth)}function Y(a,c,b,d){if("string"==typeof a)return a;c=s.createLinearGradient(0,b,0,c);b=0;for(var h=a.colors.length;b<h;++b){var f=a.colors[b];if("string"!=typeof f){var e=g.color.parse(d);null!=f.brightness&&(e=e.scale("rgb",f.brightness));null!=f.opacity&&(e.a*=f.opacity);f=e.toString()}c.addColorStop(b/(h-1),f)}return c}var H=[],q={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",
container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,
radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,
mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},E=null,U=null,N=null,s=null,K=null,P=[],J=[],v={left:0,right:0,top:0,bottom:0},R=0,Q=0,A={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},G=this;G.setData=h;G.setupGrid=O;G.draw=u;G.getPlaceholder=function(){return b};G.getCanvas=function(){return E.element};G.getPlotOffset=function(){return v};G.width=function(){return R};
G.height=function(){return Q};G.offset=function(){var a=N.offset();a.left+=v.left;a.top+=v.top;return a};G.getData=function(){return H};G.getAxes=function(){var a={};g.each(P.concat(J),function(c,b){b&&(a[b.direction+(1!=b.n?b.n:"")+"axis"]=b)});return a};G.getXAxes=function(){return P};G.getYAxes=function(){return J};G.c2p=l;G.p2c=function(a){var c={},b,d,h;for(b=0;b<P.length;++b)if((d=P[b])&&d.used&&(h="x"+d.n,null==a[h]&&1==d.n&&(h="x"),null!=a[h])){c.left=d.p2c(a[h]);break}for(b=0;b<J.length;++b)if((d=
J[b])&&d.used&&(h="y"+d.n,null==a[h]&&1==d.n&&(h="y"),null!=a[h])){c.top=d.p2c(a[h]);break}return c};G.getOptions=function(){return q};G.highlight=T;G.unhighlight=ka;G.triggerRedrawOverlay=aa;G.pointOffset=function(a){return{left:parseInt(P[e(a,"x")-1].p2c(+a.x)+v.left,10),top:parseInt(J[e(a,"y")-1].p2c(+a.y)+v.top,10)}};G.shutdown=C;G.destroy=function(){C();b.removeData("plot").empty();H=[];K=s=N=U=E=q=null;P=[];J=[];A=null;y=[];G=null};G.resize=function(){var a=b.width(),c=b.height();E.resize(a,
c);U.resize(a,c)};G.hooks=A;(function(){for(var a={Canvas:k},b=0;b<c.length;++b){var d=c[b];d.init(G,a);d.options&&g.extend(!0,q,d.options)}})(G);(function(a){g.extend(!0,q,a);a&&a.colors&&(q.colors=a.colors);null==q.xaxis.color&&(q.xaxis.color=g.color.parse(q.grid.color).scale("a",0.22).toString());null==q.yaxis.color&&(q.yaxis.color=g.color.parse(q.grid.color).scale("a",0.22).toString());null==q.xaxis.tickColor&&(q.xaxis.tickColor=q.grid.tickColor||q.xaxis.color);null==q.yaxis.tickColor&&(q.yaxis.tickColor=
q.grid.tickColor||q.yaxis.color);null==q.grid.borderColor&&(q.grid.borderColor=q.grid.color);null==q.grid.tickColor&&(q.grid.tickColor=g.color.parse(q.grid.color).scale("a",0.22).toString());var c,h;a=(a=b.css("font-size"))?+a.replace("px",""):13;var f={style:b.css("font-style"),size:Math.round(0.8*a),variant:b.css("font-variant"),weight:b.css("font-weight"),family:b.css("font-family")};h=q.xaxes.length||1;for(a=0;a<h;++a)(c=q.xaxes[a])&&!c.tickColor&&(c.tickColor=c.color),c=g.extend(!0,{},q.xaxis,
c),q.xaxes[a]=c,c.font&&(c.font=g.extend({},f,c.font),c.font.color||(c.font.color=c.color),c.font.lineHeight||(c.font.lineHeight=Math.round(1.15*c.font.size)));h=q.yaxes.length||1;for(a=0;a<h;++a)(c=q.yaxes[a])&&!c.tickColor&&(c.tickColor=c.color),c=g.extend(!0,{},q.yaxis,c),q.yaxes[a]=c,c.font&&(c.font=g.extend({},f,c.font),c.font.color||(c.font.color=c.color),c.font.lineHeight||(c.font.lineHeight=Math.round(1.15*c.font.size)));q.xaxis.noTicks&&null==q.xaxis.ticks&&(q.xaxis.ticks=q.xaxis.noTicks);
q.yaxis.noTicks&&null==q.yaxis.ticks&&(q.yaxis.ticks=q.yaxis.noTicks);q.x2axis&&(q.xaxes[1]=g.extend(!0,{},q.xaxis,q.x2axis),q.xaxes[1].position="top");q.y2axis&&(q.yaxes[1]=g.extend(!0,{},q.yaxis,q.y2axis),q.yaxes[1].position="right");q.grid.coloredAreas&&(q.grid.markings=q.grid.coloredAreas);q.grid.coloredAreasColor&&(q.grid.markingsColor=q.grid.coloredAreasColor);q.lines&&g.extend(!0,q.series.lines,q.lines);q.points&&g.extend(!0,q.series.points,q.points);q.bars&&g.extend(!0,q.series.bars,q.bars);
null!=q.shadowSize&&(q.series.shadowSize=q.shadowSize);null!=q.highlightColor&&(q.series.highlightColor=q.highlightColor);for(a=0;a<q.xaxes.length;++a)p(P,a+1).options=q.xaxes[a];for(a=0;a<q.yaxes.length;++a)p(J,a+1).options=q.yaxes[a];for(var e in A)q.hooks[e]&&q.hooks[e].length&&(A[e]=A[e].concat(q.hooks[e]));d(A.processOptions,[q])})(a);(function(){b.css("padding",0).children().filter(function(){return!g(this).hasClass("flot-overlay")&&!g(this).hasClass("flot-base")}).remove();"static"==b.css("position")&&
b.css("position","relative");E=new k("flot-base",b);U=new k("flot-overlay",b);s=E.context;K=U.context;N=g(U.element).unbind();var a=b.data("plot");a&&(a.shutdown(),U.clear());b.data("plot",G)})();h(f);O();u();q.grid.hoverable&&(N.mousemove(ga),N.bind("mouseleave",ua));q.grid.clickable&&N.click(ha);d(A.bindEvents,[N]);var y=[],m=null}var e=Object.prototype.hasOwnProperty;k.prototype.resize=function(b,f){if(0>=b||0>=f)throw Error("Invalid dimensions for plot, width \x3d "+b+", height \x3d "+f);var a=
this.element,c=this.context,d=this.pixelRatio;this.width!=b&&(a.width=b*d,a.style.width=b+"px",this.width=b);this.height!=f&&(a.height=f*d,a.style.height=f+"px",this.height=f);c.restore();c.save();c.scale(d,d)};k.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};k.prototype.render=function(){var b=this._textCache,f;for(f in b)if(e.call(b,f)){var a=this.getTextLayer(f),c=b[f];a.hide();for(var d in c)if(e.call(c,d)){var h=c[d],n;for(n in h)if(e.call(h,n)){for(var g=h[n].positions,
k=0,l;l=g[k];k++)l.active?l.rendered||(a.append(l.element),l.rendered=!0):(g.splice(k--,1),l.rendered&&l.element.detach());0==g.length&&delete h[n]}}a.show()}};k.prototype.getTextLayer=function(b){var f=this.text[b];null==f&&(null==this.textContainer&&(this.textContainer=g("\x3cdiv class\x3d'flot-text'\x3e\x3c/div\x3e").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),f=this.text[b]=g("\x3cdiv\x3e\x3c/div\x3e").addClass(b).css({position:"absolute",
top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));return f};k.prototype.getTextInfo=function(b,f,a,c,d){var h,e;f=""+f;c="object"===typeof a?a.style+" "+a.variant+" "+a.weight+" "+a.size+"px/"+a.lineHeight+"px "+a.family:a;h=this._textCache[b];null==h&&(h=this._textCache[b]={});e=h[c];null==e&&(e=h[c]={});h=e[f];null==h&&(b=g("\x3cdiv\x3e\x3c/div\x3e").html(f).css({position:"absolute","max-width":d,top:-9999}).appendTo(this.getTextLayer(b)),"object"===typeof a?b.css({font:c,color:a.color}):
"string"===typeof a&&b.addClass(a),h=e[f]={width:b.outerWidth(!0),height:b.outerHeight(!0),element:b,positions:[]},b.detach());return h};k.prototype.addText=function(b,f,a,c,d,h,e,g,k){b=this.getTextInfo(b,c,d,h,e);c=b.positions;"center"==g?f-=b.width/2:"right"==g&&(f-=b.width);"middle"==k?a-=b.height/2:"bottom"==k&&(a-=b.height);for(k=0;d=c[k];k++)if(d.x==f&&d.y==a){d.active=!0;return}d={active:!0,rendered:!1,element:c.length?b.element.clone():b.element,x:f,y:a};c.push(d);d.element.css({top:Math.round(a),
left:Math.round(f),"text-align":g})};k.prototype.removeText=function(b,f,a,c,d,h){if(null==c){if(f=this._textCache[b],null!=f)for(var n in f)if(e.call(f,n)){a=f[n];for(var g in a)if(e.call(a,g))for(b=a[g].positions,c=0;d=b[c];c++)d.active=!1}}else for(b=this.getTextInfo(b,c,d,h).positions,c=0;d=b[c];c++)d.x==f&&d.y==a&&(d.active=!1)};g.plot=function(b,f,a){return new l(g(b),f,a,g.plot.plugins)};g.plot.version="0.8.2";g.plot.plugins=[];g.fn.plot=function(b,f){return this.each(function(){g.plot(this,
b,f)})}})(jQuery);
(function(g){function k(a,c){return c*Math.floor(a/c)}function l(a,c,b,d){if("function"==typeof a.strftime)return a.strftime(c);var f=function(a,c){a=""+a;return 1==a.length?""+(null==c?"0":c)+a:a},e=[],g=!1,k=a.getHours(),l=12>k;null==b&&(b="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==d&&(d="Sun Mon Tue Wed Thu Fri Sat".split(" "));var x;x=12<k?k-12:0==k?12:k;for(var O=0;O<c.length;++O){var F=c.charAt(O);if(g){switch(F){case "a":F=""+d[a.getDay()];break;case "b":F=""+b[a.getMonth()];
break;case "d":F=f(a.getDate());break;case "e":F=f(a.getDate()," ");break;case "h":case "H":F=f(k);break;case "I":F=f(x);break;case "l":F=f(x," ");break;case "m":F=f(a.getMonth()+1);break;case "M":F=f(a.getMinutes());break;case "q":F=""+(Math.floor(a.getMonth()/3)+1);break;case "S":F=f(a.getSeconds());break;case "y":F=f(a.getFullYear()%100);break;case "Y":F=""+a.getFullYear();break;case "p":F=l?"am":"pm";break;case "P":F=l?"AM":"PM";break;case "w":F=""+a.getDay()}e.push(F);g=!1}else"%"==F?g=!0:e.push(F)}return e.join("")}
function e(a){function c(a,b,d,h){a[b]=function(){return d[h].apply(d,arguments)}}var b={date:a};void 0!=a.strftime&&c(b,"strftime",a,"strftime");c(b,"getTime",a,"getTime");c(b,"setTime",a,"setTime");for(var d="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),f=0;f<d.length;f++)c(b,"get"+d[f],a,"getUTC"+d[f]),c(b,"set"+d[f],a,"setUTC"+d[f]);return b}function b(a,c){if("browser"==c.timezone)return new Date(a);if(c.timezone&&"utc"!=c.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var b=new timezoneJS.Date;b.setTimezone(c.timezone);b.setTime(a);return b}return e(new Date(a))}var f={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},a=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]],c=a.concat([[3,
"month"],[6,"month"],[1,"year"]]),d=a.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);g.plot.plugins.push({init:function(a){a.hooks.processOptions.push(function(a,h){g.each(a.getAxes(),function(a,h){var e=h.options;"time"==e.mode&&(h.tickGenerator=function(a){var h=[],n=b(a.min,e),g=0,l=e.tickSize&&"quarter"===e.tickSize[1]||e.minTickSize&&"quarter"===e.minTickSize[1]?d:c;null!=e.minTickSize&&(g="number"==typeof e.tickSize?e.tickSize:e.minTickSize[0]*f[e.minTickSize[1]]);for(var r=0;r<l.length-1&&
!(a.delta<(l[r][0]*f[l[r][1]]+l[r+1][0]*f[l[r+1][1]])/2&&l[r][0]*f[l[r][1]]>=g);++r);g=l[r][0];l=l[r][1];"year"==l&&(null!=e.minTickSize&&"year"==e.minTickSize[1]?g=Math.floor(e.minTickSize[0]):(r=Math.pow(10,Math.floor(Math.log(a.delta/f.year)/Math.LN10)),g=a.delta/f.year/r,g=(1.5>g?1:3>g?2:7.5>g?5:10)*r),1>g&&(g=1));a.tickSize=e.tickSize||[g,l];r=a.tickSize[0];l=a.tickSize[1];g=r*f[l];"second"==l?n.setSeconds(k(n.getSeconds(),r)):"minute"==l?n.setMinutes(k(n.getMinutes(),r)):"hour"==l?n.setHours(k(n.getHours(),
r)):"month"==l?n.setMonth(k(n.getMonth(),r)):"quarter"==l?n.setMonth(3*k(n.getMonth()/3,r)):"year"==l&&n.setFullYear(k(n.getFullYear(),r));n.setMilliseconds(0);g>=f.minute&&n.setSeconds(0);g>=f.hour&&n.setMinutes(0);g>=f.day&&n.setHours(0);g>=4*f.day&&n.setDate(1);g>=2*f.month&&n.setMonth(k(n.getMonth(),3));g>=2*f.quarter&&n.setMonth(k(n.getMonth(),6));g>=f.year&&n.setMonth(0);var p=0,t=Number.NaN,V;do if(V=t,t=n.getTime(),h.push(t),"month"==l||"quarter"==l)if(1>r){n.setDate(1);var I=n.getTime();
n.setMonth(n.getMonth()+("quarter"==l?3:1));var X=n.getTime();n.setTime(t+p*f.hour+(X-I)*r);p=n.getHours();n.setHours(0)}else n.setMonth(n.getMonth()+r*("quarter"==l?3:1));else"year"==l?n.setFullYear(n.getFullYear()+r):n.setTime(t+g);while(t<a.max&&t!=V);return h},h.tickFormatter=function(a,c){var d=b(a,c.options);if(null!=e.timeformat)return l(d,e.timeformat,e.monthNames,e.dayNames);var h=c.options.tickSize&&"quarter"==c.options.tickSize[1]||c.options.minTickSize&&"quarter"==c.options.minTickSize[1],
n=c.tickSize[0]*f[c.tickSize[1]],g=c.max-c.min,k=e.twelveHourClock?" %p":"",r=e.twelveHourClock?"%I":"%H";return l(d,n<f.minute?r+":%M:%S"+k:n<f.day?g<2*f.day?r+":%M"+k:"%b %d "+r+":%M"+k:n<f.month?"%b %d":h&&n<f.quarter||!h&&n<f.year?g<f.year?"%b":"%b %Y":h&&n<f.year?g<f.year?"Q%q":"Q%q %Y":"%Y",e.monthNames,e.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});g.plot.formatDate=l})(jQuery);
(function(g){function k(d){var h,e=this,r=d.data||{};if(r.elem)e=d.dragTarget=r.elem,d.dragProxy=c.proxy||e,d.cursorOffsetX=r.pageX-r.left,d.cursorOffsetY=r.pageY-r.top,d.offsetX=d.pageX-d.cursorOffsetX,d.offsetY=d.pageY-d.cursorOffsetY;else if(c.dragging||0<r.which&&d.which!=r.which||g(d.target).is(r.not))return;switch(d.type){case "mousedown":return g.extend(r,g(e).offset(),{elem:e,target:d.target,pageX:d.pageX,pageY:d.pageY}),f.add(document,"mousemove mouseup",k,r),b(e,!1),c.dragging=null,!1;case !c.dragging&&
"mousemove":if(Math.pow(d.pageX-r.pageX,2)+Math.pow(d.pageY-r.pageY,2)<r.distance)break;d.target=r.target;h=l(d,"dragstart",e);!1!==h&&(c.dragging=e,c.proxy=d.dragProxy=g(h||e)[0]);case "mousemove":if(c.dragging){if(h=l(d,"drag",e),a.drop&&(a.drop.allowed=!1!==h,a.drop.handler(d)),!1!==h)break;d.type="mouseup"}case "mouseup":f.remove(document,"mousemove mouseup",k),c.dragging&&(a.drop&&a.drop.handler(d),l(d,"dragend",e)),b(e,!0),c.dragging=c.proxy=r.elem=!1}return!0}function l(a,c,b){a.type=c;c=g.event.dispatch.call(b,
a);return!1===c?!1:c||a.result}function e(){return!1===c.dragging}function b(a,c){a&&(a.unselectable=c?"off":"on",a.onselectstart=function(){return c},a.style&&(a.style.MozUserSelect=c?"":"none"))}g.fn.drag=function(a,c,b){return c&&this.bind("dragstart",a),b&&this.bind("dragend",b),a?this.bind("drag",c?c:a):this.trigger("drag")};var f=g.event,a=f.special,c=a.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=g.extend({distance:c.distance,which:c.which,not:c.not},a||{});a.distance=
Math.pow(a.distance,2);f.add(this,"mousedown",k,a);this.attachEvent&&this.attachEvent("ondragstart",e)},teardown:function(){f.remove(this,"mousedown",k);this===c.dragging&&(c.dragging=c.proxy=!1);b(this,!0);this.detachEvent&&this.detachEvent("ondragstart",e)}};a.dragstart=a.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(g){function k(b){var f=b||window.event,a=[].slice.call(arguments,1),c=0,d=0,h=0;b=g.event.fix(f);b.type="mousewheel";f.wheelDelta&&(c=f.wheelDelta/120);f.detail&&(c=-f.detail/3);h=c;void 0!==f.axis&&f.axis===f.HORIZONTAL_AXIS&&(h=0,d=-1*c);void 0!==f.wheelDeltaY&&(h=f.wheelDeltaY/120);void 0!==f.wheelDeltaX&&(d=-1*f.wheelDeltaX/120);a.unshift(b,c,d,h);return(g.event.dispatch||g.event.handle).apply(this,a)}var l=["DOMMouseScroll","mousewheel"];if(g.event.fixHooks)for(var e=l.length;e;)g.event.fixHooks[l[--e]]=
g.event.mouseHooks;g.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=l.length;b;)this.addEventListener(l[--b],k,!1);else this.onmousewheel=k},teardown:function(){if(this.removeEventListener)for(var b=l.length;b;)this.removeEventListener(l[--b],k,!1);else this.onmousewheel=null}};g.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(g){var k={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20,touch:!1}};g.plot.plugins.push({init:function(l){function e(a,c){var b=l.offset();b.left=a.pageX-b.left;b.top=a.pageY-b.top;c?l.zoomOut({center:b}):l.zoom({center:b})}function b(a,c){a.preventDefault();e(a,0>c);return!1}function f(a){if("touchstart"===a.type&&1===a.originalEvent.touches.length)k.pan.touch=!0;else if(1!==a.which||a.originalEvent.touches&&
1<a.originalEvent.touches.length)return;var c=l.getPlaceholder().css("cursor");c&&(d=c);l.getPlaceholder().css("cursor",l.getOptions().pan.cursor);a=k.pan.touch?a.originalEvent.changedTouches[0]:a;h=a.pageX;n=a.pageY}function a(a){var c=l.getOptions().pan.frameRate;!r&&c&&(r=setTimeout(function(){var c=k.pan.touch?a.originalEvent.changedTouches[0]:a;l.pan({left:h-c.pageX,top:n-c.pageY});h=c.pageX;n=c.pageY;r=null},1E3*(1/c)))}function c(a){r&&(clearTimeout(r),r=null);a=k.pan.touch?a.originalEvent.changedTouches[0]:
a;l.getPlaceholder().css("cursor",d);l.pan({left:h-a.pageX,top:n-a.pageY});l.getPlaceholder().trigger("plotpanEnd",[l])}var d="default",h=0,n=0,r=null,t;l.unbindPanZoomEvents=function(d){t.unbind("mousewheel",b);t.unbind("dragstart",f);t.unbind("drag",a);t.unbind("dragend",c);t.unbind("touchstart");t.unbind("touchmove");t.unbind("touchend")};l.zoomOut=function(a){a||(a={});a.amount||(a.amount=l.getOptions().zoom.amount);a.amount=1/a.amount;l.zoom(a)};l.zoom=function(a){a||(a={});var c=a.center,b=
a.amount||l.getOptions().zoom.amount,d=l.width(),h=l.height();c||(c={left:d/2,top:h/2});var f=c.left/d,e=c.top/h,n={x:{min:c.left-f*d/b,max:c.left+(1-f)*d/b},y:{min:c.top-e*h/b,max:c.top+(1-e)*h/b}};g.each(l.getAxes(),function(a,c){var d=c.options,h=n[c.direction].min,f=n[c.direction].max,e=d.zoomRange,g=d.panRange;if(!1!==e){h=c.c2p(h);f=c.c2p(f);if(h>f)var k=h,h=f,f=k;g&&(null!=g[0]&&h<g[0]&&(h=g[0]),null!=g[1]&&f>g[1]&&(f=g[1]));g=f-h;e&&(null!=e[0]&&g<e[0]&&1<b||null!=e[1]&&g>e[1]&&1>b)||(d.min=
h,d.max=f)}});l.setupGrid();l.draw();a.preventEvent||l.getPlaceholder().trigger("plotzoom",[l,a])};l.pan=function(a){var c={x:+a.left,y:+a.top};isNaN(c.x)&&(c.x=0);isNaN(c.y)&&(c.y=0);g.each(l.getAxes(),function(a,b){var d=b.options,h,f,e=c[b.direction];h=b.c2p(b.p2c(b.min)+e);f=b.c2p(b.p2c(b.max)+e);var n=d.panRange;!1!==n&&(n&&(null!=n[0]&&n[0]>h&&(e=n[0]-h,h+=e,f+=e),null!=n[1]&&n[1]<f&&(e=n[1]-f,h+=e,f+=e)),d.min=h,d.max=f)});l.setupGrid();l.draw();a.preventEvent||l.getPlaceholder().trigger("plotpan",
[l,a])};l.hooks.bindEvents.push(function(d,h){t=h;var n=d.getOptions();n.zoom.interactive&&(t[n.zoom.trigger](e),t.mousewheel(b));n.pan.interactive&&(t.bind("dragstart",{distance:10},f),t.bind("drag",a),t.bind("dragend",c),t.bind("touchstart",function(a){t.unbind("dragstart",f);f(a)}),t.bind("touchmove",function(c){t.unbind("drag",a);a(c)}),t.bind("touchend",function(a){t.unbind("dragend",c);c(a)}))});l.hooks.shutdown.push(function(d,h){h.unbind(d.getOptions().zoom.trigger,e);h.unbind("mousewheel",
b);h.unbind("dragstart",f);h.unbind("drag",a);h.unbind("dragend",c);h.unbind("touchstart");h.unbind("touchmove");h.unbind("touchend");r&&clearTimeout(r)})},options:k,name:"navigate",version:"1.3"})})(jQuery);
(function(g){g.gritter={};g.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1E3,time:6E3};g.gritter.add=function(g){try{return k.add(g||{})}catch(e){var b="Gritter Error: "+e;"undefined"!=typeof console&&console.error?console.error(b,g):alert(b)}};g.gritter.remove=function(g,e){k.removeSpecific(g,e||{})};g.gritter.removeAll=function(g){k.stop(g||{})};var k={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'\x3ca class\x3d"gritter-close" href\x3d"#" tabindex\x3d"1"\x3eClose Notification\x3c/a\x3e',
_tpl_title:'\x3cspan class\x3d"gritter-title"\x3e[[title]]\x3c/span\x3e',_tpl_item:'\x3cdiv id\x3d"gritter-item-[[number]]" class\x3d"gritter-item-wrapper [[item_class]]" style\x3d"display:none" role\x3d"alert"\x3e\x3cdiv class\x3d"gritter-top"\x3e\x3c/div\x3e\x3cdiv class\x3d"gritter-item"\x3e[[close]][[image]]\x3cdiv class\x3d"[[class_name]]"\x3e[[title]]\x3cp\x3e[[text]]\x3c/p\x3e\x3c/div\x3e\x3cdiv style\x3d"clear:both"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"gritter-bottom"\x3e\x3c/div\x3e\x3c/div\x3e',
_tpl_wrap:'\x3cdiv id\x3d"gritter-notice-wrapper"\x3e\x3c/div\x3e',add:function(l){"string"==typeof l&&(l={text:l});if(null===l.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var e=l.title,b=l.text,f=l.image||"",a=l.sticky||!1,c=l.class_name||g.gritter.options.class_name,d=g.gritter.options.position,h=l.time||"";this._verifyWrapper();this._item_count++;var n=this._item_count,r=this._tpl_item;g(["before_open","after_open","before_close","after_close"]).each(function(a,
c){k["_"+c+"_"+n]=g.isFunction(l[c])?l[c]:function(){}});this._custom_timer=0;h&&(this._custom_timer=h);h=""!=f?'\x3cimg src\x3d"'+f+'" class\x3d"gritter-image" /\x3e':"";f=""!=f?"gritter-with-image":"gritter-without-image";e=e?this._str_replace("[[title]]",e,this._tpl_title):"";r=this._str_replace("[[title]] [[text]] [[close]] [[image]] [[number]] [[class_name]] [[item_class]]".split(" "),[e,b,this._tpl_close,h,this._item_count,f,c],r);if(!1===this["_before_open_"+n]())return!1;g("#gritter-notice-wrapper").addClass(d).append(r);
e=g("#gritter-item-"+this._item_count);e.fadeIn(this.fade_in_speed,function(){k["_after_open_"+n](g(this))});a||this._setFadeTimer(e,n);g(e).bind("mouseenter mouseleave",function(c){"mouseenter"==c.type?a||k._restoreItemIfFading(g(this),n):a||k._setFadeTimer(g(this),n);k._hoverState(g(this),c.type)});g(e).find(".gritter-close").click(function(){k.removeSpecific(n,{},null,!0);return!1});return n},_countRemoveWrapper:function(k,e,b){e.remove();this["_after_close_"+k](e,b);0==g(".gritter-item-wrapper").length&&
g("#gritter-notice-wrapper").remove()},_fade:function(g,e,b,f){b=b||{};var a="undefined"!=typeof b.fade?b.fade:!0;b=b.speed||this.fade_out_speed;this["_before_close_"+e](g,f);f&&g.unbind("mouseenter mouseleave");a?g.animate({opacity:0},b,function(){g.animate({height:0},300,function(){k._countRemoveWrapper(e,g,f)})}):this._countRemoveWrapper(e,g)},_hoverState:function(g,e){"mouseenter"==e?(g.addClass("hover"),g.find(".gritter-close").show()):(g.removeClass("hover"),g.find(".gritter-close").hide())},
removeSpecific:function(k,e,b,f){b||(b=g("#gritter-item-"+k));this._fade(b,k,e||{},f)},_restoreItemIfFading:function(g,e){clearTimeout(this["_int_id_"+e]);g.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in g.gritter.options)this[opt]=g.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(g,e){this["_int_id_"+e]=setTimeout(function(){k._fade(g,e)},this._custom_timer?this._custom_timer:this.time)},stop:function(k){var e=g.isFunction(k.before_close)?k.before_close:function(){},
b=g.isFunction(k.after_close)?k.after_close:function(){};k=g("#gritter-notice-wrapper");e(k);k.fadeOut(function(){g(this).remove();b()})},_str_replace:function(g,e,b,f){var a=0,c=0,d="",h="",n=0,k=0;g=[].concat(g);e=[].concat(e);var t=e instanceof Array,p=b instanceof Array;b=[].concat(b);f&&(this.window[f]=0);a=0;for(n=b.length;a<n;a++)if(""!==b[a])for(c=0,k=g.length;c<k;c++)d=b[a]+"",h=t?void 0!==e[c]?e[c]:"":e[0],b[a]=d.split(g[c]).join(h),f&&b[a]!==d&&(this.window[f]+=(d.length-b[a].length)/g[c].length);
return p?b:b[0]},_verifyWrapper:function(){0==g("#gritter-notice-wrapper").length&&g("body").append(this._tpl_wrap)}}})(jQuery);
(function(g,k){var l,e;if("localStorage"in window)try{e="undefined"===typeof window.localStorage?k:window.localStorage,l="undefined"==typeof e||"undefined"==typeof window.JSON?!1:!0}catch(b){l=!1}g.totalStorage=function(b,a,c){return g.totalStorage.impl.init(b,a)};g.totalStorage.setItem=function(b,a){return g.totalStorage.impl.setItem(b,a)};g.totalStorage.getItem=function(b){return g.totalStorage.impl.getItem(b)};g.totalStorage.getAll=function(){return g.totalStorage.impl.getAll()};g.totalStorage.deleteItem=
function(b){return g.totalStorage.impl.deleteItem(b)};g.totalStorage.impl={init:function(b,a){return"undefined"!=typeof a?this.setItem(b,a):this.getItem(b)},setItem:function(b,a){if(!l)try{return g.cookie(b,a),a}catch(c){DEBUG&&console.log("Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality. You can get it at https://github.com/carhartl/jquery-cookie")}var d=JSON.stringify(a);e.setItem(b,d);return this.parseResult(d)},getItem:function(b){if(!l)try{return this.parseResult(g.cookie(b))}catch(a){return null}b=
e.getItem(b);return this.parseResult(b)},deleteItem:function(b){if(!l)try{return g.cookie(b,null),!0}catch(a){return!1}e.removeItem(b);return!0},getAll:function(){var b=[];if(l)for(var a in e)a.length&&b.push({key:a,value:this.parseResult(e.getItem(a))});else try{var c=document.cookie.split(";");for(a=0;a<c.length;a++){var d=c[a].split("\x3d")[0];b.push({key:d,value:this.parseResult(g.cookie(d))})}}catch(h){return null}return b},parseResult:function(b){var a;try{a=JSON.parse(b),"undefined"==typeof a&&
(a=b),"true"==a&&(a=!0),"false"==a&&(a=!1),parseFloat(a)==a&&"object"!=typeof a&&(a=parseFloat(a))}catch(c){a=b}return a}}})(jQuery);
(function(g,k,l){var e=g.L,b={version:"0.7.1"};"object"===typeof module&&"object"===typeof module.exports?module.exports=b:"function"===typeof define&&define.amd&&define(b);b.noConflict=function(){g.L=e;return this};g.L=b;b.Util={extend:function(a){var c=Array.prototype.slice.call(arguments,1),b,h,f,e;h=0;for(f=c.length;h<f;h++)for(b in e=c[h]||{},e)e.hasOwnProperty(b)&&(a[b]=e[b]);return a},bind:function(a,c){var b=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(c,
b||arguments)}},stamp:function(){var a=0;return function(c){c._leaflet_id=c._leaflet_id||++a;return c._leaflet_id}}(),invokeEach:function(a,c,b){var h,f;if("object"===typeof a){f=Array.prototype.slice.call(arguments,3);for(h in a)c.apply(b,[h,a[h]].concat(f));return!0}return!1},limitExecByInterval:function(a,c,b){var h,f;return function t(){var e=arguments;h?f=!0:(h=!0,setTimeout(function(){h=!1;f&&(t.apply(b,e),f=!1)},c),a.apply(b,e))}},falseFn:function(){return!1},formatNum:function(a,c){var b=
Math.pow(10,c||5);return Math.round(a*b)/b},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return b.Util.trim(a).split(/\s+/)},setOptions:function(a,c){a.options=b.extend({},a.options,c);return a.options},getParamString:function(a,c,b){var h=[],f;for(f in a)h.push(encodeURIComponent(b?f.toUpperCase():f)+"\x3d"+encodeURIComponent(a[f]));return(c&&-1!==c.indexOf("?")?"\x26":"?")+h.join("\x26")},template:function(a,c){return a.replace(/\{ *([\w_]+) *\}/g,function(a,
b){var f=c[b];if(f===l)throw Error("No value provided for variable "+a);"function"===typeof f&&(f=f(c));return f})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"};(function(){function a(a){var c,b,d=["webkit","moz","o","ms"];for(c=0;c<d.length&&!b;c++)b=g[d[c]+a];return b}function c(a){var c=+new Date,b=Math.max(0,16-(c-d));d=c+b;return g.setTimeout(a,b)}var d=0,h=g.requestAnimationFrame||
a("RequestAnimationFrame")||c,f=g.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){g.clearTimeout(a)};b.Util.requestAnimFrame=function(a,d,f,e){a=b.bind(a,d);if(f&&h===c)a();else return h.call(g,a,e)};b.Util.cancelAnimFrame=function(a){a&&f.call(g,a)}})();b.extend=b.Util.extend;b.bind=b.Util.bind;b.stamp=b.Util.stamp;b.setOptions=b.Util.setOptions;b.Class=function(){};b.Class.extend=function(a){var c=function(){this.initialize&&this.initialize.apply(this,
arguments);this._initHooks&&this.callInitHooks()},d=function(){};d.prototype=this.prototype;var h=new d;h.constructor=c;c.prototype=h;for(var f in this)this.hasOwnProperty(f)&&"prototype"!==f&&(c[f]=this[f]);a.statics&&(b.extend(c,a.statics),delete a.statics);a.includes&&(b.Util.extend.apply(null,[h].concat(a.includes)),delete a.includes);a.options&&h.options&&(a.options=b.extend({},h.options,a.options));b.extend(h,a);h._initHooks=[];var e=this;c.__super__=e.prototype;h.callInitHooks=function(){if(!this._initHooksCalled){e.prototype.callInitHooks&&
e.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,c=h._initHooks.length;a<c;a++)h._initHooks[a].call(this)}};return c};b.Class.include=function(a){b.extend(this.prototype,a)};b.Class.mergeOptions=function(a){b.extend(this.prototype.options,a)};b.Class.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof a?a:function(){this[a].apply(this,c)})};b.Mixin=
{};b.Mixin.Events={addEventListener:function(a,c,d){if(b.Util.invokeEach(a,this.addEventListener,this,c,d))return this;var h=this._leaflet_events=this._leaflet_events||{},f=d&&d!==this&&b.stamp(d),e,g,k,l,C;a=b.Util.splitWords(a);e=0;for(g=a.length;e<g;e++)k={action:c,context:d||this},l=a[e],f?(C=l+"_idx",l=C+"_len",C=h[C]=h[C]||{},C[f]||(C[f]=[],h[l]=(h[l]||0)+1),C[f].push(k)):(h[l]=h[l]||[],h[l].push(k));return this},hasEventListeners:function(a){var c=this._leaflet_events;return!!c&&(a in c&&0<
c[a].length||a+"_idx"in c&&0<c[a+"_idx_len"])},removeEventListener:function(a,c,d){if(!this._leaflet_events)return this;if(!a)return this.clearAllEventListeners();if(b.Util.invokeEach(a,this.removeEventListener,this,c,d))return this;var h=this._leaflet_events,f=d&&d!==this&&b.stamp(d),e,g,k,l,C,B,z;a=b.Util.splitWords(a);e=0;for(g=a.length;e<g;e++)if(k=a[e],l=k+"_idx",C=l+"_len",B=h[l],c){if(k=f&&B?B[f]:h[k]){for(l=k.length-1;0<=l;l--)k[l].action!==c||d&&k[l].context!==d||(z=k.splice(l,1),z[0].action=
b.Util.falseFn);d&&B&&0===k.length&&(delete B[f],h[C]--)}}else delete h[k],delete h[l],delete h[C];return this},clearAllEventListeners:function(){delete this._leaflet_events;return this},fireEvent:function(a,c){if(!this.hasEventListeners(a))return this;var d=b.Util.extend({},c,{type:a,target:this}),h=this._leaflet_events,f,e,g,k;if(h[a])for(f=h[a].slice(),e=0,g=f.length;e<g;e++)f[e].action.call(f[e].context,d);h=h[a+"_idx"];for(k in h)if(f=h[k].slice())for(e=0,g=f.length;e<g;e++)f[e].action.call(f[e].context,
d);return this},addOneTimeEventListener:function(a,c,d){if(b.Util.invokeEach(a,this.addOneTimeEventListener,this,c,d))return this;var h=b.bind(function(){this.removeEventListener(a,c,d).removeEventListener(a,h,d)},this);return this.addEventListener(a,c,d).addEventListener(a,h,d)}};b.Mixin.Events.on=b.Mixin.Events.addEventListener;b.Mixin.Events.off=b.Mixin.Events.removeEventListener;b.Mixin.Events.once=b.Mixin.Events.addOneTimeEventListener;b.Mixin.Events.fire=b.Mixin.Events.fireEvent;(function(){var a=
"ActiveXObject"in g,c=a&&!k.addEventListener,d=navigator.userAgent.toLowerCase(),h=-1!==d.indexOf("webkit"),f=-1!==d.indexOf("chrome"),e=-1!==d.indexOf("phantom"),t=-1!==d.indexOf("android"),p=-1!==d.search("android [23]"),d=-1!==d.indexOf("gecko"),w=typeof orientation!==l+"",C=g.navigator&&g.navigator.msPointerEnabled&&g.navigator.msMaxTouchPoints&&!g.PointerEvent,B=g.PointerEvent&&g.navigator.pointerEnabled&&g.navigator.maxTouchPoints||C,z="devicePixelRatio"in g&&1<g.devicePixelRatio||"matchMedia"in
g&&g.matchMedia("(min-resolution:144dpi)")&&g.matchMedia("(min-resolution:144dpi)").matches,x=k.documentElement,O=a&&"transition"in x.style,F="WebKitCSSMatrix"in g&&"m11"in new g.WebKitCSSMatrix&&!p,u="MozPerspective"in x.style,ba="OTransition"in x.style,V=!g.L_DISABLE_3D&&(O||F||u||ba)&&!e,e=!g.L_NO_TOUCH&&!e&&function(){if(B||"ontouchstart"in x)return!0;var a=k.createElement("div"),c=!1;if(!a.setAttribute)return!1;a.setAttribute("ontouchstart","return;");"function"===typeof a.ontouchstart&&(c=!0);
a.removeAttribute("ontouchstart");return c}();b.Browser={ie:a,ielt9:c,webkit:h,gecko:d&&!h&&!g.opera&&!a,android:t,android23:p,chrome:f,ie3d:O,webkit3d:F,gecko3d:u,opera3d:ba,any3d:V,mobile:w,mobileWebkit:w&&h,mobileWebkit3d:w&&F,mobileOpera:w&&g.opera,touch:e,msPointer:C,pointer:B,retina:z}})();b.Point=function(a,c,b){this.x=b?Math.round(a):a;this.y=b?Math.round(c):c};b.Point.prototype={clone:function(){return new b.Point(this.x,this.y)},add:function(a){return this.clone()._add(b.point(a))},_add:function(a){this.x+=
a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(b.point(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},
floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},distanceTo:function(a){a=b.point(a);var c=a.x-this.x;a=a.y-this.y;return Math.sqrt(c*c+a*a)},equals:function(a){a=b.point(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=b.point(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+b.Util.formatNum(this.x)+", "+b.Util.formatNum(this.y)+")"}};b.point=
function(a,c,d){return a instanceof b.Point?a:b.Util.isArray(a)?new b.Point(a[0],a[1]):a===l||null===a?a:new b.Point(a,c,d)};b.Bounds=function(a,c){if(a)for(var b=c?[a,c]:a,h=0,f=b.length;h<f;h++)this.extend(b[h])};b.Bounds.prototype={extend:function(a){a=b.point(a);this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone());return this},getCenter:function(a){return new b.Point((this.min.x+
this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new b.Point(this.min.x,this.max.y)},getTopRight:function(){return new b.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c;a="number"===typeof a[0]||a instanceof b.Point?b.point(a):b.bounds(a);a instanceof b.Bounds?(c=a.min,a=a.max):c=a;return c.x>=this.min.x&&a.x<=this.max.x&&c.y>=this.min.y&&a.y<=this.max.y},intersects:function(a){a=b.bounds(a);var c=this.min,
d=this.max,h=a.min;a=a.max;var f=a.y>=c.y&&h.y<=d.y;return a.x>=c.x&&h.x<=d.x&&f},isValid:function(){return!(!this.min||!this.max)}};b.bounds=function(a,c){return!a||a instanceof b.Bounds?a:new b.Bounds(a,c)};b.Transformation=function(a,c,b,h){this._a=a;this._b=c;this._c=b;this._d=h};b.Transformation.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){c=c||1;a.x=c*(this._a*a.x+this._b);a.y=c*(this._c*a.y+this._d);return a},untransform:function(a,c){c=c||
1;return new b.Point((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};b.DomUtil={get:function(a){return"string"===typeof a?k.getElementById(a):a},getStyle:function(a,c){var b=a.style[c];!b&&a.currentStyle&&(b=a.currentStyle[c]);b&&"auto"!==b||!k.defaultView||(b=(b=k.defaultView.getComputedStyle(a,null))?b[c]:null);return"auto"===b?null:b},getViewportOffset:function(a){var c=0,d=0,h=a,f=k.body,e=k.documentElement,g;do{c+=h.offsetTop||0;d+=h.offsetLeft||0;c+=parseInt(b.DomUtil.getStyle(h,"borderTopWidth"),
10)||0;d+=parseInt(b.DomUtil.getStyle(h,"borderLeftWidth"),10)||0;g=b.DomUtil.getStyle(h,"position");if(h.offsetParent===f&&"absolute"===g)break;if("fixed"===g){c+=f.scrollTop||e.scrollTop||0;d+=f.scrollLeft||e.scrollLeft||0;break}if("relative"===g&&!h.offsetLeft){g=b.DomUtil.getStyle(h,"width");var l=b.DomUtil.getStyle(h,"max-width"),w=h.getBoundingClientRect();if("none"!==g||"none"!==l)d+=w.left+h.clientLeft;c+=w.top+(f.scrollTop||e.scrollTop||0);break}h=h.offsetParent}while(h);h=a;do{if(h===f)break;
c-=h.scrollTop||0;d-=h.scrollLeft||0;h=h.parentNode}while(h);return new b.Point(d,c)},documentIsLtr:function(){b.DomUtil._docIsLtrCached||(b.DomUtil._docIsLtrCached=!0,b.DomUtil._docIsLtr="ltr"===b.DomUtil.getStyle(k.body,"direction"));return b.DomUtil._docIsLtr},create:function(a,c,b){a=k.createElement(a);a.className=c;b&&b.appendChild(a);return a},hasClass:function(a,c){if(a.classList!==l)return a.classList.contains(c);var d=b.DomUtil._getClass(a);return 0<d.length&&RegExp("(^|\\s)"+c+"(\\s|$)").test(d)},
addClass:function(a,c){if(a.classList!==l)for(var d=b.Util.splitWords(c),h=0,f=d.length;h<f;h++)a.classList.add(d[h]);else b.DomUtil.hasClass(a,c)||(d=b.DomUtil._getClass(a),b.DomUtil._setClass(a,(d?d+" ":"")+c))},removeClass:function(a,c){a.classList!==l?a.classList.remove(c):b.DomUtil._setClass(a,b.Util.trim((" "+b.DomUtil._getClass(a)+" ").replace(" "+c+" "," ")))},_setClass:function(a,c){a.className.baseVal===l?a.className=c:a.className.baseVal=c},_getClass:function(a){return a.className.baseVal===
l?a.className:a.className.baseVal},setOpacity:function(a,c){if("opacity"in a.style)a.style.opacity=c;else if("filter"in a.style){var b=!1;try{b=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(h){if(1===c)return}c=Math.round(100*c);b?(b.Enabled=100!==c,b.Opacity=c):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+c+")"}},testProp:function(a){for(var c=k.documentElement.style,b=0;b<a.length;b++)if(a[b]in c)return a[b];return!1},getTranslateString:function(a){var c=b.Browser.webkit3d;
return"translate"+(c?"3d":"")+"("+a.x+"px,"+a.y+"px"+((c?",0":"")+")")},getScaleString:function(a,c){return b.DomUtil.getTranslateString(c.add(c.multiplyBy(-1*a)))+(" scale("+a+") ")},setPosition:function(a,c,d){a._leaflet_pos=c;!d&&b.Browser.any3d?a.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(c):(a.style.left=c.x+"px",a.style.top=c.y+"px")},getPosition:function(a){return a._leaflet_pos}};b.DomUtil.TRANSFORM=b.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform",
"msTransform"]);b.DomUtil.TRANSITION=b.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);b.DomUtil.TRANSITION_END="webkitTransition"===b.DomUtil.TRANSITION||"OTransition"===b.DomUtil.TRANSITION?b.DomUtil.TRANSITION+"End":"transitionend";(function(){if("onselectstart"in k)b.extend(b.DomUtil,{disableTextSelection:function(){b.DomEvent.on(g,"selectstart",b.DomEvent.preventDefault)},enableTextSelection:function(){b.DomEvent.off(g,"selectstart",b.DomEvent.preventDefault)}});
else{var a=b.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);b.extend(b.DomUtil,{disableTextSelection:function(){if(a){var c=k.documentElement.style;this._userSelect=c[a];c[a]="none"}},enableTextSelection:function(){a&&(k.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}b.extend(b.DomUtil,{disableImageDrag:function(){b.DomEvent.on(g,"dragstart",b.DomEvent.preventDefault)},enableImageDrag:function(){b.DomEvent.off(g,"dragstart",
b.DomEvent.preventDefault)}})})();b.LatLng=function(a,c,b){a=parseFloat(a);c=parseFloat(c);if(isNaN(a)||isNaN(c))throw Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=a;this.lng=c;b!==l&&(this.alt=parseFloat(b))};b.extend(b.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1E-9});b.LatLng.prototype={equals:function(a){if(!a)return!1;a=b.latLng(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=b.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+b.Util.formatNum(this.lat,
a)+", "+b.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=b.latLng(a);var c=b.LatLng.DEG_TO_RAD,d=(a.lng-this.lng)*c,h=this.lat*c,f=a.lat*c;a=Math.sin((a.lat-this.lat)*c/2);d=Math.sin(d/2);h=a*a+d*d*Math.cos(h)*Math.cos(f);return 12756274*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))},wrap:function(a,c){var d=this.lng;a=a||-180;c=c||180;return new b.LatLng(this.lat,(d+c)%(c-a)+(d<a||d===c?c:a))}};b.latLng=function(a,c){return a instanceof b.LatLng?a:b.Util.isArray(a)?"number"===typeof a[0]||"string"===
typeof a[0]?new b.LatLng(a[0],a[1],a[2]):null:a===l||null===a?a:"object"===typeof a&&"lat"in a?new b.LatLng(a.lat,"lng"in a?a.lng:a.lon):c===l?null:new b.LatLng(a,c)};b.LatLngBounds=function(a,c){if(a)for(var b=c?[a,c]:a,h=0,f=b.length;h<f;h++)this.extend(b[h])};b.LatLngBounds.prototype={extend:function(a){if(!a)return this;var c=b.latLng(a);a=null!==c?c:b.latLngBounds(a);a instanceof b.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=
Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new b.LatLng(a.lat,a.lng),this._northEast=new b.LatLng(a.lat,a.lng)):a instanceof b.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast));return this},pad:function(a){var c=this._southWest,d=this._northEast,h=Math.abs(c.lat-d.lat)*a;a*=Math.abs(c.lng-d.lng);return new b.LatLngBounds(new b.LatLng(c.lat-h,c.lng-a),new b.LatLng(d.lat+
h,d.lng+a))},getCenter:function(){return new b.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new b.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new b.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},
getNorth:function(){return this._northEast.lat},contains:function(a){a="number"===typeof a[0]||a instanceof b.LatLng?b.latLng(a):b.latLngBounds(a);var c=this._southWest,d=this._northEast,h;a instanceof b.LatLngBounds?(h=a.getSouthWest(),a=a.getNorthEast()):h=a;return h.lat>=c.lat&&a.lat<=d.lat&&h.lng>=c.lng&&a.lng<=d.lng},intersects:function(a){a=b.latLngBounds(a);var c=this._southWest,d=this._northEast,h=a.getSouthWest();a=a.getNorthEast();var f=a.lng>=c.lng&&h.lng<=d.lng;return a.lat>=c.lat&&h.lat<=
d.lat&&f},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){if(!a)return!1;a=b.latLngBounds(a);return this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())},isValid:function(){return!(!this._southWest||!this._northEast)}};b.latLngBounds=function(a,c){return!a||a instanceof b.LatLngBounds?a:new b.LatLngBounds(a,c)};b.Projection={};b.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var c=
b.LatLng.DEG_TO_RAD,d=this.MAX_LATITUDE,d=Math.max(Math.min(d,a.lat),-d);a=a.lng*c;c=Math.log(Math.tan(Math.PI/4+d*c/2));return new b.Point(a,c)},unproject:function(a){var c=b.LatLng.RAD_TO_DEG,d=a.x*c;a=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*c;return new b.LatLng(a,d)}};b.Projection.LonLat={project:function(a){return new b.Point(a.lng,a.lat)},unproject:function(a){return new b.LatLng(a.y,a.x)}};b.CRS={latLngToPoint:function(a,c){var b=this.projection.project(a),h=this.scale(c);return this.transformation._transform(b,
h)},pointToLatLng:function(a,c){var b=this.scale(c),b=this.transformation.untransform(a,b);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){a=this.scale(a);return b.point(a,a)}};b.CRS.Simple=b.extend({},b.CRS,{projection:b.Projection.LonLat,transformation:new b.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});b.CRS.EPSG3857=b.extend({},b.CRS,{code:"EPSG:3857",projection:b.Projection.SphericalMercator,
transformation:new b.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(a){return this.projection.project(a).multiplyBy(6378137)}});b.CRS.EPSG900913=b.extend({},b.CRS.EPSG3857,{code:"EPSG:900913"});b.CRS.EPSG4326=b.extend({},b.CRS,{code:"EPSG:4326",projection:b.Projection.LonLat,transformation:new b.Transformation(1/360,0.5,-1/360,0.5)});b.Map=b.Class.extend({includes:b.Mixin.Events,options:{crs:b.CRS.EPSG3857,fadeAnimation:b.DomUtil.TRANSITION&&!b.Browser.android23,trackResize:!0,
markerZoomAnimation:b.DomUtil.TRANSITION&&b.Browser.any3d},initialize:function(a,c){c=b.setOptions(this,c);this._initContainer(a);this._initLayout();this._onResize=b.bind(this._onResize,this);this._initEvents();c.maxBounds&&this.setMaxBounds(c.maxBounds);c.center&&c.zoom!==l&&this.setView(b.latLng(c.center),c.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(c.layers)},setView:function(a,c){c=c===l?this.getZoom():
c;this._resetView(b.latLng(a),this._limitZoom(c));return this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,c){return this.setZoom(this._zoom+(a||1),c)},zoomOut:function(a,c){return this.setZoom(this._zoom-(a||1),c)},setZoomAround:function(a,c,d){var h=this.getZoomScale(c),f=this.getSize().divideBy(2);a=(a instanceof b.Point?a:this.latLngToContainerPoint(a)).subtract(f).multiplyBy(1-1/h);f=this.containerPointToLatLng(f.add(a));
return this.setView(f,c,{zoom:d})},fitBounds:function(a,c){c=c||{};a=a.getBounds?a.getBounds():b.latLngBounds(a);var d=b.point(c.paddingTopLeft||c.padding||[0,0]),h=b.point(c.paddingBottomRight||c.padding||[0,0]),f=this.getBoundsZoom(a,!1,d.add(h)),d=h.subtract(d).divideBy(2),h=this.project(a.getSouthWest(),f),e=this.project(a.getNorthEast(),f),d=this.unproject(h.add(e).divideBy(2).add(d),f),f=c&&c.maxZoom?Math.min(c.maxZoom,f):f;return this.setView(d,f,c)},fitWorld:function(a){return this.fitBounds([[-90,
-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a){this.fire("movestart");this._rawPanBy(b.point(a));this.fire("move");return this.fire("moveend")},setMaxBounds:function(a){a=b.latLngBounds(a);this.options.maxBounds=a;if(!a)return this.off("moveend",this._panInsideMaxBounds,this);this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,c){var b=this.getCenter(),h=this._limitCenter(b,
this._zoom,a);return b.equals(h)?this:this.panTo(h,c)},addLayer:function(a){var c=b.stamp(a);if(this._layers[c])return this;this._layers[c]=a;!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[c]=a,this._updateZoomLevels());this.options.zoomAnimation&&b.TileLayer&&a instanceof b.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this));this._loaded&&this._layerAdd(a);return this},removeLayer:function(a){var c=b.stamp(a);
if(!this._layers[c])return this;if(this._loaded)a.onRemove(this);delete this._layers[c];this._loaded&&this.fire("layerremove",{layer:a});this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels());this.options.zoomAnimation&&b.TileLayer&&a instanceof b.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this));return this},hasLayer:function(a){return a?b.stamp(a)in this._layers:!1},eachLayer:function(a,c){for(var b in this._layers)a.call(c,
this._layers[b]);return this},invalidateSize:function(a){if(!this._loaded)return this;a=b.extend({animate:!1,pan:!0},!0===a?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var d=this.getSize(),h=c.divideBy(2).round(),f=d.divideBy(2).round(),h=h.subtract(f);if(!h.x&&!h.y)return this;a.animate&&a.pan?this.panBy(h):(a.pan&&this._rawPanBy(h),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(b.bind(this.fire,this,"moveend"),
200)):this.fire("moveend"));return this.fire("resize",{oldSize:c,newSize:d})},addHandler:function(a,c){if(!c)return this;var b=this[a]=new c(this);this._handlers.push(b);this.options[a]&&b.enable();return this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=l}this._clearPanes();this._clearControlPos&&this._clearControlPos();this._clearHandlers();return this},getCenter:function(){this._checkIfLoaded();
return this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new b.LatLngBounds(c,a)},getMinZoom:function(){return this.options.minZoom===l?this._layersMinZoom===l?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===l?this._layersMaxZoom===
l?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,d){a=b.latLngBounds(a);var h=this.getMinZoom()-(c?1:0),f=this.getMaxZoom(),e=this.getSize(),g=a.getNorthWest();a=a.getSouthEast();var k=!0;d=b.point(d||[0,0]);do h++,k=this.project(a,h).subtract(this.project(g,h)).add(d),k=c?k.x<e.x||k.y<e.y:e.contains(k);while(k&&h<=f);return k&&c?null:c?h:h-1},getSize:function(){if(!this._size||this._sizeChanged)this._size=new b.Point(this._container.clientWidth,this._container.clientHeight),
this._sizeChanged=!1;return this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new b.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var c=this.options.crs;return c.scale(a)/c.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,c){c=c===l?
this._zoom:c;return this.options.crs.latLngToPoint(b.latLng(a),c)},unproject:function(a,c){c=c===l?this._zoom:c;return this.options.crs.pointToLatLng(b.point(a),c)},layerPointToLatLng:function(a){a=b.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(b.latLng(a))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return b.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return b.point(a).add(this._getMapPanePos())},
containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(b.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(b.latLng(a)))},mouseEventToContainerPoint:function(a){return b.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},
_initContainer:function(a){a=this._container=b.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet)throw Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=this._container;b.DomUtil.addClass(a,"leaflet-container"+(b.Browser.touch?" leaflet-touch":"")+(b.Browser.retina?" leaflet-retina":"")+(b.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var c=b.DomUtil.getStyle(a,"position");"absolute"!==c&&
"relative"!==c&&"fixed"!==c&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=
this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");this.options.markerZoomAnimation||(b.DomUtil.addClass(a.markerPane," leaflet-zoom-hide"),b.DomUtil.addClass(a.shadowPane," leaflet-zoom-hide"),b.DomUtil.addClass(a.popupPane," leaflet-zoom-hide"))},_createPane:function(a,c){return b.DomUtil.create("div",a,c||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?b.Util.isArray(a)?a:[a]:[];for(var c=
0,d=a.length;c<d;c++)this.addLayer(a[c])},_resetView:function(a,c,d,h){var f=this._zoom!==c;h||(this.fire("movestart"),f&&this.fire("zoomstart"));this._zoom=c;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);d?this._initialTopLeftPoint._add(this._getMapPanePos()):b.DomUtil.setPosition(this._mapPane,new b.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;a=!this._loaded;this._loaded=!0;a&&(this.fire("load"),this.eachLayer(this._layerAdd,this));this.fire("viewreset",
{hard:!d});this.fire("move");(f||h)&&this.fire("zoomend");this.fire("moveend",{hard:!d})},_rawPanBy:function(a){b.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,c=Infinity,b=-Infinity,h=this._getZoomSpan();for(a in this._zoomBoundLayers){var f=this._zoomBoundLayers[a];isNaN(f.options.minZoom)||(c=Math.min(c,f.options.minZoom));isNaN(f.options.maxZoom)||(b=Math.max(b,f.options.maxZoom))}a===
l?this._layersMaxZoom=this._layersMinZoom=l:(this._layersMaxZoom=b,this._layersMinZoom=c);h!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){if(b.DomEvent){a=a||"on";b.DomEvent[a](this._container,"click",this._onMouseClick,this);var c="dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu".split(" "),
d,h;d=0;for(h=c.length;d<h;d++)b.DomEvent[a](this._container,c[d],this._fireMouseEvent,this);if(this.options.trackResize)b.DomEvent[a](g,"resize",this._onResize,this)}},_onResize:function(){b.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=b.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||b.DomEvent._skipped(a)||
(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!b.DomEvent._skipped(a)){var c=a.type,c="mouseenter"===c?"mouseover":"mouseleave"===c?"mouseout":c;if(this.hasEventListeners(c)){"contextmenu"===c&&b.DomEvent.preventDefault(a);var d=this.mouseEventToContainerPoint(a),h=this.containerPointToLayerPoint(d),f=this.layerPointToLatLng(h);this.fire(c,{latlng:f,layerPoint:h,containerPoint:d,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--;
this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){if(this._loaded)a.call(c||this,this);else this.on("load",a,c);return this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return b.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},
_getNewTopLeftPoint:function(a,c){var b=this.getSize()._divideBy(2);return this.project(a,c)._subtract(b)._round()},_latLngToNewLayerPoint:function(a,c,b){b=this._getNewTopLeftPoint(b,c).add(this._getMapPanePos());return this.project(a,c)._subtract(b)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,d){if(!d)return a;a=
this.project(a,c);var h=this.getSize().divideBy(2),h=new b.Bounds(a.subtract(h),a.add(h));d=this._getBoundsOffset(h,d,c);return this.unproject(a.add(d),c)},_limitOffset:function(a,c){if(!c)return a;var d=this.getPixelBounds(),d=new b.Bounds(d.min.add(a),d.max.add(a));return a.add(this._getBoundsOffset(d,c))},_getBoundsOffset:function(a,c,d){var h=this.project(c.getNorthWest(),d).subtract(a.min);c=this.project(c.getSouthEast(),d).subtract(a.max);a=this._rebound(h.x,-c.x);h=this._rebound(h.y,-c.y);
return new b.Point(a,h)},_rebound:function(a,c){return 0<a+c?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),b=this.getMaxZoom();return Math.max(c,Math.min(b,a))}});b.map=function(a,c){return new b.Map(a,c)};b.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var c=b.LatLng.DEG_TO_RAD,d=this.MAX_LATITUDE,h=Math.max(Math.min(d,a.lat),-d),d=this.R_MAJOR;a=a.lng*c*d;var c=
h*c,h=this.R_MINOR/d,h=Math.sqrt(1-h*h),f=h*Math.sin(c),f=Math.pow((1-f)/(1+f),0.5*h),c=Math.tan(0.5*(0.5*Math.PI-c))/f,c=-d*Math.log(c);return new b.Point(a,c)},unproject:function(a){var c=b.LatLng.RAD_TO_DEG,d=this.R_MAJOR,h=a.x*c/d,f=this.R_MINOR/d,f=Math.sqrt(1-f*f);a=Math.exp(-a.y/d);for(var d=Math.PI/2-2*Math.atan(a),e=15,g=0.1;1E-7<Math.abs(g)&&0<--e;)g=f*Math.sin(d),g=Math.PI/2-2*Math.atan(a*Math.pow((1-g)/(1+g),0.5*f))-d,d+=g;return new b.LatLng(d*c,h)}};b.CRS.EPSG3395=b.extend({},b.CRS,
{code:"EPSG:3395",projection:b.Projection.Mercator,transformation:function(){var a=0.5/(Math.PI*b.Projection.Mercator.R_MAJOR);return new b.Transformation(a,0.5,-a,0.5)}()});b.TileLayer=b.Class.extend({includes:b.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:b.Browser.mobile,updateWhenIdle:b.Browser.mobile},initialize:function(a,c){c=b.setOptions(this,c);c.detectRetina&&b.Browser.retina&&0<c.maxZoom&&
(c.tileSize=Math.floor(c.tileSize/2),c.zoomOffset++,0<c.minZoom&&c.minZoom--,this.options.maxZoom--);c.bounds&&(c.bounds=b.latLngBounds(c.bounds));this._url=a;var d=this.options.subdomains;"string"===typeof d&&(this.options.subdomains=d.split(""))},onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();a.on({viewreset:this._reset,moveend:this._update},this);if(this._animated)a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||
(this._limitedUpdate=b.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this));this._reset();this._update()},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this._container.parentNode.removeChild(this._container);a.off({viewreset:this._reset,moveend:this._update},this);this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this);this._map=this._container=null},
bringToFront:function(){var a=this._map._panes.tilePane;this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max));return this},bringToBack:function(){var a=this._map._panes.tilePane;this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min));return this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();
return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},setUrl:function(a,c){this._url=a;c||this.redraw();return this},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());return this},_updateZIndex:function(){this._container&&this.options.zIndex!==l&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,c){var b=a.children,h=-c(Infinity,-Infinity),f,e,g;e=0;for(g=b.length;e<g;e++)b[e]!==this._container&&(f=parseInt(b[e].style.zIndex,
10),isNaN(f)||(h=c(h,f)));this.options.zIndex=this._container.style.zIndex=(isFinite(h)?h:0)+c(1,-1)},_updateOpacity:function(){var a,c=this._tiles;if(b.Browser.ielt9)for(a in c)b.DomUtil.setOpacity(c[a],this.options.opacity);else b.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;this._container||(this._container=b.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated?(this._bgBuffer=b.DomUtil.create("div","leaflet-tile-container",
this._container),this._tileContainer=b.DomUtil.create("div","leaflet-tile-container",this._container)):this._tileContainer=this._container,a.appendChild(this._container),1>this.options.opacity&&this._updateOpacity())},_reset:function(a){for(var c in this._tiles)this.fire("tileunload",{tile:this._tiles[c]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&a&&a.hard&&this._clearBgBuffer();this._initContainer()},_getTileSize:function(){var a=
this._map,c=a.getZoom()+this.options.zoomOffset,b=this.options.maxNativeZoom,h=this.options.tileSize;b&&c>b&&(h=Math.round(a.getZoomScale(c)/a.getZoomScale(b)*h));return h},_update:function(){if(this._map){var a=this._map,c=a.getPixelBounds(),a=a.getZoom(),d=this._getTileSize();a>this.options.maxZoom||a<this.options.minZoom||(c=b.bounds(c.min.divideBy(d)._floor(),c.max.divideBy(d)._floor()),this._addTilesFromCenterOut(c),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(c))}},
_addTilesFromCenterOut:function(a){var c=[],d=a.getCenter(),h,f,e;for(h=a.min.y;h<=a.max.y;h++)for(f=a.min.x;f<=a.max.x;f++)e=new b.Point(f,h),this._tileShouldBeLoaded(e)&&c.push(e);a=c.length;if(0!==a){c.sort(function(a,c){return a.distanceTo(d)-c.distanceTo(d)});h=k.createDocumentFragment();this._tilesToLoad||this.fire("loading");this._tilesToLoad+=a;for(f=0;f<a;f++)this._addTile(c[f],h);this._tileContainer.appendChild(h)}},_tileShouldBeLoaded:function(a){if(a.x+":"+a.y in this._tiles)return!1;
var c=this.options;if(!c.continuousWorld){var b=this._getWrapTileNum();if(c.noWrap&&(0>a.x||a.x>=b.x)||0>a.y||a.y>=b.y)return!1}return c.bounds&&(b=c.tileSize,a=a.multiplyBy(b),b=a.add([b,b]),a=this._map.unproject(a),b=this._map.unproject(b),c.continuousWorld||c.noWrap||(a=a.wrap(),b=b.wrap()),!c.bounds.intersects([a,b]))?!1:!0},_removeOtherTiles:function(a){var c,b,h;for(h in this._tiles)c=h.split(":"),b=parseInt(c[0],10),c=parseInt(c[1],10),(b<a.min.x||b>a.max.x||c<a.min.y||c>a.max.y)&&this._removeTile(h)},
_removeTile:function(a){var c=this._tiles[a];this.fire("tileunload",{tile:c,url:c.src});this.options.reuseTiles?(b.DomUtil.removeClass(c,"leaflet-tile-loaded"),this._unusedTiles.push(c)):c.parentNode===this._tileContainer&&this._tileContainer.removeChild(c);b.Browser.android||(c.onload=null,c.src=b.Util.emptyImageUrl);delete this._tiles[a]},_addTile:function(a,c){var d=this._getTilePos(a),h=this._getTile();b.DomUtil.setPosition(h,d,b.Browser.chrome);this._tiles[a.x+":"+a.y]=h;this._loadTile(h,a);
h.parentNode!==this._tileContainer&&c.appendChild(h)},_getZoomForUrl:function(){var a=this.options,c=this._map.getZoom();a.zoomReverse&&(c=a.maxZoom-c);c+=a.zoomOffset;return a.maxNativeZoom?Math.min(c,a.maxNativeZoom):c},_getTilePos:function(a){var c=this._map.getPixelOrigin(),b=this._getTileSize();return a.multiplyBy(b).subtract(c)},getTileUrl:function(a){return b.Util.template(this._url,b.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this.options.tileSize)},
_adjustTilePoint:function(a){var c=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%c.x+c.x)%c.x);this.options.tms&&(a.y=c.y-a.y-1);a.z=this._getZoomForUrl()},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_getTile:function(){if(this.options.reuseTiles&&0<this._unusedTiles.length){var a=this._unusedTiles.pop();this._resetTile(a);return a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=
b.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this._getTileSize()+"px";a.galleryimg="no";a.onselectstart=a.onmousemove=b.Util.falseFn;b.Browser.ielt9&&this.options.opacity!==l&&b.DomUtil.setOpacity(a,this.options.opacity);b.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden");return a},_loadTile:function(a,c){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(c);a.src=this.getTileUrl(c);this.fire("tileloadstart",{tile:a,url:a.src})},
_tileLoaded:function(){this._tilesToLoad--;this._animated&&b.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated");this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(b.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==b.Util.emptyImageUrl&&(b.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src}));a._tileLoaded()},_tileOnError:function(){var a=
this._layer;a.fire("tileerror",{tile:this,url:this.src});var c=a.options.errorTileUrl;c&&(this.src=c);a._tileLoaded()}});b.tileLayer=function(a,c){return new b.TileLayer(a,c)};b.TileLayer.WMS=b.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,c){this._url=a;var d=b.extend({},this.defaultWmsParams),h=c.tileSize||this.options.tileSize;d.width=c.detectRetina&&b.Browser.retina?d.height=2*h:
d.height=h;for(var f in c)this.options.hasOwnProperty(f)||"crs"===f||(d[f]=c[f]);this.wmsParams=d;b.setOptions(this,c)},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;b.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._map,d=this.options.tileSize,h=a.multiplyBy(d),d=h.add([d,d]),h=this._crs.project(c.unproject(h,a.z)),c=this._crs.project(c.unproject(d,
a.z)),c=1.3<=this._wmsVersion&&this._crs===b.CRS.EPSG4326?[c.y,h.x,h.y,c.x].join():[h.x,c.y,c.x,h.y].join();a=b.Util.template(this._url,{s:this._getSubdomain(a)});return a+b.Util.getParamString(this.wmsParams,a,!0)+"\x26BBOX\x3d"+c},setParams:function(a,c){b.extend(this.wmsParams,a);c||this.redraw();return this}});b.tileLayer.wms=function(a,c){return new b.TileLayer.WMS(a,c)};b.TileLayer.Canvas=b.TileLayer.extend({options:{async:!1},initialize:function(a){b.setOptions(this,a)},redraw:function(){this._map&&
(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=b.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize;a.onselectstart=a.onmousemove=b.Util.falseFn;return a},_loadTile:function(a,c){a._layer=this;a._tilePoint=c;this._redrawTile(a);this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});
b.tileLayer.canvas=function(a){return new b.TileLayer.Canvas(a)};b.ImageOverlay=b.Class.extend({includes:b.Mixin.Events,options:{opacity:1},initialize:function(a,c,d){this._url=a;this._bounds=b.latLngBounds(c);b.setOptions(this,d)},onAdd:function(a){this._map=a;this._image||this._initImage();a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);if(a.options.zoomAnimation&&b.Browser.any3d)a.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);
a.off("viewreset",this._reset,this);a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},bringToFront:function(){this._image&&this._map._panes.overlayPane.appendChild(this._image);return this},bringToBack:function(){var a=this._map._panes.overlayPane;this._image&&a.insertBefore(this._image,a.firstChild);return this},setUrl:function(a){this._url=a;this._image.src=
this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=b.DomUtil.create("img","leaflet-image-layer");this._map.options.zoomAnimation&&b.Browser.any3d?b.DomUtil.addClass(this._image,"leaflet-zoom-animated"):b.DomUtil.addClass(this._image,"leaflet-zoom-hide");this._updateOpacity();b.extend(this._image,{galleryimg:"no",onselectstart:b.Util.falseFn,onmousemove:b.Util.falseFn,onload:b.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var c=
this._map,d=this._image,h=c.getZoomScale(a.zoom),f=this._bounds.getNorthWest(),e=this._bounds.getSouthEast(),f=c._latLngToNewLayerPoint(f,a.zoom,a.center);a=c._latLngToNewLayerPoint(e,a.zoom,a.center)._subtract(f);a=f._add(a._multiplyBy(0.5*(1-1/h)));d.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(a)+" scale("+h+") "},_reset:function(){var a=this._image,c=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),d=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(c);b.DomUtil.setPosition(a,
c);a.style.width=d.x+"px";a.style.height=d.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){b.DomUtil.setOpacity(this._image,this.options.opacity)}});b.imageOverlay=function(a,c,d){return new b.ImageOverlay(a,c,d)};b.Icon=b.Class.extend({options:{className:""},initialize:function(a){b.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var b=this._getIconUrl(a);
if(!b){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}b=c&&"IMG"===c.tagName?this._createImg(b,c):this._createImg(b);this._setIconStyles(b,a);return b},_setIconStyles:function(a,c){var d=this.options,h=b.point(d[c+"Size"]),f;f="shadow"===c?b.point(d.shadowAnchor||d.iconAnchor):b.point(d.iconAnchor);!f&&h&&(f=h.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+d.className;f&&(a.style.marginLeft=-f.x+"px",a.style.marginTop=-f.y+"px");h&&(a.style.width=h.x+
"px",a.style.height=h.y+"px")},_createImg:function(a,c){c=c||k.createElement("img");c.src=a;return c},_getIconUrl:function(a){return b.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}});b.icon=function(a){return new b.Icon(a)};b.Icon.Default=b.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var c=a+"Url";if(this.options[c])return this.options[c];b.Browser.retina&&"icon"===a&&(a+=
"-2x");c=b.Icon.Default.imagePath;if(!c)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return c+"/marker-"+a+".png"}});b.Icon.Default.imagePath=function(){var a=k.getElementsByTagName("script"),c=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,b,h,f,e;b=0;for(h=a.length;b<h;b++)if(f=a[b].src,e=f.match(c))return a=f.split(c)[0],(a?a+"/":"")+"images"}();b.Marker=b.Class.extend({includes:b.Mixin.Events,options:{icon:new b.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,
keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,c){b.setOptions(this,c);this._latlng=b.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();this.fire("add");if(a.options.zoomAnimation&&a.options.markerZoomAnimation)a.on("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow();this.fire("remove");
a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=b.latLng(a);this.update();return this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;this.update();return this},setIcon:function(a){this.options.icon=a;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup);return this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();
this._setPos(a)}return this},_initIcon:function(){var a=this.options,c=this._map,d=c.options.zoomAnimation&&c.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",h=a.icon.createIcon(this._icon),c=!1;h!==this._icon&&(this._icon&&this._removeIcon(),c=!0,a.title&&(h.title=a.title),a.alt&&(h.alt=a.alt));b.DomUtil.addClass(h,d);a.keyboard&&(h.tabIndex="0");this._icon=h;this._initInteraction();if(a.riseOnHover)b.DomEvent.on(h,"mouseover",this._bringToFront,this).on(h,"mouseout",this._resetZIndex,
this);var h=a.icon.createShadow(this._shadow),f=!1;h!==this._shadow&&(this._removeShadow(),f=!0);h&&b.DomUtil.addClass(h,d);this._shadow=h;1>a.opacity&&this._updateOpacity();a=this._map._panes;c&&a.markerPane.appendChild(this._icon);h&&f&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&b.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&
this._map._panes.shadowPane.removeChild(this._shadow);this._shadow=null},_setPos:function(a){b.DomUtil.setPosition(this._icon,a);this._shadow&&b.DomUtil.setPosition(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,c=["dblclick",
"mousedown","mouseover","mouseout","contextmenu"];b.DomUtil.addClass(a,"leaflet-clickable");b.DomEvent.on(a,"click",this._onMouseClick,this);b.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var d=0;d<c.length;d++)b.DomEvent.on(a,c[d],this._fireMouseEvent,this);b.Handler.MarkerDrag&&(this.dragging=new b.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var c=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||c)&&b.DomEvent.stopPropagation(a);
c||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});"contextmenu"===a.type&&this.hasEventListeners(a.type)&&b.DomEvent.preventDefault(a);"mousedown"!==a.type?b.DomEvent.stopPropagation(a):b.DomEvent.preventDefault(a)},setOpacity:function(a){this.options.opacity=
a;this._map&&this._updateOpacity();return this},_updateOpacity:function(){b.DomUtil.setOpacity(this._icon,this.options.opacity);this._shadow&&b.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});b.marker=function(a,c){return new b.Marker(a,c)};b.DivIcon=b.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){a=a&&"DIV"===a.tagName?
a:k.createElement("div");var c=this.options;a.innerHTML=!1!==c.html?c.html:"";c.bgPos&&(a.style.backgroundPosition=-c.bgPos.x+"px "+-c.bgPos.y+"px");this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});b.divIcon=function(a){return new b.DivIcon(a)};b.Map.mergeOptions({closePopupOnClick:!0});b.Popup=b.Class.extend({includes:b.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},
initialize:function(a,c){b.setOptions(this,a);this._source=c;this._animated=b.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(a){this._map=a;this._container||this._initLayout();var c=a.options.fadeAnimation;c&&b.DomUtil.setOpacity(this._container,0);a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();c&&b.DomUtil.setOpacity(this._container,1);this.fire("open");a.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",
{popup:this})},addTo:function(a){a.addLayer(this);return this},openOn:function(a){a.openPopup(this);return this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);b.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);a.options.fadeAnimation&&b.DomUtil.setOpacity(this._container,0);this._map=null;this.fire("close");a.fire("popupclose",{popup:this});this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=
b.latLng(a);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};this._animated&&(a.zoomanim=this._zoomAnimation);if("closeOnClick"in
this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)a.preclick=this._close;this.options.keepInView&&(a.moveend=this._adjustPan);return a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a=this._container=b.DomUtil.create("div","leaflet-popup "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide")),c;this.options.closeButton&&(c=this._closeButton=b.DomUtil.create("a","leaflet-popup-close-button",a),c.href="#close",c.innerHTML=
"\x26#215;",b.DomEvent.disableClickPropagation(c),b.DomEvent.on(c,"click",this._onCloseButtonClick,this));c=this._wrapper=b.DomUtil.create("div","leaflet-popup-content-wrapper",a);b.DomEvent.disableClickPropagation(c);this._contentNode=b.DomUtil.create("div","leaflet-popup-content",c);b.DomEvent.disableScrollPropagation(this._contentNode);b.DomEvent.on(c,"contextmenu",b.DomEvent.stopPropagation);this._tipContainer=b.DomUtil.create("div","leaflet-popup-tip-container",a);this._tip=b.DomUtil.create("div",
"leaflet-popup-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"===typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="";c.whiteSpace="nowrap";var d=a.offsetWidth,d=Math.min(d,this.options.maxWidth),d=Math.max(d,
this.options.minWidth);c.width=d+1+"px";c.whiteSpace="";c.height="";var d=a.offsetHeight,h=this.options.maxHeight;h&&d>h?(c.height=h+"px",b.DomUtil.addClass(a,"leaflet-popup-scrolled")):b.DomUtil.removeClass(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=this._animated,d=b.point(this.options.offset);c&&b.DomUtil.setPosition(this._container,a);this._containerBottom=-d.y-(c?0:a.y);
this._containerLeft=-Math.round(this._containerWidth/2)+d.x+(c?0:a.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);b.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,c=this._container.offsetHeight,d=this._containerWidth,h=new b.Point(this._containerLeft,-c-this._containerBottom);this._animated&&
h._add(b.DomUtil.getPosition(this._container));var h=a.layerPointToContainerPoint(h),f=b.point(this.options.autoPanPadding),e=b.point(this.options.autoPanPaddingTopLeft||f),f=b.point(this.options.autoPanPaddingBottomRight||f),g=a.getSize(),k=0,l=0;h.x+d+f.x>g.x&&(k=h.x+d-g.x+f.x);0>h.x-k-e.x&&(k=h.x-e.x);h.y+c+f.y>g.y&&(l=h.y+c-g.y+f.y);0>h.y-l-e.y&&(l=h.y-e.y);(k||l)&&a.fire("autopanstart").panBy([k,l])}},_onCloseButtonClick:function(a){this._close();b.DomEvent.stop(a)}});b.popup=function(a,c){return new b.Popup(a,
c)};b.Map.include({openPopup:function(a,c,d){this.closePopup();a instanceof b.Popup||(a=(new b.Popup(d)).setLatLng(c).setContent(a));a._isOpen=!0;this._popup=a;return this.addLayer(a)},closePopup:function(a){a&&a!==this._popup||(a=this._popup,this._popup=null);a&&(this.removeLayer(a),a._isOpen=!1);return this}});b.Marker.include({openPopup:function(){this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup));return this},closePopup:function(){this._popup&&
this._popup._close();return this},togglePopup:function(){this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup());return this},bindPopup:function(a,c){var d=b.point(this.options.icon.options.popupAnchor||[0,0]),d=d.add(b.Popup.prototype.options.offset);c&&c.offset&&(d=d.add(c.offset));c=b.extend({offset:d},c);this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0);a instanceof b.Popup?
(b.setOptions(a,c),this._popup=a):this._popup=(new b.Popup(c,this)).setContent(a);return this},setPopupContent:function(a){this._popup&&this._popup.setContent(a);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1);return this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});b.LayerGroup=b.Class.extend({initialize:function(a){this._layers=
{};var c,b;if(a)for(c=0,b=a.length;c<b;c++)this.addLayer(a[c])},addLayer:function(a){var c=this.getLayerId(a);this._layers[c]=a;this._map&&this._map.addLayer(a);return this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]);delete this._layers[a];return this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){this.eachLayer(this.removeLayer,this);return this},
invoke:function(a){var c=Array.prototype.slice.call(arguments,1),b,h;for(b in this._layers)h=this._layers[b],h[a]&&h[a].apply(h,c);return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){a.addLayer(this);return this},eachLayer:function(a,c){for(var b in this._layers)a.call(c,this._layers[b]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],c;for(c in this._layers)a.push(this._layers[c]);
return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return b.stamp(a)}});b.layerGroup=function(a){return new b.LayerGroup(a)};b.FeatureGroup=b.LayerGroup.extend({includes:b.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){if(this.hasLayer(a))return this;if("on"in a)a.on(b.FeatureGroup.EVENTS,this._propagateEvent,this);b.LayerGroup.prototype.addLayer.call(this,a);this._popupContent&&
a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions);return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a))return this;a in this._layers&&(a=this._layers[a]);a.off(b.FeatureGroup.EVENTS,this._propagateEvent,this);b.LayerGroup.prototype.removeLayer.call(this,a);this._popupContent&&this.invoke("unbindPopup");return this.fire("layerremove",{layer:a})},bindPopup:function(a,c){this._popupContent=a;this._popupOptions=c;return this.invoke("bindPopup",a,c)},openPopup:function(a){for(var c in this._layers){this._layers[c].openPopup(a);
break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new b.LatLngBounds;this.eachLayer(function(c){a.extend(c instanceof b.Marker?c.getLatLng():c.getBounds())});return a},_propagateEvent:function(a){a=b.extend({layer:a.target,target:this},a);this.fire(a.type,a)}});b.featureGroup=function(a){return new b.FeatureGroup(a)};b.Path=b.Class.extend({includes:[b.Mixin.Events],
statics:{CLIP_PADDING:function(){var a=((b.Browser.mobile?1280:2E3)/Math.max(g.outerWidth,g.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(a){b.setOptions(this,a)},onAdd:function(a){this._map=a;this._container||(this._initElements(),this._initEvents());this.projectLatlngs();this._updatePath();this._container&&this._map._pathRoot.appendChild(this._container);
this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;b.Browser.vml&&(this._fill=this._stroke=this._container=null);a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){b.setOptions(this,a);this._container&&this._updateStyle();return this},redraw:function(){this._map&&
(this.projectLatlngs(),this._updatePath());return this}});b.Map.include({_updatePathViewport:function(){var a=b.Path.CLIP_PADDING,c=this.getSize(),d=b.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(c.multiplyBy(a)._round()),a=d.add(c.multiplyBy(1+2*a)._round());this._pathViewport=new b.Bounds(d,a)}});b.Path.SVG_NS="http://www.w3.org/2000/svg";b.Browser.svg=!(!k.createElementNS||!k.createElementNS(b.Path.SVG_NS,"svg").createSVGRect);b.Path=b.Path.extend({statics:{SVG:b.Browser.svg},bringToFront:function(){var a=
this._map._pathRoot,c=this._container;c&&a.lastChild!==c&&a.appendChild(c);return this},bringToBack:function(){var a=this._map._pathRoot,c=this._container,b=a.firstChild;c&&b!==c&&a.insertBefore(c,b);return this},getPathString:function(){},_createElement:function(a){return k.createElementNS(b.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this.options.className&&
b.DomUtil.addClass(this._path,this.options.className);this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill&&this._path.setAttribute("fill-rule","evenodd");this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents);this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none");
this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",
this.options.lineJoin)):this._path.setAttribute("stroke","none");this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0");this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){!b.Browser.svg&&b.Browser.vml||b.DomUtil.addClass(this._path,"leaflet-clickable");b.DomEvent.on(this._container,
"click",this._onMouseClick,this);for(var a="dblclick mousedown mouseover mouseout mousemove contextmenu".split(" "),c=0;c<a.length;c++)b.DomEvent.on(this._container,a[c],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var c=this._map,d=c.mouseEventToContainerPoint(a),h=c.containerPointToLayerPoint(d),c=c.layerPointToLatLng(h);this.fire(a.type,{latlng:c,layerPoint:h,
containerPoint:d,originalEvent:a});"contextmenu"===a.type&&b.DomEvent.preventDefault(a);"mousemove"!==a.type&&b.DomEvent.stopPropagation(a)}}});b.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=b.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&b.Browser.any3d?(b.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):b.DomUtil.addClass(this._pathRoot,
"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var c=this.getZoomScale(a.zoom);a=this._getCenterOffset(a.center)._multiplyBy(-c)._add(this._pathViewport.min);this._pathRoot.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(a)+" scale("+c+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,c=a.min,
d=a.max,a=d.x-c.x,d=d.y-c.y,h=this._pathRoot,f=this._panes.overlayPane;b.Browser.mobileWebkit&&f.removeChild(h);b.DomUtil.setPosition(h,c);h.setAttribute("width",a);h.setAttribute("height",d);h.setAttribute("viewBox",[c.x,c.y,a,d].join(" "));b.Browser.mobileWebkit&&f.appendChild(h)}}});b.Path.include({bindPopup:function(a,c){if(a instanceof b.Popup)this._popup=a;else{if(!this._popup||c)this._popup=new b.Popup(c,this);this._popup.setContent(a)}this._popupHandlersAdded||(this.on("click",this._openPopup,
this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1);return this},openPopup:function(a){this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a}));return this},closePopup:function(){this._popup&&this._popup._close();return this},_openPopup:function(a){this._popup.setLatLng(a.latlng);
this._map.openPopup(this._popup)}});b.Browser.vml=!b.Browser.svg&&function(){try{var a=k.createElement("div");a.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var c=a.firstChild;c.style.behavior="url(#default#VML)";return c&&"object"===typeof c.adj}catch(b){return!1}}();b.Path=b.Browser.svg||!b.Browser.vml?b.Path:b.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return k.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return k.createElement("\x3clvml:"+a+
' class\x3d"lvml"\x3e')}}catch(a){return function(a){return k.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");b.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));this.options.clickable&&b.DomUtil.addClass(a,"leaflet-clickable");a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},
_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,c=this._fill,d=this.options,h=this._container;h.stroked=d.stroke;h.filled=d.fill;d.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",h.appendChild(a)),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,a.dashStyle=d.dashArray?b.Util.isArray(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):"",d.lineCap&&(a.endcap=d.lineCap.replace("butt","flat")),d.lineJoin&&(a.joinstyle=
d.lineJoin)):a&&(h.removeChild(a),this._stroke=null);d.fill?(c||(c=this._fill=this._createElement("fill"),h.appendChild(c)),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(h.removeChild(c),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});b.Map.include(b.Browser.svg||!b.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=k.createElement("div");a.className="leaflet-vml-container";
this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}}});b.Browser.canvas=!!k.createElement("canvas").getContext;b.Path=b.Path.SVG&&!g.L_PREFER_CANVAS||!b.Browser.canvas?b.Path:b.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){this._map&&(this.projectLatlngs(),this._requestUpdate());return this},setStyle:function(a){b.setOptions(this,a);this._map&&(this._updateStyle(),this._requestUpdate());return this},onRemove:function(a){a.off("viewreset",
this.projectLatlngs,this).off("moveend",this._updatePath,this);this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this));this._requestUpdate();this._map=null},_requestUpdate:function(){this._map&&!b.Path._updateRequest&&(b.Path._updateRequest=b.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){b.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},
_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color);a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,c,d,h,f,e;this._ctx.beginPath();a=0;for(d=this._parts.length;a<d;a++){c=0;for(h=this._parts[a].length;c<h;c++)f=this._parts[a][c],e=(0===c?"move":"line")+"To",this._ctx[e](f.x,f.y);this instanceof b.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=
this._ctx,b=this.options;this._drawPath();a.save();this._updateStyle();b.fill&&(a.globalAlpha=b.fillOpacity,a.fill());b.stroke&&(a.globalAlpha=b.opacity,a.stroke());a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor=
"pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}});b.Map.include(b.Path.SVG&&!g.L_PREFER_CANVAS||!b.Browser.canvas?{}:{_initPathRoot:function(){var a=this._pathRoot,b;a||(a=this._pathRoot=k.createElement("canvas"),a.style.position="absolute",b=this._canvasCtx=a.getContext("2d"),b.lineCap="round",b.lineJoin="round",this._panes.overlayPane.appendChild(a),this.options.zoomAnimation&&(this._pathRoot.className=
"leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,c=a.min,a=a.max.subtract(c),d=this._pathRoot;b.DomUtil.setPosition(d,c);d.width=a.x;d.height=a.y;d.getContext("2d").translate(-c.x,-c.y)}}});b.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var d=
b*b;a=this._reducePoints(a,d);return a=this._simplifyDP(a,d)},pointToSegmentDistance:function(a,b,d){return Math.sqrt(this._sqClosestPointOnSegment(a,b,d,!0))},closestPointOnSegment:function(a,b,d){return this._sqClosestPointOnSegment(a,b,d)},_simplifyDP:function(a,b){var d=a.length,h=new (typeof Uint8Array!==l+""?Uint8Array:Array)(d);h[0]=h[d-1]=1;this._simplifyDPStep(a,h,b,0,d-1);var f,e=[];for(f=0;f<d;f++)h[f]&&e.push(a[f]);return e},_simplifyDPStep:function(a,b,d,f,e){var g=0,k,l,w;for(l=f+1;l<=
e-1;l++)w=this._sqClosestPointOnSegment(a[l],a[f],a[e],!0),w>g&&(k=l,g=w);g>d&&(b[k]=1,this._simplifyDPStep(a,b,d,f,k),this._simplifyDPStep(a,b,d,k,e))},_reducePoints:function(a,b){for(var d=[a[0]],f=1,e=0,g=a.length;f<g;f++)this._sqDist(a[f],a[e])>b&&(d.push(a[f]),e=f);e<g-1&&d.push(a[g-1]);return d},clipSegment:function(a,b,d,f){f=f?this._lastCode:this._getBitCode(a,d);var e=this._getBitCode(b,d),g,k,l;for(this._lastCode=e;;)if(f|e){if(f&e)return!1;g=f||e;k=this._getEdgeIntersection(a,b,g,d);l=
this._getBitCode(k,d);g===f?(a=k,f=l):(b=k,e=l)}else return[a,b]},_getEdgeIntersection:function(a,c,d,f){var e=c.x-a.x;c=c.y-a.y;var g=f.min;f=f.max;if(d&8)return new b.Point(a.x+e*(f.y-a.y)/c,f.y);if(d&4)return new b.Point(a.x+e*(g.y-a.y)/c,g.y);if(d&2)return new b.Point(f.x,a.y+c*(f.x-a.x)/e);if(d&1)return new b.Point(g.x,a.y+c*(g.x-a.x)/e)},_getBitCode:function(a,b){var d=0;a.x<b.min.x?d|=1:a.x>b.max.x&&(d|=2);a.y<b.min.y?d|=4:a.y>b.max.y&&(d|=8);return d},_sqDist:function(a,b){var d=b.x-a.x,f=
b.y-a.y;return d*d+f*f},_sqClosestPointOnSegment:function(a,c,d,f){var e=c.x;c=c.y;var g=d.x-e,k=d.y-c,l=g*g+k*k;0<l&&(l=((a.x-e)*g+(a.y-c)*k)/l,1<l?(e=d.x,c=d.y):0<l&&(e+=g*l,c+=k*l));g=a.x-e;k=a.y-c;return f?g*g+k*k:new b.Point(e,c)}};b.Polyline=b.Path.extend({initialize:function(a,c){b.Path.prototype.initialize.call(this,c);this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;a<b;a++)this._originalPoints[a]=
this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,d="";a<b;a++)d+=this._getPathPartStr(this._parts[a]);return d},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._latlngs=this._convertLatLngs(a);return this.redraw()},addLatLng:function(a){this._latlngs.push(b.latLng(a));return this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,!0);this.redraw();return a},
closestLayerPoint:function(a){for(var c=Infinity,d=this._parts,f,e,g=null,k=0,l=d.length;k<l;k++)for(var w=d[k],C=1,B=w.length;C<B;C++){f=w[C-1];e=w[C];var z=b.LineUtil._sqClosestPointOnSegment(a,f,e,!0);z<c&&(c=z,g=b.LineUtil._sqClosestPointOnSegment(a,f,e))}g&&(g.distance=Math.sqrt(c));return g},getBounds:function(){return new b.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,c){var d,f,e=c?a:[];d=0;for(f=a.length;d<f;d++){if(b.Util.isArray(a[d])&&"number"!==typeof a[d][0])return;e[d]=
b.latLng(a[d])}return e},_initEvents:function(){b.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var c=b.Path.VML,d=0,f=a.length,e="",g;d<f;d++)g=a[d],c&&g._round(),e+=(d?"L":"M")+g.x+" "+g.y;return e},_clipPoints:function(){var a=this._originalPoints,c=a.length,d,f,e;if(this.options.noClip)this._parts=[a];else{var g=this._parts=[],k=this._map._pathViewport,l=b.LineUtil;for(f=d=0;d<c-1;d++)if(e=l.clipSegment(a[d],a[d+1],k,d))if(g[f]=g[f]||[],g[f].push(e[0]),e[1]!==a[d+1]||
d===c-2)g[f].push(e[1]),f++}},_simplifyPoints:function(){for(var a=this._parts,c=b.LineUtil,d=0,f=a.length;d<f;d++)a[d]=c.simplify(a[d],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),b.Path.prototype._updatePath.call(this))}});b.polyline=function(a,c){return new b.Polyline(a,c)};b.PolyUtil={};b.PolyUtil.clipPolygon=function(a,c){var d,f=[1,4,2,8],e,g,k,l,w,C,B=b.LineUtil;e=0;for(w=a.length;e<w;e++)a[e]._code=B._getBitCode(a[e],c);for(k=0;4>
k;k++){C=f[k];d=[];e=0;w=a.length;for(g=w-1;e<w;g=e++)(l=a[e],g=a[g],l._code&C)?g._code&C||(g=B._getEdgeIntersection(g,l,C,c),g._code=B._getBitCode(g,c),d.push(g)):(g._code&C&&(g=B._getEdgeIntersection(g,l,C,c),g._code=B._getBitCode(g,c),d.push(g)),d.push(l));a=d}return a};b.Polygon=b.Polyline.extend({options:{fill:!0},initialize:function(a,c){b.Polyline.prototype.initialize.call(this,a,c);this._initWithHoles(a)},_initWithHoles:function(a){var c,d;if(a&&b.Util.isArray(a[0])&&"number"!==typeof a[0][0])for(this._latlngs=
this._convertLatLngs(a[0]),this._holes=a.slice(1),a=0,c=this._holes.length;a<c;a++)d=this._holes[a]=this._convertLatLngs(this._holes[a]),d[0].equals(d[d.length-1])&&d.pop();a=this._latlngs;2<=a.length&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){b.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(this._holes){var a,c,d,f;a=0;for(d=this._holes.length;a<d;a++)for(this._holePoints[a]=[],c=0,f=this._holes[a].length;c<f;c++)this._holePoints[a][c]=this._map.latLngToLayerPoint(this._holes[a][c])}},
setLatLngs:function(a){return a&&b.Util.isArray(a[0])&&"number"!==typeof a[0][0]?(this._initWithHoles(a),this.redraw()):b.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=[];this._parts=[this._originalPoints].concat(this._holePoints);if(!this.options.noClip){for(var c=0,d=this._parts.length;c<d;c++){var f=b.PolyUtil.clipPolygon(this._parts[c],this._map._pathViewport);f.length&&a.push(f)}this._parts=a}},_getPathPartStr:function(a){return b.Polyline.prototype._getPathPartStr.call(this,
a)+(b.Browser.svg?"z":"x")}});b.polygon=function(a,c){return new b.Polygon(a,c)};(function(){function a(a){return b.FeatureGroup.extend({initialize:function(a,b){this._layers={};this._options=b;this.setLatLngs(a)},setLatLngs:function(b){var f=0,e=b.length;for(this.eachLayer(function(a){f<e?a.setLatLngs(b[f++]):this.removeLayer(a)},this);f<e;)this.addLayer(new a(b[f++],this._options));return this},getLatLngs:function(){var a=[];this.eachLayer(function(b){a.push(b.getLatLngs())});return a}})}b.MultiPolyline=
a(b.Polyline);b.MultiPolygon=a(b.Polygon);b.multiPolyline=function(a,d){return new b.MultiPolyline(a,d)};b.multiPolygon=function(a,d){return new b.MultiPolygon(a,d)}})();b.Rectangle=b.Polygon.extend({initialize:function(a,c){b.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=b.latLngBounds(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});b.rectangle=function(a,
c){return new b.Rectangle(a,c)};b.Circle=b.Path.extend({initialize:function(a,c,d){b.Path.prototype.initialize.call(this,d);this._latlng=b.latLng(a);this._mRadius=c},options:{fill:!0},setLatLng:function(a){this._latlng=b.latLng(a);return this.redraw()},setRadius:function(a){this._mRadius=a;return this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,a=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-
a.x,1)},getBounds:function(){var a=this._getLngRadius(),c=360*(this._mRadius/40075017),d=this._latlng;return new b.LatLngBounds([d.lat-c,d.lng-a],[d.lat+c,d.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,c=this._radius;if(this._checkIfEmpty())return"";if(b.Browser.svg)return"M"+a.x+","+(a.y-c)+"A"+c+","+c+",0,1,1,"+(a.x-0.1)+","+(a.y-c)+" z";a._round();c=Math.round(c);return"AL "+a.x+","+a.y+" "+c+","+c+" 0,23592600"},getRadius:function(){return this._mRadius},
_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(b.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,d=this._point;return d.x-b>a.max.x||d.y-b>a.max.y||d.x+b<a.min.x||d.y+b<a.min.y}});b.circle=function(a,c,d){return new b.Circle(a,c,d)};b.CircleMarker=b.Circle.extend({options:{radius:10,weight:2},initialize:function(a,c){b.Circle.prototype.initialize.call(this,
a,null,c);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){b.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(a){b.Circle.prototype.setLatLng.call(this,a);this._popup&&this._popup._isOpen&&this._popup.setLatLng(a);return this},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius}});b.circleMarker=
function(a,c){return new b.CircleMarker(a,c)};b.Polyline.include(b.Path.CANVAS?{_containsPoint:function(a,c){var d,f,e,g,k,l,w=this.options.weight/2;b.Browser.touch&&(w+=10);d=0;for(g=this._parts.length;d<g;d++)for(l=this._parts[d],f=0,k=l.length,e=k-1;f<k;e=f++)if(c||0!==f)if(e=b.LineUtil.pointToSegmentDistance(a,l[e],l[f]),e<=w)return!0;return!1}}:{});b.Polygon.include(b.Path.CANVAS?{_containsPoint:function(a){var c=!1,d,f,e,g,k,l,w;if(b.Polyline.prototype._containsPoint.call(this,a,!0))return!0;
g=0;for(l=this._parts.length;g<l;g++)for(d=this._parts[g],k=0,w=d.length,e=w-1;k<w;e=k++)f=d[k],e=d[e],f.y>a.y!==e.y>a.y&&a.x<(e.x-f.x)*(a.y-f.y)/(e.y-f.y)+f.x&&(c=!c);return c}}:{});b.Circle.include(b.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this.options.stroke?this.options.weight/2:0;return a.distanceTo(this._point)<=this._radius+b}}:{});b.CircleMarker.include(b.Path.CANVAS?{_updateStyle:function(){b.Path.prototype._updateStyle.call(this)}}:
{});b.GeoJSON=b.FeatureGroup.extend({initialize:function(a,c){b.setOptions(this,c);this._layers={};a&&this.addData(a)},addData:function(a){var c=b.Util.isArray(a)?a:a.features,d,f;if(c){a=0;for(d=c.length;a<d;a++)f=c[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(c[a]);return this}c=this.options;if(!c.filter||c.filter(a)){d=b.GeoJSON.geometryToLayer(a,c.pointToLayer,c.coordsToLatLng,c);d.feature=b.GeoJSON.asFeature(a);d.defaultOptions=d.options;this.resetStyle(d);if(c.onEachFeature)c.onEachFeature(a,
d);return this.addLayer(d)}},resetStyle:function(a){var c=this.options.style;c&&(b.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,c))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"===typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}});b.extend(b.GeoJSON,{geometryToLayer:function(a,c,d,f){var e="Feature"===a.type?a.geometry:a,g=e.coordinates,k=[],l,w;d=d||this.coordsToLatLng;switch(e.type){case "Point":return f=
d(g),c?c(a,f):new b.Marker(f);case "MultiPoint":l=0;for(w=g.length;l<w;l++)f=d(g[l]),k.push(c?c(a,f):new b.Marker(f));return new b.FeatureGroup(k);case "LineString":return a=this.coordsToLatLngs(g,0,d),new b.Polyline(a,f);case "Polygon":if(2===g.length&&!g[1].length)throw Error("Invalid GeoJSON object.");a=this.coordsToLatLngs(g,1,d);return new b.Polygon(a,f);case "MultiLineString":return a=this.coordsToLatLngs(g,1,d),new b.MultiPolyline(a,f);case "MultiPolygon":return a=this.coordsToLatLngs(g,2,
d),new b.MultiPolygon(a,f);case "GeometryCollection":l=0;for(w=e.geometries.length;l<w;l++)k.push(this.geometryToLayer({geometry:e.geometries[l],type:"Feature",properties:a.properties},c,d,f));return new b.FeatureGroup(k);default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(a){return new b.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,d){var f,e,g,k=[];e=0;for(g=a.length;e<g;e++)f=b?this.coordsToLatLngs(a[e],b-1,d):(d||this.coordsToLatLng)(a[e]),k.push(f);return k},latLngToCoords:function(a){var b=
[a.lng,a.lat];a.alt!==l&&b.push(a.alt);return b},latLngsToCoords:function(a){for(var c=[],d=0,f=a.length;d<f;d++)c.push(b.GeoJSON.latLngToCoords(a[d]));return c},getFeature:function(a,c){return a.feature?b.extend({},a.feature,{geometry:c}):b.GeoJSON.asFeature(c)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var f={toGeoJSON:function(){return b.GeoJSON.getFeature(this,{type:"Point",coordinates:b.GeoJSON.latLngToCoords(this.getLatLng())})}};b.Marker.include(f);
b.Circle.include(f);b.CircleMarker.include(f);b.Polyline.include({toGeoJSON:function(){return b.GeoJSON.getFeature(this,{type:"LineString",coordinates:b.GeoJSON.latLngsToCoords(this.getLatLngs())})}});b.Polygon.include({toGeoJSON:function(){var a=[b.GeoJSON.latLngsToCoords(this.getLatLngs())],c,d,f;a[0].push(a[0][0]);if(this._holes)for(c=0,d=this._holes.length;c<d;c++)f=b.GeoJSON.latLngsToCoords(this._holes[c]),f.push(f[0]),a.push(f);return b.GeoJSON.getFeature(this,{type:"Polygon",coordinates:a})}});
(function(){function a(a){return function(){var d=[];this.eachLayer(function(a){d.push(a.toGeoJSON().geometry.coordinates)});return b.GeoJSON.getFeature(this,{type:a,coordinates:d})}}b.MultiPolyline.include({toGeoJSON:a("MultiLineString")});b.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});b.LayerGroup.include({toGeoJSON:function(){var c=this.feature&&this.feature.geometry,d=[],f;if(c&&"MultiPoint"===c.type)return a("MultiPoint").call(this);var e=c&&"GeometryCollection"===c.type;this.eachLayer(function(a){a.toGeoJSON&&
(f=a.toGeoJSON(),d.push(e?f.geometry:b.GeoJSON.asFeature(f)))});return e?b.GeoJSON.getFeature(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}})})();b.geoJson=function(a,c){return new b.GeoJSON(a,c)};b.DomEvent={addListener:function(a,c,d,f){var e=b.stamp(d),g="_leaflet_"+c+e,k,l;if(a[g])return this;k=function(c){return d.call(f||a,c||b.DomEvent._getEvent())};if(b.Browser.pointer&&0===c.indexOf("touch"))return this.addPointerListener(a,c,k,e);b.Browser.touch&&
"dblclick"===c&&this.addDoubleTapListener&&this.addDoubleTapListener(a,k,e);"addEventListener"in a?"mousewheel"===c?(a.addEventListener("DOMMouseScroll",k,!1),a.addEventListener(c,k,!1)):"mouseenter"===c||"mouseleave"===c?(l=k,k=function(c){if(b.DomEvent._checkMouse(a,c))return l(c)},a.addEventListener("mouseenter"===c?"mouseover":"mouseout",k,!1)):("click"===c&&b.Browser.android&&(l=k,k=function(a){return b.DomEvent._filterClick(a,l)}),a.addEventListener(c,k,!1)):"attachEvent"in a&&a.attachEvent("on"+
c,k);a[g]=k;return this},removeListener:function(a,c,d){d=b.stamp(d);var f="_leaflet_"+c+d,e=a[f];if(!e)return this;b.Browser.pointer&&0===c.indexOf("touch")?this.removePointerListener(a,c,d):b.Browser.touch&&"dblclick"===c&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,d):"removeEventListener"in a?"mousewheel"===c?(a.removeEventListener("DOMMouseScroll",e,!1),a.removeEventListener(c,e,!1)):"mouseenter"===c||"mouseleave"===c?a.removeEventListener("mouseenter"===c?"mouseover":"mouseout",
e,!1):a.removeEventListener(c,e,!1):"detachEvent"in a&&a.detachEvent("on"+c,e);a[f]=null;return this},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;b.DomEvent._skipped(a);return this},disableScrollPropagation:function(a){var c=b.DomEvent.stopPropagation;return b.DomEvent.on(a,"mousewheel",c).on(a,"MozMousePixelScroll",c)},disableClickPropagation:function(a){for(var c=b.DomEvent.stopPropagation,d=b.Draggable.START.length-1;0<=d;d--)b.DomEvent.on(a,b.Draggable.START[d],
c);return b.DomEvent.on(a,"click",b.DomEvent._fakeStop).on(a,"dblclick",c)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return b.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,c){var d=k.body,f=k.documentElement,e=b.DomUtil.documentIsLtr()?a.pageX?a.pageX-d.scrollLeft-f.scrollLeft:a.clientX:b.Browser.gecko?a.pageX-d.scrollLeft-f.scrollLeft:a.pageX?a.pageX-d.scrollLeft+f.scrollLeft:a.clientX,d=new b.Point(e,
a.pageY?a.pageY-d.scrollTop-f.scrollTop:a.clientY);if(!c)return d;f=c.getBoundingClientRect();return d._subtract(new b.Point(f.left-c.clientLeft,f.top-c.clientTop))},getWheelDelta:function(a){var b=0;a.wheelDelta&&(b=a.wheelDelta/120);a.detail&&(b=-a.detail/3);return b},_skipEvents:{},_fakeStop:function(a){b.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];this._skipEvents[a.type]=!1;return b},_checkMouse:function(a,b){var d=b.relatedTarget;if(!d)return!0;try{for(;d&&
d!==a;)d=d.parentNode}catch(f){return!1}return d!==a},_getEvent:function(){var a=g.event;if(!a)for(var b=arguments.callee.caller;b&&(!(a=b.arguments[0])||g.Event!==a.constructor);)b=b.caller;return a},_filterClick:function(a,c){var d=a.timeStamp||a.originalEvent.timeStamp,f=b.DomEvent._lastClick&&d-b.DomEvent._lastClick;if(f&&100<f&&1E3>f||a.target._simulatedClick&&!a._simulated)b.DomEvent.stop(a);else return b.DomEvent._lastClick=d,c(a)}};b.DomEvent.on=b.DomEvent.addListener;b.DomEvent.off=b.DomEvent.removeListener;
b.Draggable=b.Class.extend({includes:b.Mixin.Events,statics:{START:b.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a;this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=b.Draggable.START.length-1;0<=a;a--)b.DomEvent.on(this._dragStartTarget,
b.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=b.Draggable.START.length-1;0<=a;a--)b.DomEvent.off(this._dragStartTarget,b.Draggable.START[a],this._onDown,this);this._moved=this._enabled=!1}},_onDown:function(a){this._moved=!1;if(!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(b.DomEvent.stopPropagation(a),b.Draggable._disabled||(b.DomUtil.disableImageDrag(),b.DomUtil.disableTextSelection(),this._moving)))){var c=a.touches?a.touches[0]:
a;this._startPoint=new b.Point(c.clientX,c.clientY);this._startPos=this._newPos=b.DomUtil.getPosition(this._element);b.DomEvent.on(k,b.Draggable.MOVE[a.type],this._onMove,this).on(k,b.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(a.touches&&1<a.touches.length)this._moved=!0;else{var c=a.touches&&1===a.touches.length?a.touches[0]:a,c=(new b.Point(c.clientX,c.clientY)).subtract(this._startPoint);if(c.x||c.y)b.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=
!0,this._startPos=b.DomUtil.getPosition(this._element).subtract(c),b.DomUtil.addClass(k.body,"leaflet-dragging"),b.DomUtil.addClass(a.target||a.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,b.Util.cancelAnimFrame(this._animRequest),this._animRequest=b.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)}},_updatePosition:function(){this.fire("predrag");b.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(a){b.DomUtil.removeClass(k.body,
"leaflet-dragging");b.DomUtil.removeClass(a.target||a.srcElement,"leaflet-drag-target");for(var c in b.Draggable.MOVE)b.DomEvent.off(k,b.Draggable.MOVE[c],this._onMove).off(k,b.Draggable.END[c],this._onUp);b.DomUtil.enableImageDrag();b.DomUtil.enableTextSelection();this._moved&&this._moving&&(b.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});b.Handler=b.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||
(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});b.Map.mergeOptions({dragging:!0,inertia:!b.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:b.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1});b.Map.Drag=b.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new b.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,
drag:this._onDrag,dragend:this._onDragEnd},this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=
[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);200<a-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,
b=Math.round(a/2),d=this._initialWorldOffset,f=this._draggable._newPos.x,e=(f-b+d)%a+b-d,a=(f+b+d)%a-b-d,d=Math.abs(e+d)<Math.abs(a+d)?e:a;this._draggable._newPos.x=d},_onDragEnd:function(a){var c=this._map,d=c.options,f=+new Date-this._lastTime,e=!d.inertia||f>d.inertiaThreshold||!this._positions[0];c.fire("dragend",a);if(e)c.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var g=d.easeLinearity;a=a.multiplyBy(g/((this._lastTime+f-this._times[0])/1E3));e=a.distanceTo([0,0]);f=Math.min(d.inertiaMaxSpeed,
e);a=a.multiplyBy(f/e);var k=f/(d.inertiaDeceleration*g),l=a.multiplyBy(-k/2).round();l.x&&l.y?(l=c._limitOffset(l,c.options.maxBounds),b.Util.requestAnimFrame(function(){c.panBy(l,{duration:k,easeLinearity:g,noMoveStart:!0})})):c.fire("moveend")}}});b.Map.addInitHook("addHandler","dragging",b.Map.Drag);b.Map.mergeOptions({doubleClickZoom:!0});b.Map.DoubleClickZoom=b.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",
this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,d=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(d):b.setZoomAround(a.containerPoint,d)}});b.Map.addInitHook("addHandler","doubleClickZoom",b.Map.DoubleClickZoom);b.Map.mergeOptions({scrollWheelZoom:!0});b.Map.ScrollWheelZoom=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);b.DomEvent.on(this._map._container,"MozMousePixelScroll",
b.DomEvent.preventDefault);this._delta=0},removeHooks:function(){b.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll);b.DomEvent.off(this._map._container,"MozMousePixelScroll",b.DomEvent.preventDefault)},_onWheelScroll:function(a){var c=b.DomEvent.getWheelDelta(a);this._delta+=c;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);c=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(b.bind(this._performZoom,
this),c);b.DomEvent.preventDefault(a);b.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,d=a.getZoom(),b=0<b?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(d+b)-d;this._delta=0;this._startTime=null;b&&("center"===a.options.scrollWheelZoom?a.setZoom(d+b):a.setZoomAround(this._lastMousePos,d+b))}});b.Map.addInitHook("addHandler","scrollWheelZoom",b.Map.ScrollWheelZoom);b.extend(b.DomEvent,{_touchstart:b.Browser.msPointer?"MSPointerDown":b.Browser.pointer?
"pointerdown":"touchstart",_touchend:b.Browser.msPointer?"MSPointerUp":b.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,c,d){function f(a){var c;b.Browser.pointer?(z.push(a.pointerId),c=z.length):c=a.touches.length;if(!(1<c)){c=Date.now();var d=c-(g||c);w=a.touches?a.touches[0]:a;l=0<d&&d<=p;g=c}}function e(a){if(b.Browser.pointer){a=z.indexOf(a.pointerId);if(-1===a)return;z.splice(a,1)}if(l){if(b.Browser.pointer){a={};var d,f;for(f in w)d=w[f],a[f]="function"===typeof d?d.bind(w):
d;w=a}w.type="dblclick";c(w);g=null}}var g,l=!1,p=250,w,C=this._touchstart,B=this._touchend,z=[];a["_leaflet_"+C+d]=f;a["_leaflet_"+B+d]=e;d=b.Browser.pointer?k.documentElement:a;a.addEventListener(C,f,!1);d.addEventListener(B,e,!1);b.Browser.pointer&&d.addEventListener(b.DomEvent.POINTER_CANCEL,e,!1);return this},removeDoubleTapListener:function(a,c){a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+c],!1);(b.Browser.pointer?k.documentElement:a).removeEventListener(this._touchend,
a["_leaflet_"+this._touchend+c],!1);b.Browser.pointer&&k.documentElement.removeEventListener(b.DomEvent.POINTER_CANCEL,a["_leaflet_"+this._touchend+c],!1);return this}});b.extend(b.DomEvent,{POINTER_DOWN:b.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:b.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:b.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:b.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,
b,d,f){switch(b){case "touchstart":return this.addPointerListenerStart(a,b,d,f);case "touchend":return this.addPointerListenerEnd(a,b,d,f);case "touchmove":return this.addPointerListenerMove(a,b,d,f);default:throw"Unknown touch event type";}},addPointerListenerStart:function(a,c,d,f){var e=this._pointers;c=function(a){b.DomEvent.preventDefault(a);for(var c=!1,f=0;f<e.length;f++)if(e[f].pointerId===a.pointerId){c=!0;break}c||e.push(a);a.touches=e.slice();a.changedTouches=[a];d(a)};a["_leaflet_touchstart"+
f]=c;a.addEventListener(this.POINTER_DOWN,c,!1);this._pointerDocumentListener||(a=function(a){for(var b=0;b<e.length;b++)if(e[b].pointerId===a.pointerId){e.splice(b,1);break}},k.documentElement.addEventListener(this.POINTER_UP,a,!1),k.documentElement.addEventListener(this.POINTER_CANCEL,a,!1),this._pointerDocumentListener=!0);return this},addPointerListenerMove:function(a,b,d,f){function e(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var b=0;b<g.length;b++)if(g[b].pointerId===
a.pointerId){g[b]=a;break}a.touches=g.slice();a.changedTouches=[a];d(a)}}var g=this._pointers;a["_leaflet_touchmove"+f]=e;a.addEventListener(this.POINTER_MOVE,e,!1);return this},addPointerListenerEnd:function(a,b,d,f){var e=this._pointers;b=function(a){for(var b=0;b<e.length;b++)if(e[b].pointerId===a.pointerId){e.splice(b,1);break}a.touches=e.slice();a.changedTouches=[a];d(a)};a["_leaflet_touchend"+f]=b;a.addEventListener(this.POINTER_UP,b,!1);a.addEventListener(this.POINTER_CANCEL,b,!1);return this},
removePointerListener:function(a,b,d){d=a["_leaflet_"+b+d];switch(b){case "touchstart":a.removeEventListener(this.POINTER_DOWN,d,!1);break;case "touchmove":a.removeEventListener(this.POINTER_MOVE,d,!1);break;case "touchend":a.removeEventListener(this.POINTER_UP,d,!1),a.removeEventListener(this.POINTER_CANCEL,d,!1)}return this}});b.Map.mergeOptions({touchZoom:b.Browser.touch&&!b.Browser.android23,bounceAtZoomLimits:!0});b.Map.TouchZoom=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,
"touchstart",this._onTouchStart,this)},removeHooks:function(){b.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(a.touches&&2===a.touches.length&&!c._animatingZoom&&!this._zooming){var d=c.mouseEventToLayerPoint(a.touches[0]),f=c.mouseEventToLayerPoint(a.touches[1]),e=c._getCenterLayerPoint();this._startCenter=d.add(f)._divideBy(2);this._startDist=d.distanceTo(f);this._moved=!1;this._zooming=!0;this._centerOffset=e.subtract(this._startCenter);
c._panAnim&&c._panAnim.stop();b.DomEvent.on(k,"touchmove",this._onTouchMove,this).on(k,"touchend",this._onTouchEnd,this);b.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var c=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var d=c.mouseEventToLayerPoint(a.touches[0]),f=c.mouseEventToLayerPoint(a.touches[1]);this._scale=d.distanceTo(f)/this._startDist;this._delta=d._add(f)._divideBy(2)._subtract(this._startCenter);1===this._scale||!c.options.bounceAtZoomLimits&&(c.getZoom()===
c.getMinZoom()&&1>this._scale||c.getZoom()===c.getMaxZoom()&&1<this._scale)||(this._moved||(b.DomUtil.addClass(c._mapPane,"leaflet-touching"),c.fire("movestart").fire("zoomstart"),this._moved=!0),b.Util.cancelAnimFrame(this._animRequest),this._animRequest=b.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),b.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),b=a.layerPointToLatLng(b),d=a.getScaleZoom(this._scale);a._animateZoom(b,d,
this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(this._moved&&this._zooming){var a=this._map;this._zooming=!1;b.DomUtil.removeClass(a._mapPane,"leaflet-touching");b.Util.cancelAnimFrame(this._animRequest);b.DomEvent.off(k,"touchmove",this._onTouchMove).off(k,"touchend",this._onTouchEnd);var c=this._getScaleOrigin(),d=a.layerPointToLatLng(c),f=a.getZoom(),e=a.getScaleZoom(this._scale)-f,e=0<e?Math.ceil(e):Math.floor(e),f=a._limitZoom(f+e),e=a.getZoomScale(f)/this._scale;a._animateZoom(d,
f,c,e)}else this._zooming=!1},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});b.Map.addInitHook("addHandler","touchZoom",b.Map.TouchZoom);b.Map.mergeOptions({tap:!0,tapTolerance:15});b.Map.Tap=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){b.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches)if(b.DomEvent.preventDefault(a),
this._fireClick=!0,1<a.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var c=a.touches[0];a=c.target;this._startPos=this._newPos=new b.Point(c.clientX,c.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&b.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(b.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",c))},this),1E3);b.DomEvent.on(k,"touchmove",this._onMove,this).on(k,"touchend",this._onUp,this)}},_onUp:function(a){clearTimeout(this._holdTimeout);
b.DomEvent.off(k,"touchmove",this._onMove,this).off(k,"touchend",this._onUp,this);if(this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var c=a.target;c&&c.tagName&&"a"===c.tagName.toLowerCase()&&b.DomUtil.removeClass(c,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new b.Point(a.clientX,a.clientY)},_simulateEvent:function(a,
b){var d=k.createEvent("MouseEvents");d._simulated=!0;b.target._simulatedClick=!0;d.initMouseEvent(a,!0,!0,g,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d)}});b.Browser.touch&&!b.Browser.pointer&&b.Map.addInitHook("addHandler","tap",b.Map.Tap);b.Map.mergeOptions({boxZoom:!0});b.Map.BoxZoom=b.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._moved=!1},addHooks:function(){b.DomEvent.on(this._container,
"mousedown",this._onMouseDown,this)},removeHooks:function(){b.DomEvent.off(this._container,"mousedown",this._onMouseDown);this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){this._moved=!1;if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;b.DomUtil.disableTextSelection();b.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(a);b.DomEvent.on(k,"mousemove",this._onMouseMove,this).on(k,"mouseup",this._onMouseUp,this).on(k,"keydown",this._onKeyDown,
this)},_onMouseMove:function(a){this._moved||(this._box=b.DomUtil.create("div","leaflet-zoom-box",this._pane),b.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var c=this._startLayerPoint,d=this._box,f=this._map.mouseEventToLayerPoint(a);a=f.subtract(c);c=new b.Point(Math.min(f.x,c.x),Math.min(f.y,c.y));b.DomUtil.setPosition(d,c);this._moved=!0;d.style.width=Math.max(0,Math.abs(a.x)-4)+"px";d.style.height=Math.max(0,Math.abs(a.y)-
4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor="");b.DomUtil.enableTextSelection();b.DomUtil.enableImageDrag();b.DomEvent.off(k,"mousemove",this._onMouseMove).off(k,"mouseup",this._onMouseUp).off(k,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var c=this._map;a=c.mouseEventToLayerPoint(a);this._startLayerPoint.equals(a)||(a=new b.LatLngBounds(c.layerPointToLatLng(this._startLayerPoint),c.layerPointToLatLng(a)),c.fitBounds(a),
c.fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});b.Map.addInitHook("addHandler","boxZoom",b.Map.BoxZoom);b.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});b.Map.Keyboard=b.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=
this._map._container;-1===a.tabIndex&&(a.tabIndex="0");b.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;b.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,
this)},_onMouseDown:function(){if(!this._focused){var a=k.body,b=k.documentElement,d=a.scrollTop||b.scrollTop,a=a.scrollLeft||b.scrollLeft;this._map._container.focus();g.scrollTo(a,d)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanOffset:function(a){var b=this._panKeys={},d=this.keyCodes,f,e;f=0;for(e=d.left.length;f<e;f++)b[d.left[f]]=[-1*a,0];f=0;for(e=d.right.length;f<e;f++)b[d.right[f]]=[a,0];f=0;for(e=d.down.length;f<
e;f++)b[d.down[f]]=[0,a];f=0;for(e=d.up.length;f<e;f++)b[d.up[f]]=[0,-1*a]},_setZoomOffset:function(a){var b=this._zoomKeys={},d=this.keyCodes,f,e;f=0;for(e=d.zoomIn.length;f<e;f++)b[d.zoomIn[f]]=a;f=0;for(e=d.zoomOut.length;f<e;f++)b[d.zoomOut[f]]=-a},_addHooks:function(){b.DomEvent.on(k,"keydown",this._onKeyDown,this)},_removeHooks:function(){b.DomEvent.off(k,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var c=a.keyCode,d=this._map;if(c in this._panKeys){if(d._panAnim&&d._panAnim._inProgress)return;
d.panBy(this._panKeys[c]);d.options.maxBounds&&d.panInsideBounds(d.options.maxBounds)}else if(c in this._zoomKeys)d.setZoom(d.getZoom()+this._zoomKeys[c]);else return;b.DomEvent.stop(a)}});b.Map.addInitHook("addHandler","keyboard",b.Map.Keyboard);b.Handler.MarkerDrag=b.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new b.Draggable(a,a));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,
this).on("dragend",this._onDragEnd,this);this._draggable.enable();b.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();b.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},
_onDrag:function(){var a=this._marker,c=a._shadow,d=b.DomUtil.getPosition(a._icon),f=a._map.layerPointToLatLng(d);c&&b.DomUtil.setPosition(c,d);a._latlng=f;a.fire("move",{latlng:f}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});b.Control=b.Class.extend({options:{position:"topright"},initialize:function(a){b.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;b&&b.removeControl(this);this.options.position=
a;b&&b.addControl(this);return this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var c=this._container=this.onAdd(a),d=this.getPosition();a=a._controlCorners[d];b.DomUtil.addClass(c,"leaflet-control");-1!==d.indexOf("bottom")?a.insertBefore(c,a.firstChild):a.appendChild(c);return this},removeFrom:function(a){var b=this.getPosition();a._controlCorners[b].removeChild(this._container);this._map=null;if(this.onRemove)this.onRemove(a);return this},_refocusOnMap:function(){this._map&&
this._map.getContainer().focus()}});b.control=function(a){return new b.Control(a)};b.Map.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.removeFrom(this);return this},_initControlPos:function(){function a(a,e){c[a+e]=b.DomUtil.create("div",d+a+" "+d+e,f)}var c=this._controlCorners={},d="leaflet-",f=this._controlContainer=b.DomUtil.create("div",d+"control-container",this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});
b.Control.Zoom=b.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var c=b.DomUtil.create("div","leaflet-control-zoom leaflet-bar");this._map=a;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,"leaflet-control-zoom-in",c,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,"leaflet-control-zoom-out",c,this._zoomOut,
this);this._updateDisabled();a.on("zoomend zoomlevelschange",this._updateDisabled,this);return c},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,c,d,f,e,g){d=b.DomUtil.create("a",d,f);d.innerHTML=a;d.href="#";d.title=c;a=b.DomEvent.stopPropagation;b.DomEvent.on(d,"click",a).on(d,"mousedown",a).on(d,"dblclick",a).on(d,"click",b.DomEvent.preventDefault).on(d,
"click",e,g).on(d,"click",this._refocusOnMap,g);return d},_updateDisabled:function(){var a=this._map;b.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");b.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMinZoom()&&b.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMaxZoom()&&b.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});b.Map.mergeOptions({zoomControl:!0});b.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=
new b.Control.Zoom,this.addControl(this.zoomControl))});b.control.zoom=function(a){return new b.Control.Zoom(a)};b.Control.Attribution=b.Control.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"http://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},initialize:function(a){b.setOptions(this,a);this._attributions={}},onAdd:function(a){this._container=b.DomUtil.create("div","leaflet-control-attribution");b.DomEvent.disableClickPropagation(this._container);
for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);this._update();return this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(a)return this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,
this._update(),this},removeAttribution:function(a){if(a)return this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a=[],b;for(b in this._attributions)this._attributions[b]&&a.push(b);b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&
this.removeAttribution(a.layer.getAttribution())}});b.Map.mergeOptions({attributionControl:!0});b.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new b.Control.Attribution).addTo(this))});b.control.attribution=function(a){return new b.Control.Attribution(a)};b.Control.Scale=b.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var c=b.DomUtil.create("div","leaflet-control-scale"),d=
this.options;this._addScales(d,"leaflet-control-scale",c);a.on(d.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return c},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,d){a.metric&&(this._mScale=b.DomUtil.create("div",c+"-line",d));a.imperial&&(this._iScale=b.DomUtil.create("div",c+"-line",d))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,a=6378137*Math.PI*Math.cos(b*Math.PI/
180)*(a.getNorthEast().lng-a.getSouthWest().lng)/180,b=this._map.getSize(),d=this.options,f=0;0<b.x&&(f=a*(d.maxWidth/b.x));this._updateScales(d,f)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b);a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=1E3>b?b+" m":b/1E3+" km"},_updateImperial:function(a){var b=3.2808399*a;a=this._iScale;var d;5280<b?(b/=5280,d=this._getRoundNum(b),
a.style.width=this._getScaleWidth(d/b)+"px",a.innerHTML=d+" mi"):(d=this._getRoundNum(b),a.style.width=this._getScaleWidth(d/b)+"px",a.innerHTML=d+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return b*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}});b.control.scale=function(a){return new b.Control.Scale(a)};b.Control.Layers=b.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},
initialize:function(a,c,d){b.setOptions(this,d);this._layers={};this._lastZIndex=0;this._handlingClick=!1;for(var f in a)this._addLayer(a[f],f);for(f in c)this._addLayer(c[f],f,!0)},onAdd:function(a){this._initLayout();this._update();a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){this._addLayer(a,b);this._update();
return this},addOverlay:function(a,b){this._addLayer(a,b,!0);this._update();return this},removeLayer:function(a){a=b.stamp(a);delete this._layers[a];this._update();return this},_initLayout:function(){var a=this._container=b.DomUtil.create("div","leaflet-control-layers");a.setAttribute("aria-haspopup",!0);if(b.Browser.touch)b.DomEvent.on(a,"click",b.DomEvent.stopPropagation);else b.DomEvent.disableClickPropagation(a).disableScrollPropagation(a);var c=this._form=b.DomUtil.create("form","leaflet-control-layers-list");
if(this.options.collapsed){if(!b.Browser.android)b.DomEvent.on(a,"mouseover",this._expand,this).on(a,"mouseout",this._collapse,this);var d=this._layersLink=b.DomUtil.create("a","leaflet-control-layers-toggle",a);d.href="#";d.title="Layers";if(b.Browser.touch)b.DomEvent.on(d,"click",b.DomEvent.stop).on(d,"click",this._expand,this);else b.DomEvent.on(d,"focus",this._expand,this);b.DomEvent.on(c,"click",function(){setTimeout(b.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,
this)}else this._expand();this._baseLayersList=b.DomUtil.create("div","leaflet-control-layers-base",c);this._separator=b.DomUtil.create("div","leaflet-control-layers-separator",c);this._overlaysList=b.DomUtil.create("div","leaflet-control-layers-overlays",c);a.appendChild(c)},_addLayer:function(a,c,d){var f=b.stamp(a);this._layers[f]={layer:a,name:c,overlay:d};this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML=
"";this._overlaysList.innerHTML="";var a=!1,b=!1,d,f;for(d in this._layers)f=this._layers[d],this._addItem(f),b=b||f.overlay,a=a||!f.overlay;this._separator.style.display=b&&a?"":"none"}},_onLayerChange:function(a){var c=this._layers[b.stamp(a.layer)];c&&(this._handlingClick||this._update(),(a=c.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null)&&this._map.fire(a,c))},_createRadioElement:function(a,b){var d='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+
a+'"';b&&(d+=' checked\x3d"checked"');var d=d+"/\x3e",f=k.createElement("div");f.innerHTML=d;return f.firstChild},_addItem:function(a){var c=k.createElement("label"),d,f=this._map.hasLayer(a.layer);a.overlay?(d=k.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=f):d=this._createRadioElement("leaflet-base-layers",f);d.layerId=b.stamp(a.layer);b.DomEvent.on(d,"click",this._onInputClick,this);f=k.createElement("span");f.innerHTML=" "+a.name;c.appendChild(d);
c.appendChild(f);(a.overlay?this._overlaysList:this._baseLayersList).appendChild(c);return c},_onInputClick:function(){var a,b,d,f=this._form.getElementsByTagName("input"),e=f.length;this._handlingClick=!0;for(a=0;a<e;a++)b=f[a],d=this._layers[b.layerId],b.checked&&!this._map.hasLayer(d.layer)?this._map.addLayer(d.layer):!b.checked&&this._map.hasLayer(d.layer)&&this._map.removeLayer(d.layer);this._handlingClick=!1;this._refocusOnMap()},_expand:function(){b.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},
_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}});b.control.layers=function(a,c,d){return new b.Control.Layers(a,c,d)};b.PosAnimation=b.Class.extend({includes:b.Mixin.Events,run:function(a,c,d,f){this.stop();this._el=a;this._inProgress=!0;this._newPos=c;this.fire("start");a.style[b.DomUtil.TRANSITION]="all "+(d||0.25)+"s cubic-bezier(0,0,"+(f||0.5)+",1)";b.DomEvent.on(a,b.DomUtil.TRANSITION_END,this._onTransitionEnd,this);b.DomUtil.setPosition(a,
c);b.Util.falseFn(a.offsetWidth);this._stepTimer=setInterval(b.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(b.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),b.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();a?(this._el._leaflet_pos=a,this.fire("step")):this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,c;c=g.getComputedStyle(this._el);if(b.Browser.any3d){c=c[b.DomUtil.TRANSFORM].match(this._transformRe);
if(!c)return;a=parseFloat(c[1]);c=parseFloat(c[2])}else a=parseFloat(c.left),c=parseFloat(c.top);return new b.Point(a,c,!0)},_onTransitionEnd:function(){b.DomEvent.off(this._el,b.DomUtil.TRANSITION_END,this._onTransitionEnd,this);this._inProgress&&(this._inProgress=!1,this._el.style[b.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});b.Map.include({setView:function(a,c,d){c=c===l?this._zoom:this._limitZoom(c);a=this._limitCenter(b.latLng(a),
c,this.options.maxBounds);d=d||{};this._panAnim&&this._panAnim.stop();if(this._loaded&&!d.reset&&!0!==d&&(d.animate!==l&&(d.zoom=b.extend({animate:d.animate},d.zoom),d.pan=b.extend({animate:d.animate},d.pan)),this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,d.zoom):this._tryAnimatedPan(a,d.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(a,c);return this},panBy:function(a,c){a=b.point(a).round();c=c||{};if(!a.x&&!a.y)return this;this._panAnim||(this._panAnim=new b.PosAnimation,
this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this));c.noMoveStart||this.fire("movestart");if(!1!==c.animate){b.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,d,c.duration||0.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){b.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");
this.fire("moveend")},_tryAnimatedPan:function(a,b){var d=this._getCenterOffset(a)._floor();if(!0!==(b&&b.animate)&&!this.getSize().contains(d))return!1;this.panBy(d,b);return!0}});b.PosAnimation=b.DomUtil.TRANSITION?b.PosAnimation:b.PosAnimation.extend({run:function(a,c,d,f){this.stop();this._el=a;this._inProgress=!0;this._duration=d||0.25;this._easeOutPower=1/Math.max(f||0.5,0.2);this._startPos=b.DomUtil.getPosition(a);this._offset=c.subtract(this._startPos);this._startTime=+new Date;this.fire("start");
this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=b.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var a=+new Date-this._startTime,b=1E3*this._duration;a<b?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){a=this._startPos.add(this._offset.multiplyBy(a));b.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){b.Util.cancelAnimFrame(this._animId);
this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});b.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});b.DomUtil.TRANSITION&&b.Map.addInitHook(function(){if(this._zoomAnimated=this.options.zoomAnimation&&b.DomUtil.TRANSITION&&b.Browser.any3d&&!b.Browser.android23&&!b.Browser.mobileOpera)b.DomEvent.on(this._mapPane,b.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});b.Map.include(b.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&
0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,d){if(this._animatingZoom)return!0;d=d||{};if(!this._zoomAnimated||!1===d.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(b),e=this._getCenterOffset(a)._divideBy(1-1/f),g=this._getCenterLayerPoint()._add(e);if(!0!==
d.animate&&!this.getSize().contains(e))return!1;this.fire("movestart").fire("zoomstart");this._animateZoom(a,b,g,f,null,!0);return!0},_animateZoom:function(a,c,d,f,e,g){this._animatingZoom=!0;b.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=a;this._animateToZoom=c;b.Draggable&&(b.Draggable._disabled=!0);this.fire("zoomanim",{center:a,zoom:c,origin:d,scale:f,delta:e,backwards:g})},_onZoomTransitionEnd:function(){this._animatingZoom=!1;b.DomUtil.removeClass(this._mapPane,
"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);b.Draggable&&(b.Draggable._disabled=!1)}}:{});b.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var c=this._bgBuffer,d=b.DomUtil.TRANSFORM,f=a.delta?b.DomUtil.getTranslateString(a.delta):c.style[d],e=b.DomUtil.getScaleString(a.scale,a.origin);c.style[d]=a.backwards?e+" "+f:f+" "+e},_endZoomAnim:function(){var a=this._tileContainer,c=this._bgBuffer;a.style.visibility=
"";a.parentNode.appendChild(a);b.Util.falseFn(c.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[b.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,c=this._bgBuffer,d=this._getLoadedTilesPercentage(c),f=this._getLoadedTilesPercentage(a);c&&0.5<d&&0.5>f?(a.style.visibility="hidden",this._stopLoadingImages(a)):(c.style.visibility="hidden",c.style[b.DomUtil.TRANSFORM]=
"",this._tileContainer=c,c=this._bgBuffer=a,this._stopLoadingImages(c),clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(a){a=a.getElementsByTagName("img");var b,d,f=0;b=0;for(d=a.length;b<d;b++)a[b].complete&&f++;return f/d},_stopLoadingImages:function(a){a=Array.prototype.slice.call(a.getElementsByTagName("img"));var c,d,f;c=0;for(d=a.length;c<d;c++)f=a[c],f.complete||(f.onload=b.Util.falseFn,f.onerror=b.Util.falseFn,f.src=b.Util.emptyImageUrl,f.parentNode.removeChild(f))}});
b.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:Infinity,timeout:1E4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){a=this._locateOptions=b.extend(this._defaultLocateOptions,a);if(!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=b.bind(this._handleGeolocationResponse,this),d=b.bind(this._handleGeolocationError,this);a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,d,a):navigator.geolocation.getCurrentPosition(c,
d,a);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var c=a.coords.latitude,
d=a.coords.longitude,f=new b.LatLng(c,d),e=180*a.coords.accuracy/40075017,g=e/Math.cos(b.LatLng.DEG_TO_RAD*c),c=b.latLngBounds([c-e,d-g],[c+e,d+g]),d=this._locateOptions;d.setView&&(d=Math.min(this.getBoundsZoom(c),d.maxZoom),this.setView(f,d));var f={latlng:f,bounds:c,timestamp:a.timestamp},k;for(k in a.coords)"number"===typeof a.coords[k]&&(f[k]=a.coords[k]);this.fire("locationfound",f)}})})(window,document);
(function(g,k,l){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e);this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction);this._featureGroup=L.featureGroup();
this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this);this._nonPointGroup=L.featureGroup();this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this);this._inZoomAnimation=0;this._needsClustering=[];this._needsRemoving=[];this._currentShownBounds=null;this._queue=[]},addLayer:function(e){if(e instanceof L.LayerGroup){var b=[],f;for(f in e._layers)b.push(e._layers[f]);return this.addLayers(b)}if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this;if(!this._map)return this._needsClustering.push(e),
this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy();this._addLayer(e,this._maxZoom);b=e;f=this._map.getZoom();if(e.__parent)for(;b.__parent._zoom>=f;)b=b.__parent;this._currentShownBounds.contains(b.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,b):this._animationAddLayerNonAnimated(e,b));return this},removeLayer:function(e){if(e instanceof L.LayerGroup){var b=[],f;for(f in e._layers)b.push(e._layers[f]);return this.removeLayers(b)}if(!e.getLatLng)return this._nonPointGroup.removeLayer(e),
this;if(!this._map)return!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push(e),this;if(!e.__parent)return this;this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e));this._removeLayer(e,!0);this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.setOpacity&&e.setOpacity(1));return this},addLayers:function(e){var b,f,a,c=this._map,d=this._featureGroup,h=this._nonPointGroup;b=0;for(f=e.length;b<f;b++)if(a=e[b],!a.getLatLng)h.addLayer(a);else if(!this.hasLayer(a))if(c){if(this._addLayer(a,
this._maxZoom),a.__parent&&2===a.__parent.getChildCount()){var g=a.__parent.getAllChildMarkers();d.removeLayer(g[0]===a?g[1]:g[0])}}else this._needsClustering.push(a);c&&(d.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds));return this},removeLayers:function(e){var b,f,a,c=this._featureGroup,d=this._nonPointGroup;if(!this._map){b=0;for(f=e.length;b<f;b++)a=e[b],this._arraySplice(this._needsClustering,
a),d.removeLayer(a);return this}b=0;for(f=e.length;b<f;b++)a=e[b],a.__parent?(this._removeLayer(a,!0,!0),c.hasLayer(a)&&(c.removeLayer(a),a.setOpacity&&a.setOpacity(1))):d.removeLayer(a);this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds);c.eachLayer(function(a){a instanceof L.MarkerCluster&&a._updateIcon()});return this},clearLayers:function(){this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered);this._noanimationUnspiderfy&&
this._noanimationUnspiderfy();this._featureGroup.clearLayers();this._nonPointGroup.clearLayers();this.eachLayer(function(e){delete e.__parent});this._map&&this._generateInitialClusters();return this},getBounds:function(){var e=new L.LatLngBounds;if(this._topClusterLevel)e.extend(this._topClusterLevel._bounds);else for(var b=this._needsClustering.length-1;0<=b;b--)e.extend(this._needsClustering[b].getLatLng());e.extend(this._nonPointGroup.getBounds());return e},eachLayer:function(e,b){var f=this._needsClustering.slice(),
a;this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(f);for(a=f.length-1;0<=a;a--)e.call(b,f[a]);this._nonPointGroup.eachLayer(e,b)},getLayers:function(){var e=[];this.eachLayer(function(b){e.push(b)});return e},getLayer:function(e){var b=null;this.eachLayer(function(f){L.stamp(f)===e&&(b=f)});return b},hasLayer:function(e){if(!e)return!1;var b,f=this._needsClustering;for(b=f.length-1;0<=b;b--)if(f[b]===e)return!0;f=this._needsRemoving;for(b=f.length-1;0<=b;b--)if(f[b]===e)return!1;return!(!e.__parent||
e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,b){var f=function(){if((e._icon||e.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",f,this),this.off("animationend",f,this),e._icon)b();else if(e.__parent._icon){var a=function(){this.off("spiderfied",a,this);b()};this.on("spiderfied",a,this);e.__parent.spiderfy()}};e._icon&&this._map.getBounds().contains(e.getLatLng())?b():e.__parent._zoom<this._map.getZoom()?(this._map.on("moveend",f,this),this._map.panTo(e.getLatLng())):
(this._map.on("moveend",f,this),this.on("animationend",f,this),this._map.setView(e.getLatLng(),e.__parent._zoom+1),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var b,f;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";this._featureGroup.onAdd(e);this._nonPointGroup.onAdd(e);this._gridClusters||this._generateInitialClusters();e=0;for(b=this._needsRemoving.length;e<b;e++)f=this._needsRemoving[e],this._removeLayer(f,!0);this._needsRemoving=[];e=0;for(b=this._needsClustering.length;e<
b;e++)f=this._needsClustering[e],f.getLatLng?f.__parent||this._addLayer(f,this._maxZoom):this._featureGroup.addLayer(f);this._needsClustering=[];this._map.on("zoomend",this._zoomEnd,this);this._map.on("moveend",this._moveEnd,this);this._spiderfierOnAdd&&this._spiderfierOnAdd();this._bindEvents();this._zoom=this._map.getZoom();this._currentShownBounds=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(e){e.off("zoomend",
this._zoomEnd,this);e.off("moveend",this._moveEnd,this);this._unbindEvents();this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","");this._spiderfierOnRemove&&this._spiderfierOnRemove();this._hideCoverage();this._featureGroup.onRemove(e);this._nonPointGroup.onRemove(e);this._featureGroup.clearLayers();this._map=null},getVisibleParent:function(e){for(;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(e,b){for(var f=e.length-1;0<=f;f--)if(e[f]===b)return e.splice(f,
1),!0},_removeLayer:function(e,b,f){var a=this._gridClusters,c=this._gridUnclustered,d=this._featureGroup,h=this._map;if(b)for(var g=this._maxZoom;0<=g&&c[g].removeObject(e,h.project(e.getLatLng(),g));g--);var g=e.__parent,k;for(this._arraySplice(g._markers,e);g;){g._childCount--;if(0>g._zoom)break;else b&&1>=g._childCount?(k=g._markers[0]===e?g._markers[1]:g._markers[0],a[g._zoom].removeObject(g,h.project(g._cLatLng,g._zoom)),c[g._zoom].addObject(k,h.project(k.getLatLng(),g._zoom)),this._arraySplice(g.__parent._childClusters,
g),g.__parent._markers.push(k),k.__parent=g.__parent,g._icon&&(d.removeLayer(g),f||d.addLayer(k))):(g._recalculateBounds(),f&&g._icon||g._updateIcon());g=g.__parent}delete e.__parent},_isOrIsParent:function(e,b){for(;b;){if(e===b)return!0;b=b.parentNode}return!1},_propagateEvent:function(e){if(e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;e.type="cluster"+e.type}this.fire(e.type,e)},_defaultIconCreateFunction:function(e){e=
e.getChildCount();var b=" marker-cluster-";return new L.DivIcon({html:"\x3cdiv\x3e\x3cspan\x3e"+e+"\x3c/span\x3e\x3c/div\x3e",className:"marker-cluster"+(10>e?b+"small":100>e?b+"medium":b+"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,b=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick;if(this.options.spiderfyOnMaxZoom||f)this.on("clusterclick",this._zoomOrSpiderfy,this);b&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",
this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var b=this._map;b.getMaxZoom()===b.getZoom()?this.options.spiderfyOnMaxZoom&&e.layer.spiderfy():this.options.zoomToBoundsOnClick&&e.layer.zoomToBounds();e.originalEvent&&13===e.originalEvent.keyCode&&b._container.focus()},_showCoverage:function(e){var b=this._map;this._inZoomAnimation||(this._shownPolygon&&b.removeLayer(this._shownPolygon),2<e.layer.getChildCount()&&e.layer!==this._spiderfied&&(this._shownPolygon=
new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),b.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.showCoverageOnHover,b=this.options.zoomToBoundsOnClick,f=this._map;(this.options.spiderfyOnMaxZoom||b)&&this.off("clusterclick",this._zoomOrSpiderfy,this);e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,
this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,e);this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,e);this._currentShownBounds=e}},_generateInitialClusters:function(){var e=
this._map.getMaxZoom(),b=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1);this._maxZoom=e;this._gridClusters={};for(this._gridUnclustered={};0<=e;e--)this._gridClusters[e]=new L.DistanceGrid(b),this._gridUnclustered[e]=new L.DistanceGrid(b);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(e,b){var f=this._gridClusters,a=this._gridUnclustered,c,d;this.options.singleMarkerMode&&(e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},
getAllChildMarkers:function(){return[e]}}));for(;0<=b;b--){c=this._map.project(e.getLatLng(),b);var h=f[b].getNearObject(c);if(h){h._addChild(e);e.__parent=h;return}if(h=a[b].getNearObject(c)){(c=h.__parent)&&this._removeLayer(h,!1);d=new L.MarkerCluster(this,b,h,e);f[b].addObject(d,this._map.project(d._cLatLng,b));h.__parent=d;var g=e.__parent=d;for(d=b-1;d>c._zoom;d--)g=new L.MarkerCluster(this,d,g),f[d].addObject(g,this._map.project(h.getLatLng(),d));c._addChild(g);for(d=b;0<=d&&a[d].removeObject(h,
this._map.project(h.getLatLng(),d));d--);return}a[b].addObject(e,c)}this._topClusterLevel._addChild(e);e.__parent=this._topClusterLevel},_enqueue:function(e){this._queue.push(e);this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0;clearTimeout(this._queueTimeout);this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue();this._zoom<this._map._zoom&&
this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var e=this._map.getBounds(),
b=e._southWest,e=e._northEast,f=L.Browser.mobile?0:Math.abs(b.lat-e.lat),a=L.Browser.mobile?0:Math.abs(b.lng-e.lng);return new L.LatLngBounds(new L.LatLng(b.lat-f,b.lng-a,!0),new L.LatLng(e.lat+f,e.lng+a,!0))},_animationAddLayerNonAnimated:function(e,b){if(b===e)this._featureGroup.addLayer(e);else if(2===b._childCount){b._addToMap();var f=b.getAllChildMarkers();this._featureGroup.removeLayer(f[0]);this._featureGroup.removeLayer(f[1])}else b._updateIcon()}});L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?
{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim";this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""));this._inZoomAnimation--;this.fire("animationend")},_animationZoomIn:function(e,b){var f=this._getExpandedVisibleBounds(),a=this._featureGroup,c;this._topClusterLevel._recursively(f,e,0,function(d){var h=d._latlng,g=d._markers;f.contains(h)||(h=null);d._isSingleParent()&&
e+1===b?(a.removeLayer(d),d._recursivelyAddChildrenToMap(null,b,f)):(d.setOpacity(0),d._recursivelyAddChildrenToMap(h,b,f));for(c=g.length-1;0<=c;c--)d=g[c],f.contains(d._latlng)||a.removeLayer(d)});this._forceLayout();this._topClusterLevel._recursivelyBecomeVisible(f,b);a.eachLayer(function(a){a instanceof L.MarkerCluster||!a._icon||a.setOpacity(1)});this._topClusterLevel._recursively(f,e,b,function(a){a._recursivelyRestoreChildPositions(b)});this._enqueue(function(){this._topClusterLevel._recursively(f,
e,0,function(b){a.removeLayer(b);b.setOpacity(1)});this._animationEnd()})},_animationZoomOut:function(e,b){this._animationZoomOutSingle(this._topClusterLevel,e-1,b);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds());this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(e,b,f){var a=this._getExpandedVisibleBounds();e._recursivelyAnimateChildrenInAndAddSelfToMap(a,
b+1,f);var c=this;this._forceLayout();e._recursivelyBecomeVisible(a,f);this._enqueue(function(){if(1===e._childCount){var d=e._markers[0];d.setLatLng(d.getLatLng());d.setOpacity(1)}else e._recursively(a,f,0,function(c){c._recursivelyRemoveChildrenFromMap(a,b+1)});c._animationEnd()})},_animationAddLayer:function(e,b){var f=this,a=this._featureGroup;a.addLayer(e);b!==e&&(2<b._childCount?(b._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(b.getLatLng())),
e.setOpacity(0),this._enqueue(function(){a.removeLayer(e);e.setOpacity(1);f._animationEnd()})):(this._forceLayout(),f._animationStart(),f._animationZoomOutSingle(b,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(k.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(e,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds())},
_animationZoomOut:function(e,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,b){this._animationAddLayerNonAnimated(e,b)}});L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};L.MarkerCluster=L.Marker.extend({initialize:function(e,b,f,a){L.Marker.prototype.initialize.call(this,f?f._cLatLng||f.getLatLng():new L.LatLng(0,0),
{icon:this});this._group=e;this._zoom=b;this._markers=[];this._childClusters=[];this._childCount=0;this._iconNeedsUpdate=!0;this._bounds=new L.LatLngBounds;f&&this._addChild(f);a&&this._addChild(a)},getAllChildMarkers:function(e){e=e||[];for(var b=this._childClusters.length-1;0<=b;b--)this._childClusters[b].getAllChildMarkers(e);for(b=this._markers.length-1;0<=b;b--)e.push(this._markers[b]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var e=this._childClusters.slice(),
b=this._group._map,f=b.getBoundsZoom(this._bounds),a=this._zoom+1,b=b.getZoom(),c;0<e.length&&f>a;){a++;var d=[];for(c=0;c<e.length;c++)d=d.concat(e[c]._childClusters);e=d}f>a?this._group._map.setView(this._latlng,a):f<=b?this._group._map.setView(this._latlng,b+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var e=new L.LatLngBounds;e.extend(this._bounds);return e},_updateIcon:function(){this._iconNeedsUpdate=!0;this._icon&&this.setIcon(this)},createIcon:function(){this._iconNeedsUpdate&&
(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1);return this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,b){this._iconNeedsUpdate=!0;this._expandBounds(e);e instanceof L.MarkerCluster?(b||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(b||this._markers.push(e),this._childCount++);this.__parent&&this.__parent._addChild(e,!0)},_expandBounds:function(e){var b,f=e._wLatLng||
e._latlng;e instanceof L.MarkerCluster?(this._bounds.extend(e._bounds),b=e._childCount):(this._bounds.extend(f),b=1);this._cLatLng||(this._cLatLng=e._cLatLng||f);e=this._childCount+b;this._wLatLng?(this._wLatLng.lat=(f.lat*b+this._wLatLng.lat*this._childCount)/e,this._wLatLng.lng=(f.lng*b+this._wLatLng.lng*this._childCount)/e):this._latlng=this._wLatLng=new L.LatLng(f.lat,f.lng)},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e));this._group._featureGroup.addLayer(this)},
_recursivelyAnimateChildrenIn:function(e,b,f){this._recursively(e,0,f-1,function(a){a=a._markers;var c,d;for(c=a.length-1;0<=c;c--)d=a[c],d._icon&&(d._setPos(b),d.setOpacity(0))},function(a){a=a._childClusters;var c,d;for(c=a.length-1;0<=c;c--)d=a[c],d._icon&&(d._setPos(b),d.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,b,f){this._recursively(e,f,0,function(a){a._recursivelyAnimateChildrenIn(e,a._group._map.latLngToLayerPoint(a.getLatLng()).round(),b);a._isSingleParent()&&
b-1===f?(a.setOpacity(1),a._recursivelyRemoveChildrenFromMap(e,b)):a.setOpacity(0);a._addToMap()})},_recursivelyBecomeVisible:function(e,b){this._recursively(e,0,b,null,function(b){b.setOpacity(1)})},_recursivelyAddChildrenToMap:function(e,b,f){this._recursively(f,-1,b,function(a){if(b!==a._zoom)for(var c=a._markers.length-1;0<=c;c--){var d=a._markers[c];f.contains(d._latlng)&&(e&&(d._backupLatlng=d.getLatLng(),d.setLatLng(e),d.setOpacity&&d.setOpacity(0)),a._group._featureGroup.addLayer(d))}},function(a){a._addToMap(e)})},
_recursivelyRestoreChildPositions:function(e){for(var b=this._markers.length-1;0<=b;b--){var f=this._markers[b];f._backupLatlng&&(f.setLatLng(f._backupLatlng),delete f._backupLatlng)}if(e-1===this._zoom)for(e=this._childClusters.length-1;0<=e;e--)this._childClusters[e]._restorePosition();else for(b=this._childClusters.length-1;0<=b;b--)this._childClusters[b]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},
_recursivelyRemoveChildrenFromMap:function(e,b,f){var a,c;this._recursively(e,-1,b-1,function(b){for(c=b._markers.length-1;0<=c;c--)a=b._markers[c],f&&f.contains(a._latlng)||(b._group._featureGroup.removeLayer(a),a.setOpacity&&a.setOpacity(1))},function(b){for(c=b._childClusters.length-1;0<=c;c--)a=b._childClusters[c],f&&f.contains(a._latlng)||(b._group._featureGroup.removeLayer(a),a.setOpacity&&a.setOpacity(1))})},_recursively:function(e,b,f,a,c){var d=this._childClusters,h=this._zoom,g;if(b>h)for(h=
d.length-1;0<=h;h--)g=d[h],e.intersects(g._bounds)&&g._recursively(e,b,f,a,c);else if(a&&a(this),c&&this._zoom===f&&c(this),f>h)for(h=d.length-1;0<=h;h--)g=d[h],e.intersects(g._bounds)&&g._recursively(e,b,f,a,c)},_recalculateBounds:function(){var e=this._markers,b=this._childClusters,f;this._bounds=new L.LatLngBounds;delete this._wLatLng;for(f=e.length-1;0<=f;f--)this._expandBounds(e[f]);for(f=b.length-1;0<=f;f--)this._expandBounds(b[f])},_isSingleParent:function(){return 0<this._childClusters.length&&
this._childClusters[0]._childCount===this._childCount}});L.DistanceGrid=function(e){this._cellSize=e;this._sqCellSize=e*e;this._grid={};this._objectPoint={}};L.DistanceGrid.prototype={addObject:function(e,b){var f=this._getCoord(b.x),a=this._getCoord(b.y),c=this._grid,a=c[a]=c[a]||{},f=a[f]=a[f]||[],a=L.Util.stamp(e);this._objectPoint[a]=b;f.push(e)},updateObject:function(e,b){this.removeObject(e);this.addObject(e,b)},removeObject:function(e,b){var f=this._getCoord(b.x),a=this._getCoord(b.y),c=this._grid,
a=c[a]=c[a]||{},c=a[f]=a[f]||[],d,h;delete this._objectPoint[L.Util.stamp(e)];d=0;for(h=c.length;d<h;d++)if(c[d]===e)return c.splice(d,1),1===h&&delete a[f],!0},eachObject:function(e,b){var f,a,c,d,h,g,k,l=this._grid;for(f in l)for(a in h=l[f],h)for(g=h[a],c=0,d=g.length;c<d;c++)if(k=e.call(b,g[c]))c--,d--},getNearObject:function(e){var b=this._getCoord(e.x),f=this._getCoord(e.y),a,c,d,h,g,k,l,p,w=this._objectPoint,C=this._sqCellSize,B=null;for(a=f-1;a<=f+1;a++)if(h=this._grid[a])for(c=b-1;c<=b+1;c++)if(g=
h[c])for(d=0,k=g.length;d<k;d++)l=g[d],p=this._sqDist(w[L.Util.stamp(l)],e),p<C&&(C=p,B=l);return B},_getCoord:function(e){return Math.floor(e/this._cellSize)},_sqDist:function(e,b){var f=b.x-e.x,a=b.y-e.y;return f*f+a*a}};(function(){L.QuickHull={getDistant:function(e,b){return(b[0].lng-b[1].lng)*(e.lat-b[0].lat)+(b[1].lat-b[0].lat)*(e.lng-b[0].lng)},findMostDistantPointFromBaseLine:function(e,b){var f=0,a=null,c=[],d,h,g;for(d=b.length-1;0<=d;d--)h=b[d],g=this.getDistant(h,e),0<g&&(c.push(h),g>
f&&(f=g,a=h));return{maxPoint:a,newPoints:c}},buildConvexHull:function(e,b){var f=[],a=this.findMostDistantPointFromBaseLine(e,b);return a.maxPoint?(f=f.concat(this.buildConvexHull([e[0],a.maxPoint],a.newPoints)),f=f.concat(this.buildConvexHull([a.maxPoint,e[1]],a.newPoints))):[e[0]]},getConvexHull:function(e){var b=!1,f=!1,a=null,c=null,d;for(d=e.length-1;0<=d;d--){var h=e[d];if(!1===b||h.lat>b)a=h,b=h.lat;if(!1===f||h.lat<f)c=h,f=h.lat}return[].concat(this.buildConvexHull([c,a],e),this.buildConvexHull([a,
c],e))}}})();L.MarkerCluster.include({getConvexHull:function(){var e=this.getAllChildMarkers(),b=[],f,a;for(a=e.length-1;0<=a;a--)f=e[a].getLatLng(),b.push(f);return L.QuickHull.getConvexHull(b)}});L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e=this.getAllChildMarkers(),
b=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy();this._group._spiderfied=this;e.length>=this._circleSpiralSwitchover?b=this._generatePointsSpiral(e.length,b):(b.y+=10,b=this._generatePointsCircle(e.length,b));this._animationSpiderfy(e,b)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,b){var f=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+
e)/this._2PI,a=this._2PI/e,c=[],d,h;c.length=e;for(d=e-1;0<=d;d--)h=this._circleStartAngle+d*a,c[d]=(new L.Point(b.x+f*Math.cos(h),b.y+f*Math.sin(h)))._round();return c},_generatePointsSpiral:function(e,b){var f=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,a=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,c=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,d=0,h=[],g;h.length=e;for(g=e-1;0<=g;g--)d+=a/f+5E-4*g,h[g]=(new L.Point(b.x+
f*Math.cos(d),b.y+f*Math.sin(d)))._round(),f+=this._2PI*c/d;return h},_noanimationUnspiderfy:function(){var e=this._group,b=e._map,f=e._featureGroup,a=this.getAllChildMarkers(),c,d;this.setOpacity(1);for(d=a.length-1;0<=d;d--)c=a[d],f.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(b.removeLayer(c._spiderLeg),delete c._spiderLeg);e._spiderfied=null}});L.MarkerCluster.include(L.DomUtil.TRANSITION?
{SVG_ANIMATION:-1<k.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate"),_animationSpiderfy:function(e,b){var f=this._group,a=f._map,c=f._featureGroup,d=a.latLngToLayerPoint(this._latlng),h,g,l;for(h=e.length-1;0<=h;h--)g=e[h],g.setOpacity?(g.setZIndexOffset(1E6),g.setOpacity(0),c.addLayer(g),g._setPos(d)):c.addLayer(g);f._forceLayout();f._animationStart();c=L.Path.SVG?0:0.3;d=L.Path.SVG_NS;for(h=e.length-1;0<=h;h--)if(l=a.layerPointToLatLng(b[h]),g=e[h],g._preSpiderfyLatlng=
g._latlng,g.setLatLng(l),g.setOpacity&&g.setOpacity(1),l=new L.Polyline([this._latlng,l],{weight:1.5,color:"#222",opacity:c}),a.addLayer(l),g._spiderLeg=l,L.Path.SVG&&this.SVG_ANIMATION){g=l._path.getTotalLength();l._path.setAttribute("stroke-dasharray",g+","+g);var t=k.createElementNS(d,"animate");t.setAttribute("attributeName","stroke-dashoffset");t.setAttribute("begin","indefinite");t.setAttribute("from",g);t.setAttribute("to",0);t.setAttribute("dur",0.25);l._path.appendChild(t);t.beginElement();
t=k.createElementNS(d,"animate");t.setAttribute("attributeName","stroke-opacity");t.setAttribute("attributeName","stroke-opacity");t.setAttribute("begin","indefinite");t.setAttribute("from",0);t.setAttribute("to",0.5);t.setAttribute("dur",0.25);l._path.appendChild(t);t.beginElement()}this.setOpacity(0.3);if(L.Path.SVG)for(this._group._forceLayout(),h=e.length-1;0<=h;h--)g=e[h]._spiderLeg,g.options.opacity=0.5,g._path.setAttribute("stroke-opacity",0.5);setTimeout(function(){f._animationEnd();f.fire("spiderfied")},
200)},_animationUnspiderfy:function(e){var b=this._group,f=b._map,a=b._featureGroup;e=e?f._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):f.latLngToLayerPoint(this._latlng);var c=this.getAllChildMarkers(),d=L.Path.SVG&&this.SVG_ANIMATION,h,g,k;b._animationStart();this.setOpacity(1);for(g=c.length-1;0<=g;g--)h=c[g],h._preSpiderfyLatlng&&(h.setLatLng(h._preSpiderfyLatlng),delete h._preSpiderfyLatlng,h.setOpacity?(h._setPos(e),h.setOpacity(0)):a.removeLayer(h),d&&(k=h._spiderLeg._path.childNodes[0],
k.setAttribute("to",k.getAttribute("from")),k.setAttribute("from",0),k.beginElement(),k=h._spiderLeg._path.childNodes[1],k.setAttribute("from",0.5),k.setAttribute("to",0),k.setAttribute("stroke-opacity",0),k.beginElement(),h._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var d=0;for(g=c.length-1;0<=g;g--)h=c[g],h._spiderLeg&&d++;for(g=c.length-1;0<=g;g--)h=c[g],h._spiderLeg&&(h.setOpacity&&(h.setOpacity(1),h.setZIndexOffset(0)),1<d&&a.removeLayer(h),f.removeLayer(h._spiderLeg),
delete h._spiderLeg);b._animationEnd()},200)}}:{_animationSpiderfy:function(e,b){var f=this._group,a=f._map,c=f._featureGroup,d,h,g;for(d=e.length-1;0<=d;d--)g=a.layerPointToLatLng(b[d]),h=e[d],h._preSpiderfyLatlng=h._latlng,h.setLatLng(g),h.setZIndexOffset&&h.setZIndexOffset(1E6),c.addLayer(h),g=new L.Polyline([this._latlng,g],{weight:1.5,color:"#222"}),a.addLayer(g),h._spiderLeg=g;this.setOpacity(0.3);f.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}});L.MarkerClusterGroup.include({_spiderfied:null,
_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this);if(this._map.options.zoomAnimation)this._map.on("zoomstart",this._unspiderfyZoomStart,this);this._map.on("zoomend",this._noanimationUnspiderfy,this);L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this);this._map.off("zoomstart",this._unspiderfyZoomStart,this);this._map.off("zoomanim",this._unspiderfyZoomAnim,this);this._unspiderfy()},
_unspiderfyZoomStart:function(){if(this._map)this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&
(this._featureGroup.removeLayer(e),e.setOpacity(1),e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}})})(window,document);L.GeoSearch={};L.GeoSearch.Provider={};L.GeoSearch.Result=function(g,k,l){this.X=g;this.Y=k;this.Label=l};
L.Control.GeoSearch=L.Control.extend({options:{position:"topcenter",showMarker:!0},_config:{country:"",searchLabel:"search for address ...",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3E3,zoomLevel:18},initialize:function(g){L.Util.extend(this.options,g);L.Util.extend(this._config,g)},onAdd:function(g){for(var k=g._controlContainer,l=k.childNodes,e=!1,b=0,f=l.length;b<f;b++){var a=l[b].className;if(/leaflet-top/.test(a)&&/leaflet-center/.test(a)){e=!0;break}}e||(l=document.createElement("div"),
l.className+="leaflet-top leaflet-center",k.appendChild(l),g._controlCorners.topcenter=l);this._map=g;this._container=L.DomUtil.create("div","leaflet-control-geosearch");g=document.createElement("input");g.id="leaflet-control-geosearch-qry";g.type="text";g.placeholder=this._config.searchLabel;this._searchbox=g;g=document.createElement("div");g.id="leaflet-control-geosearch-msg";g.className="leaflet-control-geosearch-msg";this._msgbox=g;g=document.createElement("ul");g.id="leaflet-control-geosearch-results";
this._resultslist=g;this._msgbox.appendChild(this._resultslist);this._container.appendChild(this._searchbox);this._container.appendChild(this._msgbox);L.DomEvent.addListener(this._container,"click",L.DomEvent.stop).addListener(this._searchbox,"keypress",this._onKeyUp,this);L.DomEvent.disableClickPropagation(this._container);return this._container},geosearch:function(g){try{var k=this._config.provider;if("function"==typeof k.GetLocations)k.GetLocations(g,function(b){this._processResults(b)}.bind(this));
else{var l=k.GetServiceUrl(g);this.sendRequest(k,l)}}catch(e){this._printError(e)}},sendRequest:function(g,k){function l(a){a+="\x26callback\x3dparseLocation";var b=document.createElement("script");b.id="getJsonP";b.src=a;b.async=!0;document.body.appendChild(b)}var e=this;window.parseLocation=function(a){a=g.ParseJSON(a);e._processResults(a);document.body.removeChild(document.getElementById("getJsonP"));delete window.parseLocation};if(XMLHttpRequest){var b=new XMLHttpRequest;if("withCredentials"in
b)b=new XMLHttpRequest,b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status){var a=JSON.parse(b.responseText),a=g.ParseJSON(a);e._processResults(a)}else 0==b.status||400==b.status?l(k):e._printError(b.responseText)},b.open("GET",k,!0),b.send();else if(XDomainRequest){var f=new XDomainRequest;f.onerror=function(a){e._printError(a)};f.onload=function(){var a=JSON.parse(f.responseText),a=g.ParseJSON(a);e._processResults(a)};f.open("GET",k);f.send()}else l(k)}},_processResults:function(g){0<
g.length?(this._map.fireEvent("geosearch_foundlocations",{Locations:g}),this._showLocation(g[0])):this._printError(this._config.notFoundMessage)},_showLocation:function(g){!0==this.options.showMarker&&("undefined"===typeof this._positionMarker?this._positionMarker=L.marker([g.Y,g.X]).addTo(this._map):this._positionMarker.setLatLng([g.Y,g.X]));this._map.setView([g.Y,g.X],this._config.zoomLevel,!1);this._map.fireEvent("geosearch_showlocation",{Location:g})},_printError:function(g){var k=this._resultslist;
k.innerHTML="\x3cli\x3e"+g+"\x3c/li\x3e";k.style.display="block";setTimeout(function(){k.style.display="none"},3E3)},_onKeyUp:function(g){var k=document.getElementById("leaflet-control-geosearch-qry");27===g.keyCode?(k.value="",this._map._container.focus()):13===g.keyCode&&this.geosearch(k.value)}});
L.GeoSearch.Provider.OpenStreetMap=L.Class.extend({options:{},initialize:function(g){L.Util.setOptions(this,g)},GetServiceUrl:function(g){g=L.Util.extend({q:g,format:"json"},this.options);return"http://nominatim.openstreetmap.org/search"+L.Util.getParamString(g)},ParseJSON:function(g){if(0==g.length)return[];for(var k=[],l=0;l<g.length;l++)k.push(new L.GeoSearch.Result(g[l].lon,g[l].lat,g[l].display_name));return k}});
+function(g){function k(a){g(e).remove();g(b).each(function(){var b=l(g(this)),f={relatedTarget:this};b.hasClass("open")&&(b.trigger(a=g.Event("hide.bs.dropdown",f)),a.isDefaultPrevented()||b.removeClass("open").trigger("hidden.bs.dropdown",f))})}function l(a){var b=a.attr("data-target");b||(b=(b=a.attr("href"))&&/#[A-Za-z]/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));return(b=b&&g(b))&&b.length?b:a.parent()}var e=".dropdown-backdrop",b="[data-toggle\x3ddropdown]",f=function(a){g(a).on("click.bs.dropdown",
this.toggle)};f.prototype.toggle=function(a){var b=g(this);if(!b.is(".disabled, :disabled")){var f=l(b);a=f.hasClass("open");k();if(!a){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length)g('\x3cdiv class\x3d"dropdown-backdrop"/\x3e').insertAfter(g(this)).on("click",k);var e={relatedTarget:this};f.trigger(a=g.Event("show.bs.dropdown",e));if(a.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",e);b.focus()}return!1}};f.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var f=
g(this);a.preventDefault();a.stopPropagation();if(!f.is(".disabled, :disabled")){var e=l(f),k=e.hasClass("open");if(!k||k&&27==a.keyCode)return 27==a.which&&e.find(b).focus(),f.click();f=e.find("[role\x3dmenu] li:not(.divider):visible a, [role\x3dlistbox] li:not(.divider):visible a");f.length&&(e=f.index(f.filter(":focus")),38==a.keyCode&&0<e&&e--,40==a.keyCode&&e<f.length-1&&e++,~e||(e=0),f.eq(e).focus())}}};var a=g.fn.dropdown;g.fn.dropdown=function(a){return this.each(function(){var b=g(this),
e=b.data("bs.dropdown");e||b.data("bs.dropdown",e=new f(this));"string"==typeof a&&e[a].call(b)})};g.fn.dropdown.Constructor=f;g.fn.dropdown.noConflict=function(){g.fn.dropdown=a;return this};g(document).on("click.bs.dropdown.data-api",k).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",b,f.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role\x3dmenu], [role\x3dlistbox]",f.prototype.keydown)}(jQuery);
+function(g){var k=function(e,b){this.options=b;this.$element=g(e);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,g.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};k.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};k.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)};k.prototype.show=function(e){var b=this,f=g.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(f);this.isShown||f.isDefaultPrevented()||
(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss\x3d"modal"]',g.proxy(this.hide,this)),this.backdrop(function(){var a=g.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show().scrollTop(0);a&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();var c=g.Event("shown.bs.modal",{relatedTarget:e});a?b.$element.find(".modal-dialog").one(g.support.transition.end,
function(){b.$element.focus().trigger(c)}).emulateTransitionEnd(300):b.$element.focus().trigger(c)}))};k.prototype.hide=function(e){e&&e.preventDefault();e=g.Event("hide.bs.modal");this.$element.trigger(e);this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),g(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),g.support.transition&&this.$element.hasClass("fade")?this.$element.one(g.support.transition.end,g.proxy(this.hideModal,
this)).emulateTransitionEnd(300):this.hideModal())};k.prototype.enforceFocus=function(){g(document).off("focusin.bs.modal").on("focusin.bs.modal",g.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))};k.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",g.proxy(function(e){27==e.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};k.prototype.hideModal=
function(){var e=this;this.$element.hide();this.backdrop(function(){e.removeBackdrop();e.$element.trigger("hidden.bs.modal")})};k.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};k.prototype.backdrop=function(e){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=g.support.transition&&b;this.$backdrop=g('\x3cdiv class\x3d"modal-backdrop '+b+'" /\x3e').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",
g.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));f&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");e&&(f?this.$backdrop.one(g.support.transition.end,e).emulateTransitionEnd(150):e())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),g.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(g.support.transition.end,e).emulateTransitionEnd(150):e()):
e&&e()};var l=g.fn.modal;g.fn.modal=function(e,b){return this.each(function(){var f=g(this),a=f.data("bs.modal"),c=g.extend({},k.DEFAULTS,f.data(),"object"==typeof e&&e);a||f.data("bs.modal",a=new k(this,c));if("string"==typeof e)a[e](b);else c.show&&a.show(b)})};g.fn.modal.Constructor=k;g.fn.modal.noConflict=function(){g.fn.modal=l;return this};g(document).on("click.bs.modal.data-api",'[data-toggle\x3d"modal"]',function(e){var b=g(this),f=b.attr("href"),a=g(b.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,
"")),f=a.data("bs.modal")?"toggle":g.extend({remote:!/#/.test(f)&&f},a.data(),b.data());b.is("a")&&e.preventDefault();a.modal(f,this).one("hide",function(){b.is(":visible")&&b.focus()})});g(document).on("show.bs.modal",".modal",function(){g(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){g(document.body).removeClass("modal-open")})}(jQuery);
+function(g){var k=function(e,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",e,b)};k.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'\x3cdiv class\x3d"tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip-inner"\x3e\x3c/div\x3e\x3c/div\x3e',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};k.prototype.init=function(e,b,f){this.enabled=!0;this.type=e;this.$element=g(b);this.options=this.getOptions(f);
e=this.options.trigger.split(" ");for(b=e.length;b--;)if(f=e[b],"click"==f)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=f){var a="hover"==f?"mouseleave":"focusout";this.$element.on(("hover"==f?"mouseenter":"focusin")+"."+this.type,this.options.selector,g.proxy(this.enter,this));this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.leave,this))}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):
this.fixTitle()};k.prototype.getDefaults=function(){return k.DEFAULTS};k.prototype.getOptions=function(e){e=g.extend({},this.getDefaults(),this.$element.data(),e);e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay});return e};k.prototype.getDelegateOptions=function(){var e={},b=this.getDefaults();this._options&&g.each(this._options,function(f,a){b[f]!=a&&(e[f]=a)});return e};k.prototype.enter=function(e){var b=e instanceof this.constructor?e:g(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+
this.type);clearTimeout(b.timeout);b.hoverState="in";if(!b.options.delay||!b.options.delay.show)return b.show();b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)};k.prototype.leave=function(e){var b=e instanceof this.constructor?e:g(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(b.timeout);b.hoverState="out";if(!b.options.delay||!b.options.delay.hide)return b.hide();b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},
b.options.delay.hide)};k.prototype.show=function(){var e=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(e),!e.isDefaultPrevented())){var b=this,e=this.tip();this.setContent();this.options.animation&&e.addClass("fade");var f="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,c=a.test(f);c&&(f=f.replace(a,"")||"top");e.detach().css({top:0,left:0,display:"block"}).addClass(f);
this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var a=this.getPosition(),d=e[0].offsetWidth,h=e[0].offsetHeight;if(c){var k=this.$element.parent(),c=f,l=document.documentElement.scrollTop||document.body.scrollTop,t="body"==this.options.container?window.innerWidth:k.outerWidth(),p="body"==this.options.container?window.innerHeight:k.outerHeight(),k="body"==this.options.container?0:k.offset().left,f="bottom"==f&&a.top+a.height+h-l>p?"top":"top"==f&&0>a.top-l-h?
"bottom":"right"==f&&a.right+d>t?"left":"left"==f&&a.left-d<k?"right":f;e.removeClass(c).addClass(f)}a=this.getCalculatedOffset(f,a,d,h);this.applyPlacement(a,f);this.hoverState=null;f=function(){b.$element.trigger("shown.bs."+b.type)};g.support.transition&&this.$tip.hasClass("fade")?e.one(g.support.transition.end,f).emulateTransitionEnd(150):f()}};k.prototype.applyPlacement=function(e,b){var f,a=this.tip(),c=a[0].offsetWidth,d=a[0].offsetHeight,h=parseInt(a.css("margin-top"),10),k=parseInt(a.css("margin-left"),
10);isNaN(h)&&(h=0);isNaN(k)&&(k=0);e.top+=h;e.left+=k;g.offset.setOffset(a[0],g.extend({using:function(b){a.css({top:Math.round(b.top),left:Math.round(b.left)})}},e),0);a.addClass("in");h=a[0].offsetWidth;k=a[0].offsetHeight;"top"==b&&k!=d&&(f=!0,e.top=e.top+d-k);/bottom|top/.test(b)?(d=0,0>e.left&&(d=-2*e.left,e.left=0,a.offset(e),h=a[0].offsetWidth,k=a[0].offsetHeight),this.replaceArrow(d-c+h,h,"left")):this.replaceArrow(k-d,k,"top");f&&a.offset(e)};k.prototype.replaceArrow=function(e,b,f){this.arrow().css(f,
e?50*(1-e/b)+"%":"")};k.prototype.setContent=function(){var e=this.tip(),b=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](b);e.removeClass("fade in top bottom left right")};k.prototype.hide=function(){function e(){"in"!=b.hoverState&&f.detach();b.$element.trigger("hidden.bs."+b.type)}var b=this,f=this.tip(),a=g.Event("hide.bs."+this.type);this.$element.trigger(a);if(!a.isDefaultPrevented())return f.removeClass("in"),g.support.transition&&this.$tip.hasClass("fade")?f.one(g.support.transition.end,
e).emulateTransitionEnd(150):e(),this.hoverState=null,this};k.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")};k.prototype.hasContent=function(){return this.getTitle()};k.prototype.getPosition=function(){var e=this.$element[0];return g.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())};
k.prototype.getCalculatedOffset=function(e,b,f,a){return"bottom"==e?{top:b.top+b.height,left:b.left+b.width/2-f/2}:"top"==e?{top:b.top-a,left:b.left+b.width/2-f/2}:"left"==e?{top:b.top+b.height/2-a/2,left:b.left-f}:{top:b.top+b.height/2-a/2,left:b.left+b.width}};k.prototype.getTitle=function(){var e=this.$element,b=this.options;return e.attr("data-original-title")||("function"==typeof b.title?b.title.call(e[0]):b.title)};k.prototype.tip=function(){return this.$tip=this.$tip||g(this.options.template)};
k.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};k.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};k.prototype.enable=function(){this.enabled=!0};k.prototype.disable=function(){this.enabled=!1};k.prototype.toggleEnabled=function(){this.enabled=!this.enabled};k.prototype.toggle=function(e){e=e?g(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;e.tip().hasClass("in")?
e.leave(e):e.enter(e)};k.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var l=g.fn.tooltip;g.fn.tooltip=function(e){return this.each(function(){var b=g(this),f=b.data("bs.tooltip"),a="object"==typeof e&&e;if(f||"destroy"!=e)if(f||b.data("bs.tooltip",f=new k(this,a)),"string"==typeof e)f[e]()})};g.fn.tooltip.Constructor=k;g.fn.tooltip.noConflict=function(){g.fn.tooltip=l;return this}}(jQuery);
+function(g){var k=function(e,b){this.init("popover",e,b)};if(!g.fn.tooltip)throw Error("Popover requires tooltip.js");k.DEFAULTS=g.extend({},g.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'\x3cdiv class\x3d"popover"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3ch3 class\x3d"popover-title"\x3e\x3c/h3\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e'});k.prototype=g.extend({},g.fn.tooltip.Constructor.prototype);k.prototype.constructor=k;k.prototype.getDefaults=
function(){return k.DEFAULTS};k.prototype.setContent=function(){var e=this.tip(),b=this.getTitle(),f=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](b);e.find(".popover-content")[this.options.html?"string"==typeof f?"html":"append":"text"](f);e.removeClass("fade top bottom left right in");e.find(".popover-title").html()||e.find(".popover-title").hide()};k.prototype.hasContent=function(){return this.getTitle()||this.getContent()};k.prototype.getContent=function(){var e=
this.$element,b=this.options;return e.attr("data-content")||("function"==typeof b.content?b.content.call(e[0]):b.content)};k.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};k.prototype.tip=function(){this.$tip||(this.$tip=g(this.options.template));return this.$tip};var l=g.fn.popover;g.fn.popover=function(e){return this.each(function(){var b=g(this),f=b.data("bs.popover"),a="object"==typeof e&&e;if(f||"destroy"!=e)if(f||b.data("bs.popover",f=new k(this,a)),"string"==
typeof e)f[e]()})};g.fn.popover.Constructor=k;g.fn.popover.noConflict=function(){g.fn.popover=l;return this}}(jQuery);
+function(g){var k=function(e){this.element=g(e)};k.prototype.show=function(){var e=this.element,b=e.closest("ul:not(.dropdown-menu)"),f=e.data("target");f||(f=(f=e.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));if(!e.parent("li").hasClass("active")){var a=b.find(".active:last a")[0],c=g.Event("show.bs.tab",{relatedTarget:a});e.trigger(c);c.isDefaultPrevented()||(f=g(f),this.activate(e.parent("li"),b),this.activate(f,f.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:a})}))}};k.prototype.activate=
function(e,b,f){function a(){c.removeClass("active").find("\x3e .dropdown-menu \x3e .active").removeClass("active");e.addClass("active");d?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade");e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active");f&&f()}var c=b.find("\x3e .active"),d=f&&g.support.transition&&c.hasClass("fade");d?c.one(g.support.transition.end,a).emulateTransitionEnd(150):a();c.removeClass("in")};var l=g.fn.tab;g.fn.tab=function(e){return this.each(function(){var b=
g(this),f=b.data("bs.tab");f||b.data("bs.tab",f=new k(this));if("string"==typeof e)f[e]()})};g.fn.tab.Constructor=k;g.fn.tab.noConflict=function(){g.fn.tab=l;return this};g(document).on("click.bs.tab.data-api",'[data-toggle\x3d"tab"], [data-toggle\x3d"pill"]',function(e){e.preventDefault();g(this).tab("show")})}(jQuery);
+function(g){var k=function(e,b){this.$element=g(e);this.options=g.extend({},k.DEFAULTS,b);this.transitioning=null;this.options.parent&&(this.$parent=g(this.options.parent));this.options.toggle&&this.toggle()};k.DEFAULTS={toggle:!0};k.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};k.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=g.Event("show.bs.collapse");this.$element.trigger(e);if(!e.isDefaultPrevented()){if((e=this.$parent&&
this.$parent.find("\x3e .panel \x3e .in"))&&e.length){var b=e.data("bs.collapse");if(b&&b.transitioning)return;e.collapse("hide");b||e.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0);this.transitioning=1;e=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!g.support.transition)return e.call(this);b=g.camelCase(["scroll",f].join("-"));
this.$element.one(g.support.transition.end,g.proxy(e,this)).emulateTransitionEnd(350)[f](this.$element[0][b])}}};k.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=g.Event("hide.bs.collapse");this.$element.trigger(e);if(!e.isDefaultPrevented()){e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var b=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
if(!g.support.transition)return b.call(this);this.$element[e](0).one(g.support.transition.end,g.proxy(b,this)).emulateTransitionEnd(350)}}};k.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var l=g.fn.collapse;g.fn.collapse=function(e){return this.each(function(){var b=g(this),f=b.data("bs.collapse"),a=g.extend({},k.DEFAULTS,b.data(),"object"==typeof e&&e);!f&&a.toggle&&"show"==e&&(e=!e);f||b.data("bs.collapse",f=new k(this,a));if("string"==typeof e)f[e]()})};g.fn.collapse.Constructor=
k;g.fn.collapse.noConflict=function(){g.fn.collapse=l;return this};g(document).on("click.bs.collapse.data-api","[data-toggle\x3dcollapse]",function(e){var b=g(this),f;e=b.attr("data-target")||e.preventDefault()||(f=b.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"");f=g(e);var a=(e=f.data("bs.collapse"))?"toggle":b.data(),c=b.attr("data-parent"),d=c&&g(c);e&&e.transitioning||(d&&d.find('[data-toggle\x3dcollapse][data-parent\x3d"'+c+'"]').not(b).addClass("collapsed"),b[f.hasClass("in")?"addClass":"removeClass"]("collapsed"));
f.collapse(a)})}(jQuery);
+function(g){g.fn.emulateTransitionEnd=function(k){var l=!1,e=this;g(this).one(g.support.transition.end,function(){l=!0});setTimeout(function(){l||g(e).trigger(g.support.transition.end)},k);return this};g(function(){var k=g.support,l;a:{l=document.createElement("bootstrap");var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},b;for(b in e)if(void 0!==l.style[b]){l={end:e[b]};break a}l=!1}k.transition=l})}(jQuery);
!function(g){function k(){return new Date(Date.UTC.apply(Date,arguments))}var l=function(f,a){var c=this;this.element=g(f);this.container=a.container||"body";this.language=a.language||this.element.data("date-language")||"en";this.language=this.language in e?this.language:"en";this.isRTL=e[this.language].rtl||!1;this.formatType=a.formatType||this.element.data("format-type")||"standard";this.format=b.parseFormat(a.format||this.element.data("date-format")||e[this.language].format||b.getDefaultFormat(this.formatType,
"input"),this.formatType);this.isVisible=this.isInline=!1;this.bootcssVer=(this.isInput=this.element.is("input"))?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2;this.component=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar").parent():!1;this.componentReset=
this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove").parent():this.element.find(".add-on .icon-remove").parent():!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.linkField=a.linkField||this.element.data("link-field")||!1;this.linkFormat=b.parseFormat(a.linkFormat||this.element.data("link-format")||b.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=
a.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=a.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=a.showMeridian||this.element.data("show-meridian")||!1;this.initialDate=a.initialDate||new Date;this._attachEvents();this.formatViewType="datetime";"formatViewType"in a?this.formatViewType=a.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType"));this.minView=0;"minView"in a?this.minView=
a.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view"));this.minView=b.convertViewMode(this.minView);this.maxView=b.modes.length-1;"maxView"in a?this.maxView=a.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view"));this.maxView=b.convertViewMode(this.maxView);this.wheelViewModeNavigation=!1;"wheelViewModeNavigation"in a?this.wheelViewModeNavigation=a.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=
this.element.data("view-mode-wheel-navigation"));this.wheelViewModeNavigationInverseDirection=!1;"wheelViewModeNavigationInverseDirection"in a?this.wheelViewModeNavigationInverseDirection=a.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir"));this.wheelViewModeNavigationDelay=100;"wheelViewModeNavigationDelay"in a?this.wheelViewModeNavigationDelay=
a.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay"));this.startViewMode=2;"startView"in a?this.startViewMode=a.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view"));this.viewMode=this.startViewMode=b.convertViewMode(this.startViewMode);this.viewSelect=this.minView;"viewSelect"in a?this.viewSelect=a.viewSelect:"viewSelect"in this.element.data()&&
(this.viewSelect=this.element.data("view-select"));this.viewSelect=b.convertViewMode(this.viewSelect);this.forceParse=!0;"forceParse"in a?this.forceParse=a.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));this.picker=g(3==this.bootcssVer?b.templateV3:b.template).appendTo(this.isInline?this.element:this.container).on({click:g.proxy(this.click,this),mousedown:g.proxy(this.mousedown,this)});if(this.wheelViewModeNavigation)if(g.fn.mousewheel)this.picker.on({mousewheel:g.proxy(this.mousewheel,
this)});else DEBUG&&console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option");this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu");this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),3==this.bootcssVer?this.picker.find(".prev span, .next span").toggleClass("glyphicon-arrow-left glyphicon-arrow-right"):this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));
g(document).on("mousedown",function(a){0===g(a.target).closest(".datetimepicker").length&&c.hide()});this.autoclose=!1;"autoclose"in a?this.autoclose=a.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose"));this.keyboardNavigation=!0;"keyboardNavigation"in a?this.keyboardNavigation=a.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation"));this.todayBtn=a.todayBtn||this.element.data("date-today-btn")||
!1;this.todayHighlight=a.todayHighlight||this.element.data("date-today-highlight")||!1;this.weekStart=(a.weekStart||this.element.data("date-weekstart")||e[this.language].weekStart||0)%7;this.weekEnd=(this.weekStart+6)%7;this.startDate=-Infinity;this.endDate=Infinity;this.daysOfWeekDisabled=[];this.setStartDate(a.startDate||this.element.data("date-startdate"));this.setEndDate(a.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(a.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));
this.fillDow();this.fillMonths();this.update();this.showMode();this.isInline&&this.show()};l.prototype={constructor:l,_events:[],_attachEvents:function(){this._detachEvents();this.isInput?this._events=[[this.element,{focus:g.proxy(this.show,this),keyup:g.proxy(this.update,this),keydown:g.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:g.proxy(this.show,this),keyup:g.proxy(this.update,this),keydown:g.proxy(this.keydown,this)}],[this.component,
{click:g.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:g.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:g.proxy(this.show,this)}]];for(var b=0,a,c;b<this._events.length;b++)a=this._events[b][0],c=this._events[b][1],a.on(c)},_detachEvents:function(){for(var b=0,a,c;b<this._events.length;b++)a=this._events[b][0],c=this._events[b][1],a.off(c);this._events=[]},show:function(b){this.picker.show();this.height=
this.component?this.component.outerHeight():this.element.outerHeight();this.forceParse&&this.update();this.place();g(window).on("resize",g.proxy(this.place,this));b&&(b.stopPropagation(),b.preventDefault());this.isVisible=!0;this.element.trigger({type:"show",date:this.date})},hide:function(b){this.isVisible&&!this.isInline&&(this.picker.hide(),g(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||g(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&
this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents();this.picker.remove();delete this.picker;delete this.element.data().datetimepicker},getDate:function(){var b=this.getUTCDate();return new Date(b.getTime()+6E4*b.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(b){this.setUTCDate(new Date(b.getTime()-6E4*b.getTimezoneOffset()))},
setUTCDate:function(b){b>=this.startDate&&b<=this.endDate?(this.date=b,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:b,startDate:this.startDate,endDate:this.endDate})},setFormat:function(f){this.format=b.parseFormat(f,this.formatType);var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input"));a&&a.val()&&this.setValue()},setValue:function(){var b=this.getFormattedDate();this.isInput?this.element.val(b):(this.component&&this.element.find("input").val(b),
this.element.data("date",b));this.linkField&&g("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(f){void 0==f&&(f=this.format);return b.formatDate(this.date,f,this.language,this.formatType)},setStartDate:function(f){this.startDate=f||-Infinity;-Infinity!==this.startDate&&(this.startDate=b.parseDate(this.startDate,this.format,this.language,this.formatType));this.update();this.updateNavArrows()},setEndDate:function(f){this.endDate=f||Infinity;Infinity!==this.endDate&&
(this.endDate=b.parseDate(this.endDate,this.format,this.language,this.formatType));this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(b){this.daysOfWeekDisabled=b||[];g.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/));this.daysOfWeekDisabled=g.map(this.daysOfWeekDisabled,function(a){return parseInt(a,10)});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var b=0;g("div").each(function(){var a=parseInt(g(this).css("zIndex"),
10);a>b&&(b=a)});var a=b+10,c,d,e;e=this.container instanceof g?this.container.offset():g(this.container).offset();if(this.component){if(c=this.component.offset(),d=c.left,"bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)d+=this.component.outerWidth()-this.picker.outerWidth()}else c=this.element.offset(),d=c.left;d+220>document.body.clientWidth&&(d=document.body.clientWidth-220);c="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?c.top-this.picker.outerHeight():
c.top+this.height;c-=e.top;d-=e.left;this.picker.css({top:c,left:d,zIndex:a})}},update:function(){var f,a=!1;if(arguments&&arguments.length&&("string"===typeof arguments[0]||arguments[0]instanceof Date))f=arguments[0],a=!0;else if(f=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate,"string"==typeof f||f instanceof String)f=f.replace(/^\s+|\s+$/g,"");f||(f=new Date,a=!1);this.date=b.parseDate(f,this.format,this.language,this.formatType);
a&&this.setValue();this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date);this.fill()},fillDow:function(){for(var b=this.weekStart,a="\x3ctr\x3e";b<this.weekStart+7;)a+='\x3cth class\x3d"dow"\x3e'+e[this.language].daysMin[b++%7]+"\x3c/th\x3e";a+="\x3c/tr\x3e";this.picker.find(".datetimepicker-days thead").append(a)},fillMonths:function(){for(var b="",a=0;12>a;)b+='\x3cspan class\x3d"month"\x3e'+e[this.language].monthsShort[a++]+
"\x3c/span\x3e";this.picker.find(".datetimepicker-months td").html(b)},fill:function(){if(null!=this.date&&null!=this.viewDate){var f=new Date(this.viewDate),a=f.getUTCFullYear(),c=f.getUTCMonth(),d=f.getUTCDate(),h=f.getUTCHours(),l=f.getUTCMinutes(),f=-Infinity!==this.startDate?this.startDate.getUTCFullYear():-Infinity,r=-Infinity!==this.startDate?this.startDate.getUTCMonth():-Infinity,t=Infinity!==this.endDate?this.endDate.getUTCFullYear():Infinity,p=Infinity!==this.endDate?this.endDate.getUTCMonth():
Infinity,w=(new k(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),C=new Date;this.picker.find(".datetimepicker-days thead th:eq(1)").text(e[this.language].months[c]+" "+a);if("time"==this.formatViewType){var B=h%12?h%12:12,B=(10>B?"0":"")+B,z=(10>l?"0":"")+l,x=e[this.language].meridiem[12>h?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(B+":"+z+" "+(x?x.toUpperCase():""));this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(B+":"+
z+" "+(x?x.toUpperCase():""))}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(d+" "+e[this.language].months[c]+" "+a),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(d+" "+e[this.language].months[c]+" "+a);this.picker.find("tfoot th.today").text(e[this.language].today).toggle(!1!==this.todayBtn);this.updateNavArrows();this.fillMonths();x=k(a,c-1,28,0,0,0,0);B=b.getDaysInMonth(x.getUTCFullYear(),x.getUTCMonth());x.setUTCDate(B);x.setUTCDate(B-(x.getUTCDay()-this.weekStart+
7)%7);var O=new Date(x);O.setUTCDate(O.getUTCDate()+42);O=O.valueOf();for(B=[];x.valueOf()<O;){x.getUTCDay()==this.weekStart&&B.push("\x3ctr\x3e");z="";if(x.getUTCFullYear()<a||x.getUTCFullYear()==a&&x.getUTCMonth()<c)z+=" old";else if(x.getUTCFullYear()>a||x.getUTCFullYear()==a&&x.getUTCMonth()>c)z+=" new";this.todayHighlight&&x.getUTCFullYear()==C.getFullYear()&&x.getUTCMonth()==C.getMonth()&&x.getUTCDate()==C.getDate()&&(z+=" today");x.valueOf()==w&&(z+=" active");if(x.valueOf()+864E5<=this.startDate||
x.valueOf()>this.endDate||-1!==g.inArray(x.getUTCDay(),this.daysOfWeekDisabled))z+=" disabled";B.push('\x3ctd class\x3d"day'+z+'"\x3e'+x.getUTCDate()+"\x3c/td\x3e");x.getUTCDay()==this.weekEnd&&B.push("\x3c/tr\x3e");x.setUTCDate(x.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(B.join(""));B=[];C=x=x="";for(w=0;24>w;w++)x=k(a,c,d,w),z="",x.valueOf()+36E5<=this.startDate||x.valueOf()>this.endDate?z+=" disabled":h==w&&(z+=" active"),this.showMeridian&&2==e[this.language].meridiem.length?
(x=12>w?e[this.language].meridiem[0]:e[this.language].meridiem[1],x!=C&&(""!=C&&B.push("\x3c/fieldset\x3e"),B.push('\x3cfieldset class\x3d"hour"\x3e\x3clegend\x3e'+x.toUpperCase()+"\x3c/legend\x3e")),C=x,x=w%12?w%12:12,B.push('\x3cspan class\x3d"hour'+z+" hour_"+(12>w?"am":"pm")+'"\x3e'+x+"\x3c/span\x3e"),23==w&&B.push("\x3c/fieldset\x3e")):(x=w+":00",B.push('\x3cspan class\x3d"hour'+z+'"\x3e'+x+"\x3c/span\x3e"));this.picker.find(".datetimepicker-hours td").html(B.join(""));B=[];C="";for(w=0;60>w;w+=
this.minuteStep)x=k(a,c,d,h,w,0),z="",x.valueOf()<this.startDate||x.valueOf()>this.endDate?z+=" disabled":Math.floor(l/this.minuteStep)==Math.floor(w/this.minuteStep)&&(z+=" active"),this.showMeridian&&2==e[this.language].meridiem.length?(x=12>h?e[this.language].meridiem[0]:e[this.language].meridiem[1],x!=C&&(""!=C&&B.push("\x3c/fieldset\x3e"),B.push('\x3cfieldset class\x3d"minute"\x3e\x3clegend\x3e'+x.toUpperCase()+"\x3c/legend\x3e")),C=x,x=h%12?h%12:12,B.push('\x3cspan class\x3d"minute'+z+'"\x3e'+
x+":"+(10>w?"0"+w:w)+"\x3c/span\x3e"),59==w&&B.push("\x3c/fieldset\x3e")):B.push('\x3cspan class\x3d"minute'+z+'"\x3e'+h+":"+(10>w?"0"+w:w)+"\x3c/span\x3e");this.picker.find(".datetimepicker-minutes td").html(B.join(""));c=this.date.getUTCFullYear();d=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");c==a&&d.eq(this.date.getUTCMonth()).addClass("active");(a<f||a>t)&&d.addClass("disabled");a==f&&d.slice(0,r).addClass("disabled");a==t&&d.slice(p+
1).addClass("disabled");B="";a=10*parseInt(a/10,10);r=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(w=-1;11>w;w++)B+='\x3cspan class\x3d"year'+(-1==w||10==w?" old":"")+(c==a?" active":"")+(a<f||a>t?" disabled":"")+'"\x3e'+a+"\x3c/span\x3e",a+=1;r.html(B);this.place()}},updateNavArrows:function(){var b=new Date(this.viewDate),a=b.getUTCFullYear(),c=b.getUTCMonth(),d=b.getUTCDate(),b=b.getUTCHours();switch(this.viewMode){case 0:-Infinity!==this.startDate&&
a<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()&&b<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.endDate&&a>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()&&b>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;
case 1:-Infinity!==this.startDate&&a<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.endDate&&a>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:-Infinity!==this.startDate&&
a<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.endDate&&a>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:-Infinity!==this.startDate&&a<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):
this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.endDate&&a>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(b){b.preventDefault();b.stopPropagation();this.wheelPause||(this.wheelPause=!0,b=b.originalEvent.wheelDelta,b=0<b?1:0===b?0:-1,this.wheelViewModeNavigationInverseDirection&&(b=-b),this.showMode(b),setTimeout(g.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay))},
click:function(f){f.stopPropagation();f.preventDefault();f=g(f.target).closest("span, td, th, legend");if(1==f.length)if(f.is(".disabled"))this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});else switch(f[0].nodeName.toLowerCase()){case "th":switch(f[0].className){case "switch":this.showMode(1);break;case "prev":case "next":f=b.modes[this.viewMode].navStep*("prev"==f[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,
f);break;case 1:this.viewDate=this.moveDate(this.viewDate,f);break;case 2:this.viewDate=this.moveMonth(this.viewDate,f);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,f)}this.fill();break;case "today":f=new Date,f=k(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),0),f<this.startDate?f=this.startDate:f>this.endDate&&(f=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(f),this.fill(),this.autoclose&&this.hide()}break;case "span":if(!f.is(".disabled")){var a=
this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth(),d=this.viewDate.getUTCDate(),e=this.viewDate.getUTCHours(),l=this.viewDate.getUTCMinutes(),r=this.viewDate.getUTCSeconds();if(f.is(".month"))this.viewDate.setUTCDate(1),c=f.parent().find("span").index(f),d=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(c),this.element.trigger({type:"changeMonth",date:this.viewDate}),3<=this.viewSelect&&this._setDate(k(a,c,d,e,l,r,0));else if(f.is(".year"))this.viewDate.setUTCDate(1),a=parseInt(f.text(),
10)||0,this.viewDate.setUTCFullYear(a),this.element.trigger({type:"changeYear",date:this.viewDate}),4<=this.viewSelect&&this._setDate(k(a,c,d,e,l,r,0));else if(f.is(".hour")){e=parseInt(f.text(),10)||0;if(f.hasClass("hour_am")||f.hasClass("hour_pm"))12==e&&f.hasClass("hour_am")?e=0:12!=e&&f.hasClass("hour_pm")&&(e+=12);this.viewDate.setUTCHours(e);this.element.trigger({type:"changeHour",date:this.viewDate});1<=this.viewSelect&&this._setDate(k(a,c,d,e,l,r,0))}else f.is(".minute")&&(l=parseInt(f.text().substr(f.text().indexOf(":")+
1),10)||0,this.viewDate.setUTCMinutes(l),this.element.trigger({type:"changeMinute",date:this.viewDate}),0<=this.viewSelect&&this._setDate(k(a,c,d,e,l,r,0)));0!=this.viewMode?(f=this.viewMode,this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()):(this.fill(),this.autoclose&&this.hide())}break;case "td":f.is(".day")&&!f.is(".disabled")&&(d=parseInt(f.text(),10)||1,a=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth(),e=this.viewDate.getUTCHours(),l=this.viewDate.getUTCMinutes(),
r=this.viewDate.getUTCSeconds(),f.is(".old")?0===c?(c=11,a-=1):c-=1:f.is(".new")&&(11==c?(c=0,a+=1):c+=1),this.viewDate.setUTCFullYear(a),this.viewDate.setUTCMonth(c,d),this.element.trigger({type:"changeDay",date:this.viewDate}),2<=this.viewSelect&&this._setDate(k(a,c,d,e,l,r,0))),f=this.viewMode,this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}},_setDate:function(b,a){a&&"date"!=a||(this.date=b);a&&"view"!=a||(this.viewDate=b);this.fill();this.setValue();var c;this.isInput?
c=this.element:this.component&&(c=this.element.find("input"));c&&c.change();this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(b,a){if(!a)return b;var c=new Date(b.valueOf());c.setUTCMinutes(c.getUTCMinutes()+a*this.minuteStep);return c},moveHour:function(b,a){if(!a)return b;var c=new Date(b.valueOf());c.setUTCHours(c.getUTCHours()+a);return c},moveDate:function(b,a){if(!a)return b;var c=new Date(b.valueOf());c.setUTCDate(c.getUTCDate()+a);return c},moveMonth:function(b,
a){if(!a)return b;var c=new Date(b.valueOf()),d=c.getUTCDate(),e=c.getUTCMonth(),g=Math.abs(a),k;a=0<a?1:-1;if(1==g){if(g=-1==a?function(){return c.getUTCMonth()==e}:function(){return c.getUTCMonth()!=k},k=e+a,c.setUTCMonth(k),0>k||11<k)k=(k+12)%12}else{for(var l=0;l<g;l++)c=this.moveMonth(c,a);k=c.getUTCMonth();c.setUTCDate(d);g=function(){return k!=c.getUTCMonth()}}for(;g();)c.setUTCDate(--d),c.setUTCMonth(k);return c},moveYear:function(b,a){return this.moveMonth(b,12*a)},dateWithinRange:function(b){return b>=
this.startDate&&b<=this.endDate},keydown:function(b){if(this.picker.is(":not(:visible)"))27==b.keyCode&&this.show();else{var a=!1,c,d,e;switch(b.keyCode){case 27:this.hide();b.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;c=37==b.keyCode?-1:1;viewMode=this.viewMode;b.ctrlKey?viewMode+=2:b.shiftKey&&(viewMode+=1);4==viewMode?(d=this.moveYear(this.date,c),e=this.moveYear(this.viewDate,c)):3==viewMode?(d=this.moveMonth(this.date,c),e=this.moveMonth(this.viewDate,c)):2==viewMode?
(d=this.moveDate(this.date,c),e=this.moveDate(this.viewDate,c)):1==viewMode?(d=this.moveHour(this.date,c),e=this.moveHour(this.viewDate,c)):0==viewMode&&(d=this.moveMinute(this.date,c),e=this.moveMinute(this.viewDate,c));this.dateWithinRange(d)&&(this.date=d,this.viewDate=e,this.setValue(),this.update(),b.preventDefault(),a=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;c=38==b.keyCode?-1:1;viewMode=this.viewMode;b.ctrlKey?viewMode+=2:b.shiftKey&&(viewMode+=1);4==viewMode?(d=this.moveYear(this.date,
c),e=this.moveYear(this.viewDate,c)):3==viewMode?(d=this.moveMonth(this.date,c),e=this.moveMonth(this.viewDate,c)):2==viewMode?(d=this.moveDate(this.date,7*c),e=this.moveDate(this.viewDate,7*c)):1==viewMode?this.showMeridian?(d=this.moveHour(this.date,6*c),e=this.moveHour(this.viewDate,6*c)):(d=this.moveHour(this.date,4*c),e=this.moveHour(this.viewDate,4*c)):0==viewMode&&(d=this.moveMinute(this.date,4*c),e=this.moveMinute(this.viewDate,4*c));this.dateWithinRange(d)&&(this.date=d,this.viewDate=e,this.setValue(),
this.update(),b.preventDefault(),a=!0);break;case 13:0!=this.viewMode?(c=this.viewMode,this.showMode(-1),this.fill(),c==this.viewMode&&this.autoclose&&this.hide()):(this.fill(),this.autoclose&&this.hide());b.preventDefault();break;case 9:this.hide()}if(a){var g;this.isInput?g=this.element:this.component&&(g=this.element.find("input"));g&&g.change();this.element.trigger({type:"changeDate",date:this.date})}}},showMode:function(f){f&&(f=Math.max(0,Math.min(b.modes.length-1,this.viewMode+f)),f>=this.minView&&
f<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:f}),this.viewMode=f));this.picker.find("\x3ediv").hide().filter(".datetimepicker-"+b.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(b){this._setDate(null,"date")}};g.fn.datetimepicker=function(b){var a=Array.apply(null,arguments);a.shift();var c;this.each(function(){var d=g(this),e=d.data("datetimepicker"),k="object"==typeof b&&b;e||d.data("datetimepicker",
e=new l(this,g.extend({},g.fn.datetimepicker.defaults,k)));if("string"==typeof b&&"function"==typeof e[b]&&(c=e[b].apply(e,a),void 0!==c))return!1});return void 0!==c?c:this};g.fn.datetimepicker.defaults={};g.fn.datetimepicker.Constructor=l;var e=g.fn.datetimepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),
monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},b={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(b){return 0===b%4&&0!==b%100||0===b%400},getDaysInMonth:function(f,a){return[31,b.isLeapYear(f)?29:28,31,30,
31,30,31,31,30,31,30,31][a]},getDefaultFormat:function(b,a){if("standard"==b)return"input"==a?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==b)return"input"==a?"Y-m-d H:i":"Y-m-d H:i:s";throw Error("Invalid format type.");},validParts:function(b){if("standard"==b)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==b)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw Error("Invalid format type.");},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(b,a){var c=b.replace(this.validParts(a),
"\x00").split("\x00"),d=b.match(this.validParts(a));if(!c||!c.length||!d||0==d.length)throw Error("Invalid date format.");return{separators:c,parts:d}},parseDate:function(b,a,c,d){if(b instanceof Date)return b=new Date(b.valueOf()-6E4*b.getTimezoneOffset()),b.setMilliseconds(0),b;/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(b)&&(a=this.parseFormat("yyyy-mm-dd",d));/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(b)&&(a=this.parseFormat("yyyy-mm-dd hh:ii",d));/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(b)&&
(a=this.parseFormat("yyyy-mm-dd hh:ii:ss",d));if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(b)){a=/([-+]\d+)([dmwy])/;var h=b.match(/([-+]\d+)([dmwy])/g);b=new Date;for(var n=0;n<h.length;n++)switch(d=a.exec(h[n]),c=parseInt(d[1]),d[2]){case "d":b.setUTCDate(b.getUTCDate()+c);break;case "m":b=l.prototype.moveMonth.call(l.prototype,b,c);break;case "w":b.setUTCDate(b.getUTCDate()+7*c);break;case "y":b=l.prototype.moveYear.call(l.prototype,b,c)}return k(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),
b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),0)}h=b&&b.match(this.nonpunctuation)||[];b=new Date(0,0,0,0,0,0,0);var r={},t="hh h ii i ss s yyyy yy M MM m mm D DD d dd H HH p P".split(" "),p={hh:function(a,b){return a.setUTCHours(b)},h:function(a,b){return a.setUTCHours(b)},HH:function(a,b){return a.setUTCHours(12==b?0:b)},H:function(a,b){return a.setUTCHours(12==b?0:b)},ii:function(a,b){return a.setUTCMinutes(b)},i:function(a,b){return a.setUTCMinutes(b)},ss:function(a,b){return a.setUTCSeconds(b)},
s:function(a,b){return a.setUTCSeconds(b)},yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){for(b-=1;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!=b&&!isNaN(a.getUTCMonth());)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)},p:function(a,b){return a.setUTCHours(1==b?a.getUTCHours()+12:a.getUTCHours())}},w;p.M=p.MM=p.mm=p.m;p.dd=p.d;p.P=p.p;b=k(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),
b.getMinutes(),b.getSeconds());if(h.length==a.parts.length){for(var n=0,C=a.parts.length;n<C;n++){w=parseInt(h[n],10);d=a.parts[n];if(isNaN(w))switch(d){case "MM":w=g(e[c].months).filter(function(){var a=this.slice(0,h[n].length),b=h[n].slice(0,a.length);return a==b});w=g.inArray(w[0],e[c].months)+1;break;case "M":w=g(e[c].monthsShort).filter(function(){var a=this.slice(0,h[n].length),b=h[n].slice(0,a.length);return a.toLowerCase()==b.toLowerCase()});w=g.inArray(w[0],e[c].monthsShort)+1;break;case "p":case "P":w=
g.inArray(h[n].toLowerCase(),e[c].meridiem)}r[d]=w}for(n=0;n<t.length;n++)if(d=t[n],d in r&&!isNaN(r[d]))p[d](b,r[d])}return b},formatDate:function(f,a,c,d){if(null==f)return"";if("standard"==d)d={yy:f.getUTCFullYear().toString().substring(2),yyyy:f.getUTCFullYear(),m:f.getUTCMonth()+1,M:e[c].monthsShort[f.getUTCMonth()],MM:e[c].months[f.getUTCMonth()],d:f.getUTCDate(),D:e[c].daysShort[f.getUTCDay()],DD:e[c].days[f.getUTCDay()],p:2==e[c].meridiem.length?e[c].meridiem[12>f.getUTCHours()?0:1]:"",h:f.getUTCHours(),
i:f.getUTCMinutes(),s:f.getUTCSeconds()},d.H=2==e[c].meridiem.length?0==d.h%12?12:d.h%12:d.h,d.HH=(10>d.H?"0":"")+d.H,d.P=d.p.toUpperCase(),d.hh=(10>d.h?"0":"")+d.h,d.ii=(10>d.i?"0":"")+d.i,d.ss=(10>d.s?"0":"")+d.s,d.dd=(10>d.d?"0":"")+d.d,d.mm=(10>d.m?"0":"")+d.m;else if("php"==d)d={y:f.getUTCFullYear().toString().substring(2),Y:f.getUTCFullYear(),F:e[c].months[f.getUTCMonth()],M:e[c].monthsShort[f.getUTCMonth()],n:f.getUTCMonth()+1,t:b.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),j:f.getUTCDate(),
l:e[c].days[f.getUTCDay()],D:e[c].daysShort[f.getUTCDay()],w:f.getUTCDay(),N:0==f.getUTCDay()?7:f.getUTCDay(),S:f.getUTCDate()%10<=e[c].suffix.length?e[c].suffix[f.getUTCDate()%10-1]:"",a:2==e[c].meridiem.length?e[c].meridiem[12>f.getUTCHours()?0:1]:"",g:0==f.getUTCHours()%12?12:f.getUTCHours()%12,G:f.getUTCHours(),i:f.getUTCMinutes(),s:f.getUTCSeconds()},d.m=(10>d.n?"0":"")+d.n,d.d=(10>d.j?"0":"")+d.j,d.A=d.a.toString().toUpperCase(),d.h=(10>d.g?"0":"")+d.g,d.H=(10>d.G?"0":"")+d.G,d.i=(10>d.i?"0":
"")+d.i,d.s=(10>d.s?"0":"")+d.s;else throw Error("Invalid format type.");f=[];c=g.extend([],a.separators);for(var h=0,k=a.parts.length;h<k;h++)c.length&&f.push(c.shift()),f.push(d[a.parts[h]]);c.length&&f.push(c.shift());return f.join("")},convertViewMode:function(b){switch(b){case 4:case "decade":b=4;break;case 3:case "year":b=3;break;case 2:case "month":b=2;break;case 1:case "day":b=1;break;case 0:case "hour":b=0}return b},headTemplate:'\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"prev"\x3e\x3ci class\x3d"icon-arrow-left"/\x3e\x3c/th\x3e\x3cth colspan\x3d"5" class\x3d"switch"\x3e\x3c/th\x3e\x3cth class\x3d"next"\x3e\x3ci class\x3d"icon-arrow-right"/\x3e\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e',
headTemplateV3:'\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"prev"\x3e\x3ci class\x3d"glyphicon glyphicon-arrow-left"\x3e\x3c/i\x3e \x3c/th\x3e\x3cth colspan\x3d"5" class\x3d"switch"\x3e\x3c/th\x3e\x3cth class\x3d"next"\x3e\x3ci class\x3d"glyphicon glyphicon-arrow-right"\x3e\x3c/i\x3e \x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e',contTemplate:'\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d"7"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e',footTemplate:'\x3ctfoot\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"today"\x3e\x3c/th\x3e\x3c/tr\x3e\x3c/tfoot\x3e'};
b.template='\x3cdiv class\x3d"datetimepicker"\x3e\x3cdiv class\x3d"datetimepicker-minutes"\x3e\x3ctable class\x3d" table-condensed"\x3e'+b.headTemplate+b.contTemplate+b.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-hours"\x3e\x3ctable class\x3d" table-condensed"\x3e'+b.headTemplate+b.contTemplate+b.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-days"\x3e\x3ctable class\x3d" table-condensed"\x3e'+b.headTemplate+"\x3ctbody\x3e\x3c/tbody\x3e"+b.footTemplate+
'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-months"\x3e\x3ctable class\x3d"table-condensed"\x3e'+b.headTemplate+b.contTemplate+b.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-years"\x3e\x3ctable class\x3d"table-condensed"\x3e'+b.headTemplate+b.contTemplate+b.footTemplate+"\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e";b.templateV3='\x3cdiv class\x3d"datetimepicker"\x3e\x3cdiv class\x3d"datetimepicker-minutes"\x3e\x3ctable class\x3d" table-condensed"\x3e'+b.headTemplateV3+
b.contTemplate+b.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-hours"\x3e\x3ctable class\x3d" table-condensed"\x3e'+b.headTemplateV3+b.contTemplate+b.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-days"\x3e\x3ctable class\x3d" table-condensed"\x3e'+b.headTemplateV3+"\x3ctbody\x3e\x3c/tbody\x3e"+b.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-months"\x3e\x3ctable class\x3d"table-condensed"\x3e'+b.headTemplateV3+b.contTemplate+
b.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datetimepicker-years"\x3e\x3ctable class\x3d"table-condensed"\x3e'+b.headTemplateV3+b.contTemplate+b.footTemplate+"\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e";g.fn.datetimepicker.DPGlobal=b;g.fn.datetimepicker.noConflict=function(){g.fn.datetimepicker=old;return this};g(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide\x3d"datetimepicker"]',function(b){var a=g(this);a.data("datetimepicker")||(b.preventDefault(),
a.datetimepicker("show"))});g(function(){g('[data-provide\x3d"datetimepicker-inline"]').datetimepicker()})}(window.jQuery);
(function(g){g.fn.datetimepicker.dates.de={days:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag Sonntag".split(" "),daysShort:"Son Mon Die Mit Don Fre Sam Son".split(" "),daysMin:"So Mo Di Mi Do Fr Sa So".split(" "),months:"Januar Februar März April Mai Juni Juli August September Oktober November Dezember".split(" "),monthsShort:"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),today:"Heute",suffix:[],meridiem:[],weekStart:1,format:"dd.mm.yyyy"}})(jQuery);
var Mustache=function(){var g=function(){};g.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0,"TRANSLATION-HINT":!0},context:{},render:function(g,l,e,b){b||(this.context=l,this.buffer=[]);if(this.includes("",g)){this.pragmas["TRANSLATION-HINT"]&&(l._mode=this.pragmas["TRANSLATION-HINT"].mode);g=this.render_pragmas(g);g=this.render_i18n(g,l,e);var f=this.render_section(g,l,e);if(f===g){if(b)return this.render_tags(f,l,e,!0);this.render_tags(f,l,e,!1)}else{if(b)return f;
g=f.split("\n");for(l=0;l<g.length;l++)this.send(g[l])}}else{if(b)return g;this.send(g)}},send:function(g){""!=g&&this.buffer.push(g)},render_pragmas:function(g){if(!this.includes("%",g))return g;var l=this;return g.replace(RegExp(this.otag+"%([\\w-]+) ?([\\w]+\x3d[\\w]+)?"+this.ctag),function(e,b,f){if(!l.pragmas_implemented[b])throw{message:"This implementation of mustache doesn't understand the '"+b+"' pragma"};l.pragmas[b]={};f&&(e=f.split("\x3d"),l.pragmas[b][e[0]]=e[1]);return""})},render_partial:function(g,
l,e){g=this.trim(g);if(!e||void 0===e[g])throw{message:"unknown_partial '"+g+"'"};return"object"!=typeof l[g]?this.render(e[g],l,e,!0):this.render(e[g],l[g],e,!0)},render_i18n:function(g,l,e){if(-1==g.indexOf(this.otag+"_i"))return g;var b=this;return g.replace(RegExp(this.otag+"\\_i"+this.ctag+"\\s*([\\s\\S]+?)"+this.otag+"\\/i"+this.ctag,"mg"),function(f,a){var c=void 0;b.pragmas&&b.pragmas["TRANSLATION-HINT"]&&b.pragmas["TRANSLATION-HINT"].mode?c={_mode:b.pragmas["TRANSLATION-HINT"].mode}:l._mode&&
(c={_mode:l._mode});return b.render(_(a,c),l,e,!0)})},render_section:function(g,l,e){if(!this.includes("#",g)&&!this.includes("^",g))return g;var b=this;return g.replace(RegExp("^([\\s\\S]*?)"+this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]*?)"+this.otag+"\\/\\s*\\3\\s*"+this.ctag+"\\s*([\\s\\S]*)$","g"),function(f,a,c,d,g,k){f=a?b.render_tags(a,l,e,!0):"";k=k?b.render(k,l,e,!0):"";d=b.find(d,l);if("^"==c)return!d||b.is_array(d)&&0===d.length?f+b.render(g,l,e,!0)+k:f+""+k;if("#"==c)return b.is_array(d)?
f+b.map(d,function(a){return b.render(g,b.create_context(a),e,!0)}).join("")+k:b.is_object(d)?f+b.render(g,b.create_context(d),e,!0)+k:"function"===typeof d?f+d.call(l,g,function(a){return b.render(a,l,e,!0)})+k:d?f+b.render(g,l,e,!0)+k:f+""+k})},render_tags:function(g,l,e,b){var f=this,a=function(){return RegExp(f.otag+"(\x3d|!|\x3e|\\{|%)?([^\\/#\\^]+?)\\1?"+f.ctag+"+","g")},c=a(),d=function(b,d,g){switch(d){case "!":return"";case "\x3d":return f.set_delimiters(g),c=a(),"";case "\x3e":return f.render_partial(g,
l,e);case "{":return f.find(g,l);default:return f.escape(f.find(g,l))}};g=g.split("\n");for(var h=0;h<g.length;h++)g[h]=g[h].replace(c,d,this),b||this.send(g[h]);if(b)return g.join("\n")},set_delimiters:function(g){g=g.split(" ");this.otag=this.escape_regex(g[0]);this.ctag=this.escape_regex(g[1])},escape_regex:function(g){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"));return g.replace(arguments.callee.sRE,"\\$1")},find:function(g,
l){g=this.trim(g);var e;if(!1===l[g]||0===l[g]||l[g])e=l[g];else if(!1===this.context[g]||0===this.context[g]||this.context[g])e=this.context[g];return"function"===typeof e?e.apply(l):void 0!==e?e:""},includes:function(g,l){return-1!=l.indexOf(this.otag+g)},escape:function(g){g=String(null===g?"":g);return g.replace(/&(?!\w+;)|["'<>\\]/g,function(g){switch(g){case "\x26":return"\x26amp;";case "\\":return"\\\\";case '"':return"\x26quot;";case "'":return"\x26#39;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";
default:return g}})},create_context:function(g){if(this.is_object(g))return g;var l=".";this.pragmas["IMPLICIT-ITERATOR"]&&(l=this.pragmas["IMPLICIT-ITERATOR"].iterator);var e={};e[l]=g;return e},is_object:function(g){return g&&"object"==typeof g},is_array:function(g){return"[object Array]"===Object.prototype.toString.call(g)},trim:function(g){return g.replace(/^\s*|\s*$/g,"")},map:function(g,l){if("function"==typeof g.map)return g.map(l);for(var e=[],b=g.length,f=0;f<b;f++)e.push(l(g[f]));return e}};
return{name:"mustache.js",version:"0.3.1-dev-twitter",to_html:function(k,l,e,b){var f=new g;b&&(f.send=b);f.render(k,l||{},e);if(!b)return f.buffer.join("\n")}}}();
(function(g){function k(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw Error("Implement me");}}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){!1===m.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function b(a,b){var c=!0;return n(function(){c&&
(e(a),c=!1);return b.apply(this,arguments)},b)}function f(a,b){return function(c){return p(a.call(this,c),b)}}function a(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function c(){}function d(a,b){!1!==b&&ea(a);r(this,a);this._d=new Date(+a._d);!1===za&&(za=!0,m.updateOffset(this),za=!1)}function h(a){a=ba(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=
+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=m.localeData();this._bubble()}function n(a,b){for(var c in b)na.call(b,c)&&(a[c]=b[c]);na.call(b,"toString")&&(a.toString=b.toString);na.call(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function r(a,b){var c,d,e;"undefined"!==typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject);"undefined"!==typeof b._i&&(a._i=b._i);"undefined"!==typeof b._f&&(a._f=b._f);"undefined"!==typeof b._l&&(a._l=b._l);"undefined"!==typeof b._strict&&
(a._strict=b._strict);"undefined"!==typeof b._tzm&&(a._tzm=b._tzm);"undefined"!==typeof b._isUTC&&(a._isUTC=b._isUTC);"undefined"!==typeof b._offset&&(a._offset=b._offset);"undefined"!==typeof b._pf&&(a._pf=b._pf);"undefined"!==typeof b._locale&&(a._locale=b._locale);if(0<ya.length)for(c in ya)d=ya[c],e=b[d],"undefined"!==typeof e&&(a[d]=e);return a}function t(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=""+Math.abs(a);d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function w(a,
b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function C(a,b){var c;b=ga(b,a);a.isBefore(b)?c=w(a,b):(c=w(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months);return c}function B(a,b){return function(c,d){var f;null===d||isNaN(+d)||(Ia[b]||(e("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),Ia[b]=!0),f=c,c=
d,d=f);f=m.duration("string"===typeof c?+c:c,d);z(this,f,a);return this}}function z(a,b,c,d){var e=b._milliseconds,f=b._days;b=b._months;d=null==d?!0:d;e&&a._d.setTime(+a._d+e*c);f&&Q(a,"Date",R(a,"Date")+f*c);b&&v(a,R(a,"Month")+b*c);d&&m.updateOffset(a,f||b)}function x(a){return"[object Array]"===Object.prototype.toString.call(a)}function O(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function F(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),
f=0,g;for(g=0;g<d;g++)(c&&a[g]!==b[g]||!c&&I(a[g])!==I(b[g]))&&f++;return f+e}function u(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Ua[a]||Va[b]||b}return a}function ba(a){var b={},c,d;for(d in a)na.call(a,d)&&(c=u(d))&&(b[c]=a[d]);return b}function V(a){var b,c;if(0===a.indexOf("week"))b=7,c="day";else if(0===a.indexOf("month"))b=12,c="month";else return;m[a]=function(d,f){var e,h,k=m._locale[a],l=[];"number"===typeof d&&(f=d,d=g);h=function(a){a=m().utc().set(c,a);return k.call(m._locale,
a,d||"")};if(null!=f)return h(f);for(e=0;e<b;e++)l.push(h(e));return l}}function I(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a));return b}function X(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function wa(a,b,c){return K(m([a,11,31+b-c]),b,c).week}function ia(a){return 0===a%4&&0!==a%100||0===a%400}function ea(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[da]||11<a._a[da]?da:1>a._a[$]||a._a[$]>X(a._a[ca],a._a[da])?$:0>a._a[W]||24<a._a[W]||24===a._a[W]&&(0!==a._a[oa]||
0!==a._a[pa]||0!==a._a[qa])?W:0>a._a[oa]||59<a._a[oa]?oa:0>a._a[pa]||59<a._a[pa]?pa:0>a._a[qa]||999<a._a[qa]?qa:-1,a._pf._overflowDayOfYear&&(b<ca||b>$)&&(b=$),a._pf.overflow=b)}function Z(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&a._pf.bigHour===g));return a._isValid}function va(a){var b=
null;if(!ra[a]&&Ha)try{b=m.locale(),require("./locale/"+a),m.locale(b)}catch(c){}return ra[a]}function ga(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(m.isMoment(a)||O(a)?+a:+m(a))-+c,c._d.setTime(+c._d+d),m.updateOffset(c,!1),c):m(a).local()}function ua(a){var b=a.match(Fa),c,d;c=0;for(d=b.length;c<d;c++)b[c]=fa[b[c]]?fa[b[c]]:b[c].match(/\[[\s\S]/)?b[c].replace(/^\[|\]$/g,""):b[c].replace(/\\/g,"");return function(e){var f="";for(c=0;c<d;c++)f+=b[c]instanceof Function?b[c].call(e,a):b[c];return f}}
function ha(a,b){if(!a.isValid())return a.localeData().invalidDate();b=ja(b,a.localeData());Aa[b]||(Aa[b]=ua(b));return Aa[b](a)}function ja(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(xa.lastIndex=0;0<=d&&xa.test(a);)a=a.replace(xa,c),xa.lastIndex=0,d-=1;return a}function aa(a,b){var c=b._strict;switch(a){case "Q":return Ja;case "DDDD":return Ka;case "YYYY":case "GGGG":case "gggg":return c?Wa:Xa;case "Y":case "G":case "g":return Ya;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?
Za:$a;case "S":if(c)return Ja;case "SS":if(c)return La;case "SSS":if(c)return Ka;case "DDD":return Ta;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return ab;case "a":case "A":return b._locale._meridiemParse;case "x":return bb;case "X":return cb;case "Z":case "ZZ":return Ba;case "T":return db;case "SSSS":return eb;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?La:Ga;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return Ga;
case "Do":return c?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:var c=RegExp,d;d=sa(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26");return new c(d)}}function M(a){a=(a||"").match(Ba)||[];a=((a[a.length-1]||[])+"").match(fb)||["-",0,0];var b=+(60*a[1])+I(a[2]);return"+"===a[0]?b:-b}function T(a){var b,c,d=[],f;if(!a._d){f=new Date;f=a._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()];if(a._w&&null==a._a[$]&&null==
a._a[da]){var e,g,h;e=a._w;null!=e.GG||null!=e.W||null!=e.E?(b=1,h=4,c=k(e.GG,a._a[ca],K(m(),1,4).year),g=k(e.W,1),e=k(e.E,1)):(b=a._locale._week.dow,h=a._locale._week.doy,c=k(e.gg,a._a[ca],K(m(),b,h).year),g=k(e.w,1),null!=e.d?(e=e.d,e<b&&++g):e=null!=e.e?e.e+b:b);var l=N(c,0,1).getUTCDay(),l=0===l?7:l;h=7*(g-1)+((null!=e?e:b)-b)+(b-l+(l>h?7:0)-(l<b?7:0))+1;b=0<h?c:c-1;c=0<h?h:(ia(c-1)?366:365)+h;a._a[ca]=b;a._dayOfYear=c}a._dayOfYear&&(c=k(a._a[ca],f[ca]),a._dayOfYear>(ia(c)?366:365)&&(a._pf._overflowDayOfYear=
!0),c=N(c,0,a._dayOfYear),a._a[da]=c.getUTCMonth(),a._a[$]=c.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=d[c]=f[c];for(;7>c;c++)a._a[c]=d[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[W]&&0===a._a[oa]&&0===a._a[pa]&&0===a._a[qa]&&(a._nextDay=!0,a._a[W]=0);a._d=(a._useUTC?N:U).apply(null,d);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[W]=24)}}function ka(a){var b;a._d||(b=ba(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],
T(a))}function D(a){if(a._f===m.ISO_8601)Y(a);else{a._a=[];a._pf.empty=!0;var b=""+a._i,c,d,e,f,h,k=b.length,l=0;e=ja(a._f,a._locale).match(Fa)||[];for(c=0;c<e.length;c++){f=e[c];if(d=(b.match(aa(f,a))||[])[0])h=b.substr(0,b.indexOf(d)),0<h.length&&a._pf.unusedInput.push(h),b=b.slice(b.indexOf(d)+d.length),l+=d.length;if(fa[f]){d?a._pf.empty=!1:a._pf.unusedTokens.push(f);h=a;var s=void 0,n=h._a;switch(f){case "Q":null!=d&&(n[da]=3*(I(d)-1));break;case "M":case "MM":null!=d&&(n[da]=I(d)-1);break;case "MMM":case "MMMM":s=
h._locale.monthsParse(d,f,h._strict);null!=s?n[da]=s:h._pf.invalidMonth=d;break;case "D":case "DD":null!=d&&(n[$]=I(d));break;case "Do":null!=d&&(n[$]=I(parseInt(d.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=d&&(h._dayOfYear=I(d));break;case "YY":n[ca]=m.parseTwoDigitYear(d);break;case "YYYY":case "YYYYY":case "YYYYYY":n[ca]=I(d);break;case "a":case "A":h._meridiem=d;break;case "h":case "hh":h._pf.bigHour=!0;case "H":case "HH":n[W]=I(d);break;case "m":case "mm":n[oa]=I(d);break;case "s":case "ss":n[pa]=
I(d);break;case "S":case "SS":case "SSS":case "SSSS":n[qa]=I(1E3*("0."+d));break;case "x":h._d=new Date(I(d));break;case "X":h._d=new Date(1E3*parseFloat(d));break;case "Z":case "ZZ":h._useUTC=!0;h._tzm=M(d);break;case "dd":case "ddd":case "dddd":s=h._locale.weekdaysParse(d);null!=s?(h._w=h._w||{},h._w.d=s):h._pf.invalidWeekday=d;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":f=f.substr(0,1);case "gggg":case "GGGG":case "GGGGG":f=f.substr(0,2);d&&(h._w=h._w||{},h._w[f]=I(d));
break;case "gg":case "GG":h._w=h._w||{},h._w[f]=m.parseTwoDigitYear(d)}}else a._strict&&!d&&a._pf.unusedTokens.push(f)}a._pf.charsLeftOver=k-l;0<b.length&&a._pf.unusedInput.push(b);!0===a._pf.bigHour&&12>=a._a[W]&&(a._pf.bigHour=g);b=a._a;c=W;k=a._locale;e=a._a[W];l=a._meridiem;null!=l&&(null!=k.meridiemHour?e=k.meridiemHour(e,l):null!=k.isPM&&((k=k.isPM(l))&&12>e&&(e+=12),k||12!==e||(e=0)));b[c]=e;T(a);ea(a)}}function sa(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,
e){return b||c||d||e})}function Y(a){var b,c,d=a._i,e=gb.exec(d);if(e){a._pf.iso=!0;b=0;for(c=Ca.length;b<c;b++)if(Ca[b][1].exec(d)){a._f=Ca[b][0]+(e[6]||" ");break}b=0;for(c=Da.length;b<c;b++)if(Da[b][1].exec(d)){a._f+=Da[b][0];break}d.match(Ba)&&(a._f+="Z");D(a)}else a._isValid=!1}function H(a){Y(a);!1===a._isValid&&(delete a._isValid,m.createFromInputFallback(a))}function q(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function E(a){var b=a._i,c;b===g?a._d=new Date:O(b)?a._d=
new Date(+b):null!==(c=Qa.exec(b))?a._d=new Date(+c[1]):"string"===typeof b?H(a):x(b)?(a._a=q(b.slice(0),function(a){return parseInt(a,10)}),T(a)):"object"===typeof b?ka(a):"number"===typeof b?a._d=new Date(b):m.createFromInputFallback(a)}function U(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);1970>a&&b.setFullYear(a);return b}function N(a){var b=new Date(Date.UTC.apply(null,arguments));1970>a&&b.setUTCFullYear(a);return b}function s(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function K(a,b,c){b=
c-b;c-=a.day();c>b&&(c-=7);c<b-7&&(c+=7);a=m(a).add(c,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function P(a){var b=a._i,c=a._f;a._locale=a._locale||m.localeData(a._l);if(null===b||c===g&&""===b)return m.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=a._locale.preparse(b));if(m.isMoment(b))return new d(b,!0);if(c)if(x(c)){var e,f,h;if(0===a._f.length)a._pf.invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)if(c=0,e=r({},a),null!=a._useUTC&&(e._useUTC=a._useUTC),
e._pf=l(),e._f=a._f[b],D(e),Z(e)&&(c+=e._pf.charsLeftOver,c+=10*e._pf.unusedTokens.length,e._pf.score=c,null==h||c<h))h=c,f=e;n(a,f||e)}}else D(a);else E(a);a=new d(a);a._nextDay&&(a.add(1,"d"),a._nextDay=g);return a}function J(a,b){var c,d;1===b.length&&x(b[0])&&(b=b[0]);if(!b.length)return m();c=b[0];for(d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function v(a,b){var c;if("string"===typeof b&&(b=a.localeData().monthsParse(b),"number"!==typeof b))return a;c=Math.min(a.date(),X(a.year(),b));
a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function R(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function Q(a,b,c){return"Month"===b?v(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function A(a,b){return function(c){return null!=c?(Q(this,a,c),m.updateOffset(this,b),this):R(this,a)}}function G(a){m.duration.fn[a]=function(){return this._data[a]}}function y(a){"undefined"===typeof ender&&(Ea=ta.moment,ta.moment=a?b("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",
m):m)}for(var m,ta="undefined"===typeof global||"undefined"!==typeof window&&window!==global.window?this:global,Ea,ma=Math.round,na=Object.prototype.hasOwnProperty,S,ca=0,da=1,$=2,W=3,oa=4,pa=5,qa=6,ra={},ya=[],Ha="undefined"!==typeof module&&module&&module.exports,Qa=/^\/?Date\((\-?\d+)/i,Ra=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Sa=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Fa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
xa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ga=/\d\d?/,Ta=/\d{1,3}/,Xa=/\d{1,4}/,$a=/[+\-]?\d{1,6}/,eb=/\d+/,ab=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ba=/Z|[\+\-]\d\d:?\d\d/gi,db=/T/i,bb=/[\+\-]?\d+/,cb=/[\+\-]?\d+(\.\d{1,3})?/,Ja=/\d/,La=/\d\d/,Ka=/\d{3}/,Wa=/\d{4}/,Za=/[+-]?\d{6}/,Ya=/[+-]?\d+/,gb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
Ca=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Da=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],fb=/([\+\-]|\d\d)/gi,Ma={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Ua={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Va={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Aa={},la={s:45,m:45,h:22,d:26,M:11},Na="DDD w W M D d".split(" "),Oa="MDHhmswW".split(""),fa={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":
"-")+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),
this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return I(this.milliseconds()/100)},SS:function(){return p(I(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";0>a&&(a=-a,b="-");return b+p(I(a/60),2)+":"+p(I(a)%60,2)},ZZ:function(){var a=this.utcOffset(),
b="+";0>a&&(a=-a,b="-");return b+p(I(a/60),2)+p(I(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Ia={},Pa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],za=!1;Na.length;)S=Na.pop(),fa[S+"o"]=a(fa[S],S);for(;Oa.length;)S=Oa.pop(),fa[S+S]=f(fa[S],2);fa.DDDD=f(fa.DDD,3);n(c.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"===
typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=
[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(e=m.utc([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d},
_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=m([2E3,1]).day(b),
c="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),
this._longDateFormat[a]=b);return b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){a=this._calendar[a];return"function"===typeof a?a.apply(b,[c]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"===typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"===typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return K(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});m=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=g);e={_isAMomentObject:!0};e._i=a;e._f=b;e._l=c;e._strict=d;e._isUTC=!1;e._pf=l();return P(e)};m.suppressDeprecationWarnings=!1;m.createFromInputFallback=b("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});m.min=function(){var a=[].slice.call(arguments,0);return J("isBefore",a)};m.max=function(){var a=[].slice.call(arguments,0);return J("isAfter",a)};m.utc=function(a,b,c,d){var e;"boolean"===typeof c&&(d=c,c=g);e={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};e._l=c;e._i=a;e._f=b;e._strict=d;e._pf=l();return P(e).utc()};m.unix=function(a){return m(1E3*a)};m.duration=function(a,b){var c=a,d=null,e;m.isDuration(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:
"number"===typeof a?(c={},b?c[b]=a:c.milliseconds=a):(d=Ra.exec(a))?(e="-"===d[1]?-1:1,c={y:0,d:I(d[$])*e,h:I(d[W])*e,m:I(d[oa])*e,s:I(d[pa])*e,ms:I(d[qa])*e}):(d=Sa.exec(a))?(e="-"===d[1]?-1:1,c=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*e},c={y:c(d[2]),M:c(d[3]),d:c(d[4]),h:c(d[5]),m:c(d[6]),s:c(d[7]),w:c(d[8])}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(d=C(m(c.from),m(c.to)),c={},c.ms=d.milliseconds,c.M=d.months);c=new h(c);m.isDuration(a)&&na.call(a,
"_locale")&&(c._locale=a._locale);return c};m.version="2.9.0";m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";m.ISO_8601=function(){};m.momentProperties=ya;m.updateOffset=function(){};m.relativeTimeThreshold=function(a,b){if(la[a]===g)return!1;if(b===g)return la[a];la[a]=b;return!0};m.lang=b("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return m.locale(a,b)});m.locale=function(a,b){var c;a&&(c="undefined"!==typeof b?m.defineLocale(a,b):m.localeData(a))&&(m.duration._locale=m._locale=
c);return m._locale._abbr};m.defineLocale=function(a,b){if(null!==b)return b.abbr=a,ra[a]||(ra[a]=new c),ra[a].set(b),m.locale(a),ra[a];delete ra[a];return null};m.langData=b("moment.langData is deprecated. Use moment.localeData instead.",function(a){return m.localeData(a)});m.localeData=function(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return m._locale;if(!x(a)){if(b=va(a))return b;a=[a]}a:{b=0;for(var c,d,e,f;b<a.length;){f=(a[b]?a[b].toLowerCase().replace("_","-"):a[b]).split("-");
c=f.length;for(d=(d=a[b+1]?a[b+1].toLowerCase().replace("_","-"):a[b+1])?d.split("-"):null;0<c;){if(e=va(f.slice(0,c).join("-"))){a=e;break a}if(d&&d.length>=c&&F(f,d,!0)>=c-1)break;c--}b++}a=null}return a};m.isMoment=function(a){return a instanceof d||null!=a&&na.call(a,"_isAMomentObject")};m.isDuration=function(a){return a instanceof h};for(S=Pa.length-1;0<=S;--S)V(Pa[S]);m.normalizeUnits=function(a){return u(a)};m.invalid=function(a){var b=m.utc(NaN);null!=a?n(b._pf,a):b._pf.userInvalidated=!0;
return b};m.parseZone=function(){return m.apply(null,arguments).parseZone()};m.parseTwoDigitYear=function(a){return I(a)+(68<I(a)?1900:2E3)};m.isDate=O;n(m.fn=d.prototype,{clone:function(){return m(this)},valueOf:function(){return+this._d-6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=m(this).utc();
return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():ha(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):ha(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return Z(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<F(this._a,(this._isUTC?m.utc(this._a):m(this._a)).toArray()):!1},parsingFlags:function(){return n({},
this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m"));return this},format:function(a){a=ha(this,a||m.defaultFormat);return this.localeData().postformat(a)},add:B(1,"add"),subtract:B(-1,"subtract"),diff:function(a,b,c){a=ga(a,this);var d=6E4*(a.utcOffset()-this.utcOffset());b=u(b);if("year"===b||"month"===b||"quarter"===b){var d=12*(a.year()-
this.year())+(a.month()-this.month()),e=this.clone().add(d,"months"),f;0>a-e?(f=this.clone().add(d-1,"months"),a=(a-e)/(e-f)):(f=this.clone().add(d+1,"months"),a=(a-e)/(f-e));a=-(d+a);"quarter"===b?a/=3:"year"===b&&(a/=12)}else a=this-a,a="second"===b?a/1E3:"minute"===b?a/6E4:"hour"===b?a/36E5:"day"===b?(a-d)/864E5:"week"===b?(a-d)/6048E5:a;return c?a:t(a)},from:function(a,b){return m.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(m(),a)},calendar:function(a){a=
a||m();var b=ga(a,this).startOf("day"),b=this.diff(b,"days",!0),b=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.localeData().calendar(b,this,m(a)))},isLeapYear:function(){return ia(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var c=this.localeData();
if("string"===typeof a)if(isNaN(a)){if(a=c.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-b,"d")}return b},month:A("Month",!0),startOf:function(a){a=u(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*
Math.floor(this.month()/3));return this},endOf:function(a){a=u(a);return a===g||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){b=u("undefined"!==typeof b?b:"millisecond");return"millisecond"===b?(a=m.isMoment(a)?a:m(a),+this>+a):(m.isMoment(a)?+a:+m(a))<+this.clone().startOf(b)},isBefore:function(a,b){var c;b=u("undefined"!==typeof b?b:"millisecond");if("millisecond"===b)return a=m.isMoment(a)?a:m(a),+this<+a;c=m.isMoment(a)?+a:+m(a);return+this.clone().endOf(b)<
c},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;b=u(b||"millisecond");if("millisecond"===b)return a=m.isMoment(a)?a:m(a),+this===+a;c=+m(a);return+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b)},min:b("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=m.apply(null,arguments);return a<this?this:a}),max:b("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(a){a=m.apply(null,arguments);return a>this?this:a}),zone:b("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c=this._offset||0,d;return null!=a?("string"===typeof a&&(a=M(a)),16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(d=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),c!==a&&
(!b||this._changeInProgress?z(this,m.duration(a-c,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?c:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?this.utcOffset(this._tzm):
"string"===typeof this._i&&this.utcOffset(M(this._i));return this},hasAlignedHourOffset:function(a){a=a?m(a).utcOffset():0;return 0===(this.utcOffset()-a)%60},daysInMonth:function(){return X(this.year(),this.month())},dayOfYear:function(a){var b=ma((m(this).startOf("day")-m(this).startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=K(this,this.localeData()._week.dow,
this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=K(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=K(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%
7?a:a-7)},isoWeeksInYear:function(){return wa(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return wa(this.year(),a.dow,a.doy)},get:function(a){a=u(a);return this[a]()},set:function(a,b){var c;if("object"===typeof a)for(c in a)this.set(c,a[c]);else if(a=u(a),"function"===typeof this[a])this[a](b);return this},locale:function(a){if(a===g)return this._locale._abbr;a=m.localeData(a);null!=a&&(this._locale=a);return this},lang:b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
function(a){return a===g?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}});m.fn.millisecond=m.fn.milliseconds=A("Milliseconds",!1);m.fn.second=m.fn.seconds=A("Seconds",!1);m.fn.minute=m.fn.minutes=A("Minutes",!1);m.fn.hour=m.fn.hours=A("Hours",!0);m.fn.date=A("Date",!0);m.fn.dates=b("dates accessor is deprecated. Use date instead.",A("Date",!0));m.fn.year=A("FullYear",!0);m.fn.years=b("years accessor is deprecated. Use year instead.",
A("FullYear",!0));m.fn.days=m.fn.day;m.fn.months=m.fn.month;m.fn.weeks=m.fn.week;m.fn.isoWeeks=m.fn.isoWeek;m.fn.quarters=m.fn.quarter;m.fn.toJSON=m.fn.toISOString;m.fn.isUTC=m.fn.isUtc;n(m.duration.fn=h.prototype,{_bubble:function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data,e=0;d.milliseconds=a%1E3;a=t(a/1E3);d.seconds=a%60;a=t(a/60);d.minutes=a%60;a=t(a/60);d.hours=a%24;b+=t(a/24);e=t(400*b/146097);b-=t(146097*e/400);c+=t(b/30);b%=30;e+=t(c/12);d.days=b;d.months=c%12;d.years=
e},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return t(this.days()/7)},valueOf:function(){return this._milliseconds+
864E5*this._days+2592E6*(this._months%12)+31536E6*I(this._months/12)},humanize:function(a){var b;b=!a;var c=this.localeData(),d=m.duration(this).abs(),e=ma(d.as("s")),f=ma(d.as("m")),g=ma(d.as("h")),h=ma(d.as("d")),k=ma(d.as("M")),d=ma(d.as("y")),e=e<la.s&&["s",e]||1===f&&["m"]||f<la.m&&["mm",f]||1===g&&["h"]||g<la.h&&["hh",g]||1===h&&["d"]||h<la.d&&["dd",h]||1===k&&["M"]||k<la.M&&["MM",k]||1===d&&["y"]||["yy",d];e[2]=b;e[3]=0<+this;e[4]=c;b=s.apply({},e);a&&(b=this.localeData().pastFuture(+this,
b));return this.localeData().postformat(b)},add:function(a,b){var c=m.duration(a,b);this._milliseconds+=c._milliseconds;this._days+=c._days;this._months+=c._months;this._bubble();return this},subtract:function(a,b){var c=m.duration(a,b);this._milliseconds-=c._milliseconds;this._days-=c._days;this._months-=c._months;this._bubble();return this},get:function(a){a=u(a);return this[a.toLowerCase()+"s"]()},as:function(a){var b;a=u(a);if("month"===a||"year"===a)return b=this._days+this._milliseconds/864E5,
b=this._months+12*(400*b/146097),"month"===a?b:b/12;b=this._days+Math.round(146097*(this._months/12)/400);switch(a){case "week":return b/7+this._milliseconds/6048E5;case "day":return b+this._milliseconds/864E5;case "hour":return 24*b+this._milliseconds/36E5;case "minute":return 1440*b+this._milliseconds/6E4;case "second":return 86400*b+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*b)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:m.fn.lang,locale:m.fn.locale,
toIsoString:b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},
localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});m.duration.fn.toString=m.duration.fn.toISOString;for(S in Ma)na.call(Ma,S)&&G(S.toLowerCase());m.duration.fn.asMilliseconds=function(){return this.as("ms")};m.duration.fn.asSeconds=function(){return this.as("s")};m.duration.fn.asMinutes=function(){return this.as("m")};m.duration.fn.asHours=function(){return this.as("h")};m.duration.fn.asDays=function(){return this.as("d")};m.duration.fn.asWeeks=function(){return this.as("weeks")};
m.duration.fn.asMonths=function(){return this.as("M")};m.duration.fn.asYears=function(){return this.as("y")};m.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===I(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});Ha?module.exports=m:"function"===typeof define&&define.amd?(define(function(a,b,c){c.config&&c.config()&&!0===c.config().noGlobal&&(ta.moment=Ea);return m}),y(!0)):y()}).call(this);
!function(g){function k(a,b,c){b=b.mime||V;g.location.href=a.toDataURL(b).replace(b,I);"function"==typeof c&&c()}function l(a){return"string"==typeof a&&(a={value:a}),a||{}}function e(a){function b(c){a[c]=function(){throw Error(c+" requires HTML5 canvas element support");}}var c,d=["canvas","image","save","saveSync","toDataURL"];for(c=0;c<d.length;c++)b(d[c])}function b(a,b,c){function d(){x.write(e,f,0,f.length,0,function(a){x.close(e);c(a)})}if("string"!=typeof b.path)return c(new TypeError("Invalid path type: "+
typeof b.path));var e,f;a.toBuffer(function(a,b){return a?c(a):(f=b,void(e&&d()))});x.open(b.path,"w",aa,function(a,b){return a?c(a):(e=b,void(f&&d()))})}function f(a,b){var c;a>b&&(c=a,a=b,b=c);c=b*b;c+=b;c>>=1;c+=a;sa[c]=1}function a(a,b){var c;D[a+u*b]=1;for(c=-2;2>c;c++)D[a+c+u*(b-2)]=1,D[a-2+u*(b+c+1)]=1,D[a+2+u*(b+c)]=1,D[a+c+1+u*(b+2)]=1;for(c=0;2>c;c++)f(a-1,b+c),f(a+1,b-c),f(a-c,b-1),f(a+c,b+1)}function c(a){for(;255<=a;)a-=255,a=(a>>8)+(255&a);return a}function d(a,b,d,e){var f,g,h;for(g=
0;e>g;g++)E[d+g]=0;for(g=0;b>g;g++){if(f=Z[E[a+g]^E[d]],255!==f)for(h=1;e>h;h++)E[d+h-1]=E[d+h]^ea[c(f+H[e-h])];else for(h=d;d+e>h;h++)E[h]=E[h+1];E[d+e-1]=255===f?0:ea[c(f+H[0])]}}function h(a,b){var c;return a>b&&(c=a,a=b,b=c),c=b,c+=b*b,c>>=1,c+=a,1===sa[c]}function n(a){var b,c,d;switch(a){case 0:for(b=0;u>b;b++)for(a=0;u>a;a++)a+b&1||h(a,b)||(D[a+b*u]^=1);break;case 1:for(b=0;u>b;b++)for(a=0;u>a;a++)1&b||h(a,b)||(D[a+b*u]^=1);break;case 2:for(b=0;u>b;b++)for(a=c=0;u>a;a++,c++)3===c&&(c=0),c||
h(a,b)||(D[a+b*u]^=1);break;case 3:for(b=d=0;u>b;b++,d++)for(3===d&&(d=0),c=d,a=0;u>a;a++,c++)3===c&&(c=0),c||h(a,b)||(D[a+b*u]^=1);break;case 4:for(b=0;u>b;b++)for(c=0,d=b>>1&1,a=0;u>a;a++,c++)3===c&&(c=0,d=!d),d||h(a,b)||(D[a+b*u]^=1);break;case 5:for(b=d=0;u>b;b++,d++)for(3===d&&(d=0),a=c=0;u>a;a++,c++)3===c&&(c=0),(a&b&1)+!(!c|!d)||h(a,b)||(D[a+b*u]^=1);break;case 6:for(b=d=0;u>b;b++,d++)for(3===d&&(d=0),a=c=0;u>a;a++,c++)3===c&&(c=0),(a&b&1)+(c&&c===d)&1||h(a,b)||(D[a+b*u]^=1);break;case 7:for(b=
d=0;u>b;b++,d++)for(3===d&&(d=0),a=c=0;u>a;a++,c++)3===c&&(c=0),(c&&c===d)+(a+b&1)&1||h(a,b)||(D[a+b*u]^=1)}}function r(a){var b,c=0;for(b=0;a>=b;b++)5<=M[b]&&(c+=va+M[b]-5);for(b=3;a-1>b;b+=2)M[b-2]===M[b+2]&&M[b+2]===M[b-1]&&M[b-1]===M[b+1]&&3*M[b-1]===M[b]&&(0===M[b-3]||b+3>a||3*M[b-3]>=4*M[b]||3*M[b+3]>=4*M[b])&&(c+=ua);return c}function t(){var a,b,c,d,e,f,g,h;for(h=c=d=e=0;u-1>h;h++)for(g=0;u-1>g;g++)(D[g+u*h]&&D[g+1+u*h]&&D[g+u*(h+1)]&&D[g+1+u*(h+1)]||!(D[g+u*h]||D[g+1+u*h]||D[g+u*(h+1)]||
D[g+1+u*(h+1)]))&&(c+=ga);for(h=0;u>h;h++){for(f=a=g=M[0]=0;u>g;g++)(b=D[g+u*h])===a?M[f]++:M[++f]=1,a=b,d+=a?1:-1;c+=r(f)}0>d&&(d=-d);a=d;for(a=a+(a<<2)<<1;a>u*u;)a-=u*u,e++;c+=e*ha;for(g=0;u>g;g++){for(f=a=h=M[0]=0;u>h;h++)(b=D[g+u*h])===a?M[f]++:M[++f]=1,a=b;c+=r(f)}return c}var p,w,C,B,z,x,O,F,u,ba=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],V="image/png",I="image/octet-stream",X=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,
9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,
5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,
22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,
10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],wa={L:1,M:2,Q:3,H:4},ia=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],ea=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,
143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,
198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],Z=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,
181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,
71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],va=3,ga=3,ua=40,ha=10,ja=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],aa=438,M=[],T=[],ka=1,D=[],sa=[],Y=!1,H=[],q=g.qr,E=[],U={VERSION:"1.1.2",
canvas:function(b){b=l(b);var e=1<=b.size&&10>=b.size?b.size:4,e=25*e,k=b.canvas||(Y?new p:g.document.createElement("canvas")),r=k.getContext("2d");r.canvas.width=e;r.canvas.height=e;r.fillStyle=b.background||"#fff";r.fillRect(0,0,e,e);ka=wa[b.level&&b.level.toUpperCase()||"L"];var q,v=b.value||"",x,I,A,G,y,m;A=v.length;F=0;do if(F++,q=4*(ka-1)+16*(F-1),B=X[q++],z=X[q++],w=X[q++],C=X[q],q=w*(B+z)+z-3+(9>=F),q>=A)break;while(40>F);u=17+4*F;G=w+(w+C)*(B+z)+z;for(A=0;G>A;A++)T[A]=0;E=v.slice(0);for(A=
0;u*u>A;A++)D[A]=0;for(A=0;(u*(u+1)+1)/2>A;A++)sa[A]=0;for(A=0;3>A;A++){q=m=0;1===A&&(q=u-7);2===A&&(m=u-7);D[m+3+u*(q+3)]=1;for(y=0;6>y;y++)D[m+y+u*q]=1,D[m+u*(q+y+1)]=1,D[m+6+u*(q+y)]=1,D[m+y+1+u*(q+6)]=1;for(y=1;5>y;y++)f(m+y,q+1),f(m+1,q+y+1),f(m+5,q+y),f(m+y+1,q+5);for(y=2;4>y;y++)D[m+y+u*(q+2)]=1,D[m+2+u*(q+y+1)]=1,D[m+4+u*(q+y)]=1,D[m+y+1+u*(q+4)]=1}if(1<F)for(A=ba[F],m=u-7;;){for(y=u-7;y>A-3&&(a(y,m),!(A>y));)y-=A;if(A+9>=m)break;m-=A;a(6,m);a(m,6)}D[8+u*(u-8)]=1;for(m=0;7>m;m++)f(7,m),f(u-
8,m),f(7,m+u-7);for(y=0;8>y;y++)f(y,7),f(y+u-8,7),f(y,u-8);for(y=0;9>y;y++)f(y,8);for(y=0;8>y;y++)f(y+u-8,8),f(8,y);for(m=0;7>m;m++)f(8,m+u-7);for(y=0;u-14>y;y++)1&y?(f(8+y,6),f(6,8+y)):(D[8+y+6*u]=1,D[6+u*(8+y)]=1);if(6<F)for(A=ja[F-7],q=17,y=0;6>y;y++)for(m=0;3>m;m++,q--)1&(11<q?F>>q-12:A>>q)?(D[5-y+u*(2-m+u-11)]=1,D[2-m+u-11+u*(5-y)]=1):(f(5-y,2-m+u-11),f(2-m+u-11,5-y));for(m=0;u>m;m++)for(y=0;m>=y;y++)D[y+u*m]&&f(y,m);G=E.length;for(v=0;G>v;v++)T[v]=E.charCodeAt(v);if(E=T.slice(0),y=w*(B+z)+z,
G>=y-2&&(G=y-2,9<F&&G--),v=G,9<F){E[v+2]=0;for(E[v+3]=0;v--;)A=E[v],E[v+3]|=255&A<<4,E[v+2]=A>>4;E[2]|=255&G<<4;E[1]=G>>4;E[0]=64|G>>12}else{E[v+1]=0;for(E[v+2]=0;v--;)A=E[v],E[v+2]|=255&A<<4,E[v+1]=A>>4;E[1]|=255&G<<4;E[0]=64|G>>4}for(v=G+3-(10>F);y>v;)E[v++]=236,E[v++]=17;H[0]=1;for(v=0;C>v;v++){H[v+1]=1;for(x=v;0<x;x--)H[x]=H[x]?H[x-1]^ea[c(Z[H[x]]+v)]:H[x-1];H[0]=ea[c(Z[H[0]]+v)]}for(v=0;C>=v;v++)H[v]=Z[H[v]];q=y;for(v=m=0;B>v;v++)d(m,w,q,C),m+=w,q+=C;for(v=0;z>v;v++)d(m,w+1,q,C),m+=w+1,q+=C;
for(v=m=0;w>v;v++){for(x=0;B>x;x++)T[m++]=E[v+x*w];for(x=0;z>x;x++)T[m++]=E[B*w+v+x*(w+1)]}for(x=0;z>x;x++)T[m++]=E[B*w+v+x*(w+1)];for(v=0;C>v;v++)for(x=0;B+z>x;x++)T[m++]=E[y+v+x*C];E=T;y=m=u-1;q=G=1;I=(w+C)*(B+z)+z;for(v=0;I>v;v++)for(A=E[v],x=0;8>x;x++,A<<=1){128&A&&(D[y+u*m]=1);do G?y--:(y++,q?0!==m?m--:(y-=2,q=!q,6===y&&(y--,m=9)):m!==u-1?m++:(y-=2,q=!q,6===y&&(y--,m-=8))),G=!G;while(h(y,m))}E=D.slice(0);A=0;m=3E4;for(q=0;8>q&&(n(q),y=t(),m>y&&(m=y,A=q),7!==A);q++)D=E.slice(0);A!==q&&n(A);m=
ia[A+(ka-1<<3)];for(q=0;8>q;q++,m>>=1)1&m&&(D[u-1-q+8*u]=1,6>q?D[8+u*q]=1:D[8+u*(q+1)]=1);for(q=0;7>q;q++,m>>=1)1&m&&(D[8+u*(u-7+q)]=1,q?D[6-q+8*u]=1:D[7+8*u]=1);q=D;r.lineWidth=1;A=e/u;A=Math.floor(A);r.clearRect(0,0,e,e);r.fillStyle=b.background||"#fff";r.fillRect(0,0,A*(u+8),A*(u+8));r.fillStyle=b.foreground||"#000";for(b=0;u>b;b++)for(e=0;u>e;e++)q[e*u+b]&&r.fillRect(A*b,A*e,A,A);return k},image:function(a){a=l(a);var b=this.canvas(a),c=a.image||(Y?new O:g.document.createElement("img"));return c.src=
b.toDataURL(a.mime||V),c.height=b.height,c.width=b.width,c},save:function(a,c,d){function e(a){f||(f=!0,d(a))}switch(a=l(a),typeof c){case "function":d=c;c=null;break;case "string":a.path=c}if("function"!=typeof d)throw new TypeError("Invalid callback type: "+typeof d);var f=!1;c=this.canvas(a);Y?b(c,a,e):k(c,a,e)},saveSync:function(a,b){a=l(a);"string"==typeof b&&(a.path=b);var c=this.canvas(a);if(Y){var d=a;if("string"!=typeof d.path)throw new TypeError("Invalid path type: "+typeof d.path);c=c.toBuffer();
d=x.openSync(d.path,"w",aa);try{x.writeSync(d,c,0,c.length,0)}finally{x.closeSync(d)}}else k(c,a)},toDataURL:function(a){return a=l(a),this.canvas(a).toDataURL(a.mime||V)},noConflict:function(){return g.qr=q,this}};"undefined"!=typeof exports?(Y=!0,"undefined"!=typeof module&&module.exports&&(exports=module.exports=U),exports.qr=U,p=require("canvas"),O=p.Image,x=require("fs")):"function"==typeof define&&define.amd?define(function(){return U}):(g.HTMLCanvasElement||e(U),g.qr=U)}(this);