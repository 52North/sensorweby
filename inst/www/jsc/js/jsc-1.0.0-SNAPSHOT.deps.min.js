(function(f){"function"===typeof define&&define.amd?define(["jquery"],f):"object"===typeof exports?module.exports=f(require("jquery")):f(jQuery)})(function(f){if(!f.support.cors&&f.ajaxTransport&&window.XDomainRequest){var k=/^https?:\/\//i,l=/^get|post$/i,c=RegExp("^"+location.protocol,"i");f.ajaxTransport("* text html xml json",function(b,g,a){if(b.crossDomain&&b.async&&l.test(b.type)&&k.test(b.url)&&c.test(b.url)){var d=null;return{send:function(a,h){var c="",p=(g.dataType||"").toLowerCase();d=
new XDomainRequest;/^\d+$/.test(g.timeout)&&(d.timeout=g.timeout);d.ontimeout=function(){h(500,"timeout")};d.onload=function(){var a="Content-Length: "+d.responseText.length+"\r\nContent-Type: "+d.contentType,b=200,e="success",c={text:d.responseText};try{if("html"===p||/text\/html/i.test(d.contentType))c.html=d.responseText;else if("json"===p||"text"!==p&&/\/json/i.test(d.contentType))try{c.json=f.parseJSON(d.responseText)}catch(m){b=500,e="parseerror"}else if("xml"===p||"text"!==p&&/\/xml/i.test(d.contentType)){var g=
new ActiveXObject("Microsoft.XMLDOM");g.async=!1;try{g.loadXML(d.responseText)}catch(k){g=void 0}if(!g||!g.documentElement||g.getElementsByTagName("parsererror").length)throw"Invalid XML: "+d.responseText;c.xml=g}}catch(l){throw l;}finally{h(b,e,c,a)}};d.onprogress=function(){};d.onerror=function(){h(500,"error",{text:d.responseText})};g.data&&(c="string"===f.type(g.data)?g.data:f.param(g.data));d.open(b.type,b.url);d.send(c)},abort:function(){d&&d.abort()}}}})}});
(function(f){f.color={};f.color.make=function(k,c,b,g){var a={};a.r=k||0;a.g=c||0;a.b=b||0;a.a=null!=g?g:1;a.add=function(b,e){for(var h=0;h<b.length;++h)a[b.charAt(h)]+=e;return a.normalize()};a.scale=function(b,e){for(var h=0;h<b.length;++h)a[b.charAt(h)]*=e;return a.normalize()};a.toString=function(){return 1<=a.a?"rgb("+[a.r,a.g,a.b].join()+")":"rgba("+[a.r,a.g,a.b,a.a].join()+")"};a.normalize=function(){function b(a,d,c){return d<a?a:d>c?c:d}a.r=b(0,parseInt(a.r),255);a.g=b(0,parseInt(a.g),255);
a.b=b(0,parseInt(a.b),255);a.a=b(0,a.a,1);return a};a.clone=function(){return f.color.make(a.r,a.b,a.g,a.a)};return a.normalize()};f.color.extract=function(k,c){var b;do{b=k.css(c).toLowerCase();if(""!=b&&"transparent"!=b)break;k=k.parent()}while(k.length&&!f.nodeName(k.get(0),"body"));"rgba(0, 0, 0, 0)"==b&&(b="transparent");return f.color.parse(b)};f.color.parse=function(l){var c,b=f.color.make;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(l))return b(parseInt(c[1],
10),parseInt(c[2],10),parseInt(c[3],10));if(c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(l))return b(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseFloat(c[4]));if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(l))return b(2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3]));if(c=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(l))return b(2.55*
parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3]),parseFloat(c[4]));if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(l))return b(parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16));if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(l))return b(parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16));l=f.trim(l).toLowerCase();if("transparent"==l)return b(255,255,255,0);c=k[l]||[0,0,0];return b(c[0],c[1],c[2])};var k={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(f){function k(b,c){var a=c.children("."+b)[0];if(null==a&&(a=document.createElement("canvas"),a.className=b,f(a).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!a.getContext))if(window.G_vmlCanvasManager)a=window.G_vmlCanvasManager.initElement(a);else throw Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=
a;a=this.context=a.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);this.resize(c.width(),c.height());this.textContainer=null;this.text={};this._textCache={}}function l(b,c,a,d){function e(a,b){b=[D].concat(b);for(var d=0;d<a.length;++d)a[d].apply(this,b)}function h(a){for(var b=[],d=0;d<a.length;++d){var e=f.extend(!0,{},n.series);null!=a[d].data?
(e.data=a[d].data,delete a[d].data,f.extend(!0,e,a[d]),a[d].data=e.data):e.data=a[d];b.push(e)}E=b;d=E.length;b=-1;for(a=0;a<E.length;++a)e=E[a].color,null!=e&&(d--,"number"==typeof e&&e>b&&(b=e));d<=b&&(d=b+1);var b=[],h=n.colors,c=h.length,g=0;for(a=0;a<d;a++)e=f.color.parse(h[a%c]||"#666"),0==a%c&&a&&(g=0<=g?0.5>g?-g-0.2:0:-g),b[a]=e.scale("rgb",1+g);for(a=d=0;a<E.length;++a){e=E[a];null==e.color?(e.color=b[d].toString(),++d):"number"==typeof e.color&&(e.color=b[e.color].toString());if(null==e.lines.show){var p,
h=!0;for(p in e)if(e[p]&&e[p].show){h=!1;break}h&&(e.lines.show=!0)}null==e.lines.zero&&(e.lines.zero=!!e.lines.fill);e.xaxis=s(P,m(e,"x"));e.yaxis=s(O,m(e,"y"))}u()}function m(a,b){var d=a[b+"axis"];"object"==typeof d&&(d=d.n);"number"!=typeof d&&(d=1);return d}function p(){return f.grep(P.concat(O),function(a){return a})}function l(a){var b={},d,e;for(d=0;d<P.length;++d)(e=P[d])&&e.used&&(b["x"+e.n]=e.c2p(a.left));for(d=0;d<O.length;++d)(e=O[d])&&e.used&&(b["y"+e.n]=e.c2p(a.top));void 0!==b.x1&&
(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function s(a,b){a[b-1]||(a[b-1]={n:b,direction:a==P?"x":"y",options:f.extend(!0,{},a==P?n.xaxis:n.yaxis)});return a[b-1]}function u(){function a(b,d,e){d<b.datamin&&d!=-h&&(b.datamin=d);e>b.datamax&&e!=h&&(b.datamax=e)}var b=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,h=Number.MAX_VALUE,c,m,g,k,l,r,q,s,u,M,v,t;f.each(p(),function(a,e){e.datamin=b;e.datamax=d;e.used=!1});for(c=0;c<E.length;++c)l=E[c],l.datapoints={points:[]},e(y.processRawData,
[l,l.data,l.datapoints]);for(c=0;c<E.length;++c){l=E[c];v=l.data;t=l.datapoints.format;if(!t){t=[];t.push({x:!0,number:!0,required:!0});t.push({y:!0,number:!0,required:!0});if(l.bars.show||l.lines.show&&l.lines.fill)t.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:!!(l.bars.show&&l.bars.zero||l.lines.show&&l.lines.zero)}),l.bars.horizontal&&(delete t[t.length-1].y,t[t.length-1].x=!0);l.datapoints.format=t}if(null==l.datapoints.pointsize){l.datapoints.pointsize=t.length;q=l.datapoints.pointsize;
r=l.datapoints.points;var J=l.lines.show&&l.lines.steps;l.xaxis.used=l.yaxis.used=!0;for(m=g=0;m<v.length;++m,g+=q){M=v[m];var n=null==M;if(!n)for(k=0;k<q;++k){s=M[k];if(u=t[k])u.number&&null!=s&&(s=+s,isNaN(s)?s=null:Infinity==s?s=h:-Infinity==s&&(s=-h)),null==s&&(u.required&&(n=!0),null!=u.defaultValue&&(s=u.defaultValue));r[g+k]=s}if(n)for(k=0;k<q;++k)s=r[g+k],null!=s&&(u=t[k],!1!==u.autoscale&&(u.x&&a(l.xaxis,s,s),u.y&&a(l.yaxis,s,s))),r[g+k]=null;else if(J&&0<g&&null!=r[g-q]&&r[g-q]!=r[g]&&r[g-
q+1]!=r[g+1]){for(k=0;k<q;++k)r[g+q+k]=r[g+k];r[g+1]=r[g-q+1];g+=q}}}}for(c=0;c<E.length;++c)l=E[c],e(y.processDatapoints,[l,l.datapoints]);for(c=0;c<E.length;++c){l=E[c];r=l.datapoints.points;q=l.datapoints.pointsize;t=l.datapoints.format;M=g=b;J=v=d;for(m=0;m<r.length;m+=q)if(null!=r[m])for(k=0;k<q;++k)s=r[m+k],(u=t[k])&&!1!==u.autoscale&&s!=h&&s!=-h&&(u.x&&(s<g&&(g=s),s>v&&(v=s)),u.y&&(s<M&&(M=s),s>J&&(J=s)));if(l.bars.show){switch(l.bars.align){case "left":m=0;break;case "right":m=-l.bars.barWidth;
break;default:m=-l.bars.barWidth/2}l.bars.horizontal?(M+=m,J+=m+l.bars.barWidth):(g+=m,v+=m+l.bars.barWidth)}a(l.xaxis,g,v);a(l.yaxis,M,J)}f.each(p(),function(a,e){e.datamin==b&&(e.datamin=null);e.datamax==d&&(e.datamax=null)})}function B(){x&&clearTimeout(x);M.unbind("mousemove",da);M.unbind("mouseleave",ea);M.unbind("click",fa);e(y.shutdown,[M])}function F(a){function b(a){return a}var d,e,h=a.options.transform||b,c=a.options.inverseTransform;"x"==a.direction?(d=a.scale=G/Math.abs(h(a.max)-h(a.min)),
e=Math.min(h(a.max),h(a.min))):(d=a.scale=Q/Math.abs(h(a.max)-h(a.min)),d=-d,e=Math.max(h(a.max),h(a.min)));a.p2c=h==b?function(a){return(a-e)*d}:function(a){return(h(a)-e)*d};a.c2p=c?function(a){return c(e+a/d)}:function(a){return e+a/d}}function H(a){var b=a.labelWidth,d=a.labelHeight,e=a.options.position,h="x"===a.direction,c=a.options.tickLength,m=n.grid.axisMargin,g=n.grid.labelMargin,p=!0,k=!0,l=!0,r=!1;f.each(h?P:O,function(b,d){d&&d.reserveSpace&&(d===a?r=!0:d.options.position===e&&(r?k=!1:
p=!1),r||(l=!1))});k&&(m=0);null==c&&(c=l?"full":5);isNaN(+c)||(g+=+c);h?(d+=g,"bottom"==e?(v.bottom+=d+m,a.box={top:z.height-v.bottom,height:d}):(a.box={top:v.top+m,height:d},v.top+=d+m)):(b+=g,"left"==e?(a.box={left:v.left+m,width:b},v.left+=b+m):(v.right+=b+m,a.box={left:z.width-v.right,width:b}));a.position=e;a.tickLength=c;a.box.padding=g;a.innermost=p}function I(){var a=n.grid.minBorderMargin,b;if(null==a)for(b=a=0;b<E.length;++b)a=Math.max(a,2*(E[b].points.radius+E[b].points.lineWidth/2));
var d=a,e=a,h=a,c=a;f.each(p(),function(a,b){if(b.reserveSpace&&b.ticks&&b.ticks.length){var m=b.ticks[b.ticks.length-1];"x"===b.direction?(d=Math.max(d,b.labelWidth/2),m.v<=b.max&&(e=Math.max(e,b.labelWidth/2))):(c=Math.max(c,b.labelHeight/2),m.v<=b.max&&(h=Math.max(h,b.labelHeight/2)))}});v.left=Math.ceil(Math.max(d,v.left));v.right=Math.ceil(Math.max(e,v.right));v.top=Math.ceil(Math.max(h,v.top));v.bottom=Math.ceil(Math.max(c,v.bottom))}function K(){var a,b=p(),d=n.grid.show;for(a in v){var h=
n.grid.margin||0;v[a]="number"==typeof h?h:h[a]||0}e(y.processOffset,[v]);for(a in v)v[a]="object"==typeof n.grid.borderWidth?v[a]+(d?n.grid.borderWidth[a]:0):v[a]+(d?n.grid.borderWidth:0);f.each(b,function(a,b){b.show=b.options.show;null==b.show&&(b.show=b.used);b.reserveSpace=b.show||b.options.reserveSpace;var d=b.options,e=+(null!=d.min?d.min:b.datamin),h=+(null!=d.max?d.max:b.datamax),c=h-e;if(0==c){if(c=0==h?1:0.01,null==d.min&&(e-=c),null==d.max||null!=d.min)h+=c}else{var m=d.autoscaleMargin;
null!=m&&(null==d.min&&(e-=c*m,0>e&&null!=b.datamin&&0<=b.datamin&&(e=0)),null==d.max&&(h+=c*m,0<h&&null!=b.datamax&&0>=b.datamax&&(h=0)))}b.min=e;b.max=h});if(d){h=f.grep(b,function(a){return a.reserveSpace});f.each(h,function(a,b){C(b);var d=b.options.ticks,e=[];null==d||"number"==typeof d&&0<d?e=b.tickGenerator(b):d&&(e=f.isFunction(d)?d(b):d);var h;b.ticks=[];for(d=0;d<e.length;++d){var c=null,m=e[d];"object"==typeof m?(h=+m[0],1<m.length&&(c=m[1])):h=+m;null==c&&(c=b.tickFormatter(h,b));isNaN(h)||
b.ticks.push({v:h,label:c})}e=b.ticks;b.options.autoscaleMargin&&0<e.length&&(null==b.options.min&&(b.min=Math.min(b.min,e[0].v)),null==b.options.max&&1<e.length&&(b.max=Math.max(b.max,e[e.length-1].v)));e=b.options;d=b.ticks||[];h=e.labelWidth||0;for(var c=e.additionalWidth||0,m=e.labelHeight||0,g=h||("x"==b.direction?Math.floor(z.width/(d.length||1)):null),p="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),k=e.font||"flot-tick-label tickLabel",
l=0;l<d.length;++l){var r=d[l];r.label&&(r=z.getTextInfo(p,r.label,k,null,g),h=Math.max(h,r.width+("y"==b.direction?c:0)),m=Math.max(m,r.height))}b.labelWidth=e.labelWidth||h;b.labelHeight=e.labelHeight||m});for(a=h.length-1;0<=a;--a)H(h[a]);I();f.each(h,function(a,b){"x"==b.direction?(b.box.left=v.left-b.labelWidth/2,b.box.width=z.width-v.left-v.right+b.labelWidth):(b.box.top=v.top-b.labelHeight/2,b.box.height=z.height-v.bottom-v.top+b.labelHeight)})}G=z.width-v.left-v.right;Q=z.height-v.bottom-
v.top;f.each(b,function(a,b){F(b)});d&&V();ha()}function C(a){var b=a.options,d;d="number"==typeof b.ticks&&0<b.ticks?b.ticks:0.3*Math.sqrt("x"==a.direction?z.width:z.height);d=(a.max-a.min)/d;var e=-Math.floor(Math.log(d)/Math.LN10),h=b.tickDecimals;null!=h&&e>h&&(e=h);var c=Math.pow(10,-e),m=d/c,g;1.5>m?g=1:3>m?(g=2,2.25<m&&(null==h||e+1<=h)&&(g=2.5,++e)):g=7.5>m?5:10;g*=c;null!=b.minTickSize&&g<b.minTickSize&&(g=b.minTickSize);a.delta=d;a.tickDecimals=Math.max(0,null!=h?h:e);a.tickSize=b.tickSize||
g;if("time"==b.mode&&!a.tickGenerator)throw Error("Time mode requires the flot.time plugin.");a.tickGenerator||(a.tickGenerator=function(a){var b=[],d=a.tickSize*Math.floor(a.min/a.tickSize),e=0,h=Number.NaN,c;do c=h,h=d+e*a.tickSize,b.push(h),++e;while(h<a.max&&h!=c);return b},a.tickFormatter=function(a,b){var d=b.tickDecimals?Math.pow(10,b.tickDecimals):1,e=""+Math.round(a*d)/d;if(null!=b.tickDecimals){var h=e.indexOf("."),h=-1==h?0:e.length-h-1;if(h<b.tickDecimals)return(h?e:e+".")+(""+d).substr(1,
b.tickDecimals-h)}return e});f.isFunction(b.tickFormatter)&&(a.tickFormatter=function(a,d){return""+b.tickFormatter(a,d)});if(null!=b.alignTicksWithAxis){var p=("x"==a.direction?P:O)[b.alignTicksWithAxis-1];p&&p.used&&p!=a&&(d=a.tickGenerator(a),0<d.length&&(null==b.min&&(a.min=Math.min(a.min,d[0])),null==b.max&&1<d.length&&(a.max=Math.max(a.max,d[d.length-1]))),a.tickGenerator=function(a){var b=[],d,e;for(e=0;e<p.ticks.length;++e)d=(p.ticks[e].v-p.min)/(p.max-p.min),d=a.min+d*(a.max-a.min),b.push(d);
return b},a.mode||null!=b.tickDecimals||(d=Math.max(0,-Math.floor(Math.log(a.delta)/Math.LN10)+1),e=a.tickGenerator(a),1<e.length&&/\..*0$/.test((e[1]-e[0]).toFixed(d))||(a.tickDecimals=d)))}}function t(){z.clear();e(y.drawBackground,[r]);var a=n.grid;a.show&&a.backgroundColor&&(r.save(),r.translate(v.left,v.top),r.fillStyle=W(n.grid.backgroundColor,Q,0,"rgba(255, 255, 255, 0)"),r.fillRect(0,0,G,Q),r.restore());a.show&&!a.aboveData&&R();for(var b=0;b<E.length;++b){e(y.drawSeries,[r,E[b]]);var d=E[b];
d.lines.show&&X(d);d.bars.show&&$(d);d.points.show&&ia(d)}e(y.draw,[r]);a.show&&a.aboveData&&R();z.render();Y()}function U(a,b){for(var d,e,h,c,m=p(),g=0;g<m.length;++g)if(d=m[g],d.direction==b&&(c=b+d.n+"axis",a[c]||1!=d.n||(c=b+"axis"),a[c])){e=a[c].from;h=a[c].to;break}a[c]||(d="x"==b?P[0]:O[0],e=a[b+"1"],h=a[b+"2"]);null!=e&&null!=h&&e>h&&(c=e,e=h,h=c);return{from:e,to:h,axis:d}}function R(){var a,b,d;r.save();r.translate(v.left,v.top);if(d=n.grid.markings)for(f.isFunction(d)&&(b=D.getAxes(),
b.xmin=b.xaxis.min,b.xmax=b.xaxis.max,b.ymin=b.yaxis.min,b.ymax=b.yaxis.max,d=d(b)),a=0;a<d.length;++a){b=d[a];var e=U(b,"x"),h=U(b,"y");null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);null==h.from&&(h.from=h.axis.min);null==h.to&&(h.to=h.axis.max);e.to<e.axis.min||e.from>e.axis.max||h.to<h.axis.min||h.from>h.axis.max||(e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),e.from==e.to&&h.from==h.to)||(e.from=
e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),h.from=h.axis.p2c(h.from),h.to=h.axis.p2c(h.to),e.from==e.to||h.from==h.to?(r.beginPath(),r.strokeStyle=b.color||n.grid.markingsColor,r.lineWidth=b.lineWidth||n.grid.markingsLineWidth,r.moveTo(e.from,h.from),r.lineTo(e.to,h.to),r.stroke()):(r.fillStyle=b.color||n.grid.markingsColor,r.fillRect(e.from,h.to,e.to-e.from,h.from-h.to)))}b=p();d=n.grid.borderWidth;for(e=0;e<b.length;++e){h=b[e];a=h.box;var c=h.tickLength,m,g,k,l;if(h.show&&0!=h.ticks.length){r.lineWidth=
1;"x"==h.direction?(m=0,g="full"==c?"top"==h.position?0:Q:a.top-v.top+("top"==h.position?a.height:0)):(g=0,m="full"==c?"left"==h.position?0:G:a.left-v.left+("left"==h.position?a.width:0));h.innermost||(r.strokeStyle=h.options.color,r.beginPath(),k=l=0,"x"==h.direction?k=G+1:l=Q+1,1==r.lineWidth&&("x"==h.direction?g=Math.floor(g)+0.5:m=Math.floor(m)+0.5),r.moveTo(m,g),r.lineTo(m+k,g+l),r.stroke());r.strokeStyle=h.options.tickColor;r.beginPath();for(a=0;a<h.ticks.length;++a){var q=h.ticks[a].v;k=l=
0;isNaN(q)||q<h.min||q>h.max||"full"==c&&("object"==typeof d&&0<d[h.position]||0<d)&&(q==h.min||q==h.max)||("x"==h.direction?(m=h.p2c(q),l="full"==c?-Q:c,"top"==h.position&&(l=-l)):(g=h.p2c(q),k="full"==c?-G:c,"left"==h.position&&(k=-k)),1==r.lineWidth&&("x"==h.direction?m=Math.floor(m)+0.5:g=Math.floor(g)+0.5),r.moveTo(m,g),r.lineTo(m+k,g+l))}r.stroke()}}d&&(a=n.grid.borderColor,"object"==typeof d||"object"==typeof a?("object"!==typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!==typeof a&&
(a={top:a,right:a,bottom:a,left:a}),0<d.top&&(r.strokeStyle=a.top,r.lineWidth=d.top,r.beginPath(),r.moveTo(0-d.left,0-d.top/2),r.lineTo(G,0-d.top/2),r.stroke()),0<d.right&&(r.strokeStyle=a.right,r.lineWidth=d.right,r.beginPath(),r.moveTo(G+d.right/2,0-d.top),r.lineTo(G+d.right/2,Q),r.stroke()),0<d.bottom&&(r.strokeStyle=a.bottom,r.lineWidth=d.bottom,r.beginPath(),r.moveTo(G+d.right,Q+d.bottom/2),r.lineTo(0,Q+d.bottom/2),r.stroke()),0<d.left&&(r.strokeStyle=a.left,r.lineWidth=d.left,r.beginPath(),
r.moveTo(0-d.left/2,Q+d.bottom),r.lineTo(0-d.left/2,0),r.stroke())):(r.lineWidth=d,r.strokeStyle=n.grid.borderColor,r.strokeRect(-d/2,-d/2,G+d,Q+d)));r.restore()}function V(){f.each(p(),function(a,b){var d=b.box,e="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+(b.direction+"Axis "+b.direction+b.n+"Axis"),h=b.options.font||"flot-tick-label tickLabel",c,m,g,f,p;z.removeText(e);if(b.show&&0!=b.ticks.length)for(var k=0;k<b.ticks.length;++k)c=b.ticks[k],!c.label||c.v<b.min||c.v>b.max||("x"==
b.direction?(f="center",m=v.left+b.p2c(c.v),"bottom"==b.position?g=d.top+d.padding:(g=d.top+d.height-d.padding,p="bottom")):(p="middle",g=v.top+b.p2c(c.v),"left"==b.position?(m=d.left+d.width-d.padding,f="right"):m=d.left+d.padding),z.addText(e,m,g,c.label,h,null,null,f,p))})}function X(a){function b(a,d,e,h,c){var m=a.points;a=a.pointsize;var g=null,f=null;r.beginPath();for(var p=a;p<m.length;p+=a){var k=m[p-a],l=m[p-a+1],q=m[p],s=m[p+1];if(null!=k&&null!=q){if(l<=s&&l<c.min){if(s<c.min)continue;
k=(c.min-l)/(s-l)*(q-k)+k;l=c.min}else if(s<=l&&s<c.min){if(l<c.min)continue;q=(c.min-l)/(s-l)*(q-k)+k;s=c.min}if(l>=s&&l>c.max){if(s>c.max)continue;k=(c.max-l)/(s-l)*(q-k)+k;l=c.max}else if(s>=l&&s>c.max){if(l>c.max)continue;q=(c.max-l)/(s-l)*(q-k)+k;s=c.max}if(k<=q&&k<h.min){if(q<h.min)continue;l=(h.min-k)/(q-k)*(s-l)+l;k=h.min}else if(q<=k&&q<h.min){if(k<h.min)continue;s=(h.min-k)/(q-k)*(s-l)+l;q=h.min}if(k>=q&&k>h.max){if(q>h.max)continue;l=(h.max-k)/(q-k)*(s-l)+l;k=h.max}else if(q>=k&&q>h.max){if(k>
h.max)continue;s=(h.max-k)/(q-k)*(s-l)+l;q=h.max}k==g&&l==f||r.moveTo(h.p2c(k)+d,c.p2c(l)+e);g=q;f=s;r.lineTo(h.p2c(q)+d,c.p2c(s)+e)}}r.stroke()}function d(a,b,e){var h=a.points;a=a.pointsize;for(var c=Math.min(Math.max(0,e.min),e.max),m=0,g=!1,f=1,k=0,p=0;!(0<a&&m>h.length+a);){var m=m+a,l=h[m-a],q=h[m-a+f],s=h[m],u=h[m+f];if(g){if(0<a&&null!=l&&null==s){p=m;a=-a;f=2;continue}if(0>a&&m==k+a){r.fill();g=!1;a=-a;f=1;m=k=p+a;continue}}if(null!=l&&null!=s){if(l<=s&&l<b.min){if(s<b.min)continue;q=(b.min-
l)/(s-l)*(u-q)+q;l=b.min}else if(s<=l&&s<b.min){if(l<b.min)continue;u=(b.min-l)/(s-l)*(u-q)+q;s=b.min}if(l>=s&&l>b.max){if(s>b.max)continue;q=(b.max-l)/(s-l)*(u-q)+q;l=b.max}else if(s>=l&&s>b.max){if(l>b.max)continue;u=(b.max-l)/(s-l)*(u-q)+q;s=b.max}g||(r.beginPath(),r.moveTo(b.p2c(l),e.p2c(c)),g=!0);if(q>=e.max&&u>=e.max)r.lineTo(b.p2c(l),e.p2c(e.max)),r.lineTo(b.p2c(s),e.p2c(e.max));else if(q<=e.min&&u<=e.min)r.lineTo(b.p2c(l),e.p2c(e.min)),r.lineTo(b.p2c(s),e.p2c(e.min));else{var ja=l,M=s;q<=
u&&q<e.min&&u>=e.min?(l=(e.min-q)/(u-q)*(s-l)+l,q=e.min):u<=q&&u<e.min&&q>=e.min&&(s=(e.min-q)/(u-q)*(s-l)+l,u=e.min);q>=u&&q>e.max&&u<=e.max?(l=(e.max-q)/(u-q)*(s-l)+l,q=e.max):u>=q&&u>e.max&&q<=e.max&&(s=(e.max-q)/(u-q)*(s-l)+l,u=e.max);l!=ja&&r.lineTo(b.p2c(ja),e.p2c(q));r.lineTo(b.p2c(l),e.p2c(q));r.lineTo(b.p2c(s),e.p2c(u));s!=M&&(r.lineTo(b.p2c(s),e.p2c(u)),r.lineTo(b.p2c(M),e.p2c(u)))}}}}r.save();r.translate(v.left,v.top);r.lineJoin="round";var e=a.lines.lineWidth,h=a.shadowSize;if(0<e&&0<
h){r.lineWidth=h;r.strokeStyle="rgba(0,0,0,0.1)";var c=Math.PI/18;b(a.datapoints,Math.sin(c)*(e/2+h/2),Math.cos(c)*(e/2+h/2),a.xaxis,a.yaxis);r.lineWidth=h/2;b(a.datapoints,Math.sin(c)*(e/2+h/4),Math.cos(c)*(e/2+h/4),a.xaxis,a.yaxis)}r.lineWidth=e;r.strokeStyle=a.color;if(h=Z(a.lines,a.color,0,Q))r.fillStyle=h,d(a.datapoints,a.xaxis,a.yaxis);0<e&&b(a.datapoints,0,0,a.xaxis,a.yaxis);r.restore()}function ia(a){function b(a,d,e,h,c,m,g,f){var k=a.points;a=a.pointsize;for(var l=0;l<k.length;l+=a){var p=
k[l],q=k[l+1];null==p||p<m.min||p>m.max||q<g.min||q>g.max||(r.beginPath(),p=m.p2c(p),q=g.p2c(q)+h,"circle"==f?r.arc(p,q,d,0,c?Math.PI:2*Math.PI,!1):f(r,p,q,d,c),r.closePath(),e&&(r.fillStyle=e,r.fill()),r.stroke())}}r.save();r.translate(v.left,v.top);var d=a.points.lineWidth,e=a.shadowSize,h=a.points.radius,c=a.points.symbol;0==d&&(d=1E-4);0<d&&0<e&&(e/=2,r.lineWidth=e,r.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,h,null,e+e/2,!0,a.xaxis,a.yaxis,c),r.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,
h,null,e/2,!0,a.xaxis,a.yaxis,c));r.lineWidth=d;r.strokeStyle=a.color;b(a.datapoints,h,Z(a.points,a.color),0,!1,a.xaxis,a.yaxis,c);r.restore()}function ga(a,b,d,e,h,c,m,g,f,k,l){var p,q,s,r;k?(r=q=s=!0,p=!1,k=d,d=b+e,h=b+h,a<k&&(b=a,a=k,k=b,p=!0,q=!1)):(p=q=s=!0,r=!1,k=a+e,a+=h,h=d,d=b,d<h&&(b=d,d=h,h=b,r=!0,s=!1));a<m.min||k>m.max||d<g.min||h>g.max||(k<m.min&&(k=m.min,p=!1),a>m.max&&(a=m.max,q=!1),h<g.min&&(h=g.min,r=!1),d>g.max&&(d=g.max,s=!1),k=m.p2c(k),h=g.p2c(h),a=m.p2c(a),d=g.p2c(d),c&&(f.fillStyle=
c(h,d),f.fillRect(k,d,a-k,h-d)),0<l&&(p||q||s||r)&&(f.beginPath(),f.moveTo(k,h),p?f.lineTo(k,d):f.moveTo(k,d),s?f.lineTo(a,d):f.moveTo(a,d),q?f.lineTo(a,h):f.moveTo(a,h),r?f.lineTo(k,h):f.moveTo(k,h),f.stroke()))}function $(a){r.save();r.translate(v.left,v.top);r.lineWidth=a.bars.lineWidth;r.strokeStyle=a.color;var b;switch(a.bars.align){case "left":b=0;break;case "right":b=-a.bars.barWidth;break;default:b=-a.bars.barWidth/2}(function(b,d,e,h,c,m){var g=b.points;b=b.pointsize;for(var f=0;f<g.length;f+=
b)null!=g[f]&&ga(g[f],g[f+1],g[f+2],d,e,h,c,m,r,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,b,b+a.bars.barWidth,a.bars.fill?function(b,d){return Z(a.bars,a.color,b,d)}:null,a.xaxis,a.yaxis);r.restore()}function Z(a,b,d,e){var h=a.fill;if(!h)return null;if(a.fillColor)return W(a.fillColor,d,e,b);a=f.color.parse(b);a.a="number"==typeof h?h:0.4;a.normalize();return a.toString()}function ha(){null!=n.legend.container?f(n.legend.container).html(""):b.find(".legend").remove();if(n.legend.show){for(var a=
[],d=[],e=!1,h=n.legend.labelFormatter,c,m,g=0;g<E.length;++g)c=E[g],c.label&&(m=h?h(c.label,c):c.label)&&d.push({label:m,color:c.color});if(n.legend.sorted)if(f.isFunction(n.legend.sorted))d.sort(n.legend.sorted);else if("reverse"==n.legend.sorted)d.reverse();else{var k="descending"!=n.legend.sorted;d.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=k?1:-1})}for(g=0;g<d.length;++g)h=d[g],0==g%n.legend.noColumns&&(e&&a.push("\x3c/tr\x3e"),a.push("\x3ctr\x3e"),e=!0),a.push('\x3ctd class\x3d"legendColorBox"\x3e\x3cdiv style\x3d"border:1px solid '+
n.legend.labelBoxBorderColor+';padding:1px"\x3e\x3cdiv style\x3d"width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"legendLabel"\x3e'+h.label+"\x3c/td\x3e");e&&a.push("\x3c/tr\x3e");0!=a.length&&(d='\x3ctable style\x3d"font-size:smaller;color:'+n.grid.color+'"\x3e'+a.join("")+"\x3c/table\x3e",null!=n.legend.container?f(n.legend.container).html(d):(a="",e=n.legend.position,g=n.legend.margin,null==g[0]&&(g=[g,g]),"n"==e.charAt(0)?
a+="top:"+(g[1]+v.top)+"px;":"s"==e.charAt(0)&&(a+="bottom:"+(g[1]+v.bottom)+"px;"),"e"==e.charAt(1)?a+="right:"+(g[0]+v.right)+"px;":"w"==e.charAt(1)&&(a+="left:"+(g[0]+v.left)+"px;"),d=f('\x3cdiv class\x3d"legend"\x3e'+d.replace('style\x3d"','style\x3d"position:absolute;'+a+";")+"\x3c/div\x3e").appendTo(b),0!=n.legend.backgroundOpacity&&(e=n.legend.backgroundColor,null==e&&(e=(e=n.grid.backgroundColor)&&"string"==typeof e?f.color.parse(e):f.color.extract(d,"background-color"),e.a=1,e=e.toString()),
g=d.children(),f('\x3cdiv style\x3d"position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+a+"background-color:"+e+';"\x3e \x3c/div\x3e').prependTo(d).css("opacity",n.legend.backgroundOpacity))))}}function da(a){n.grid.hoverable&&ba("plothover",a,function(a){return!1!=a.hoverable})}function ea(a){n.grid.hoverable&&ba("plothover",a,function(a){return!1})}function fa(a){ba("plotclick",a,function(a){return!1!=a.clickable})}function ba(a,d,e){var h=M.offset(),c=d.pageX-h.left-v.left,m=d.pageY-
h.top-v.top,g=l({left:c,top:m});g.pageX=d.pageX;g.pageY=d.pageY;d=n.grid.mouseActiveRadius;var f=d*d+1,k=null,p,s,r;for(p=E.length-1;0<=p;--p)if(e(E[p])){var u=E[p],t=u.xaxis,J=u.yaxis,F=u.datapoints.points,H=t.c2p(c),C=J.c2p(m),O=d/t.scale,B=d/J.scale;r=u.datapoints.pointsize;t.options.inverseTransform&&(O=Number.MAX_VALUE);J.options.inverseTransform&&(B=Number.MAX_VALUE);if(u.lines.show||u.points.show)for(s=0;s<F.length;s+=r){var I=F[s],K=F[s+1];null==I||I-H>O||I-H<-O||K-C>B||K-C<-B||(I=Math.abs(t.p2c(I)-
c),K=Math.abs(J.p2c(K)-m),K=I*I+K*K,K<f&&(f=K,k=[p,s/r]))}if(u.bars.show&&!k){switch(u.bars.align){case "left":t=0;break;case "right":t=-u.bars.barWidth;break;default:t=-u.bars.barWidth/2}u=t+u.bars.barWidth;for(s=0;s<F.length;s+=r)I=F[s],K=F[s+1],J=F[s+2],null!=I&&(E[p].bars.horizontal?H<=Math.max(J,I)&&H>=Math.min(J,I)&&C>=K+t&&C<=K+u:H>=I+t&&H<=I+u&&C>=Math.min(J,K)&&C<=Math.max(J,K))&&(k=[p,s/r])}}k?(p=k[0],s=k[1],r=E[p].datapoints.pointsize,e={datapoint:E[p].datapoints.points.slice(s*r,(s+1)*
r),dataIndex:s,series:E[p],seriesIndex:p}):e=null;e&&(e.pageX=parseInt(e.series.xaxis.p2c(e.datapoint[0])+h.left+v.left,10),e.pageY=parseInt(e.series.yaxis.p2c(e.datapoint[1])+h.top+v.top,10));if(n.grid.autoHighlight){for(h=0;h<w.length;++h)c=w[h],c.auto!=a||e&&c.series==e.series&&c.point[0]==e.datapoint[0]&&c.point[1]==e.datapoint[1]||aa(c.series,c.point);e&&T(e.series,e.datapoint,a)}b.trigger(a,[g,e])}function Y(){var a=n.interaction.redrawOverlayInterval;-1==a?N():x||(x=setTimeout(N,a))}function N(){x=
null;J.save();S.clear();J.translate(v.left,v.top);var a,b;for(a=0;a<w.length;++a)if(b=w[a],b.series.bars.show)ca(b.series,b.point);else{var d=b.series,h=b.point;b=h[0];var h=h[1],c=d.xaxis,m=d.yaxis,g="string"===typeof d.highlightColor?d.highlightColor:f.color.parse(d.color).scale("a",0.5).toString();if(!(b<c.min||b>c.max||h<m.min||h>m.max)){var k=d.points.radius+d.points.lineWidth/2;J.lineWidth=k;J.strokeStyle=g;g=1.5*k;b=c.p2c(b);h=m.p2c(h);J.beginPath();"circle"==d.points.symbol?J.arc(b,h,g,0,
2*Math.PI,!1):d.points.symbol(J,b,h,g,!1);J.closePath();J.stroke()}}J.restore();e(y.drawOverlay,[J])}function T(a,b,d){"number"==typeof a&&(a=E[a]);if("number"==typeof b){var e=a.datapoints.pointsize;b=a.datapoints.points.slice(e*b,e*(b+1))}e=A(a,b);-1==e?(w.push({series:a,point:b,auto:d}),Y()):d||(w[e].auto=!1)}function aa(a,b){if(null==a&&null==b)w=[],Y();else{"number"==typeof a&&(a=E[a]);if("number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}d=A(a,b);-1!=d&&
(w.splice(d,1),Y())}}function A(a,b){for(var d=0;d<w.length;++d){var e=w[d];if(e.series==a&&e.point[0]==b[0]&&e.point[1]==b[1])return d}return-1}function ca(a,b){var d="string"===typeof a.highlightColor?a.highlightColor:f.color.parse(a.color).scale("a",0.5).toString(),e;switch(a.bars.align){case "left":e=0;break;case "right":e=-a.bars.barWidth;break;default:e=-a.bars.barWidth/2}J.lineWidth=a.bars.lineWidth;J.strokeStyle=d;ga(b[0],b[1],b[2]||0,e,e+a.bars.barWidth,function(){return d},a.xaxis,a.yaxis,
J,a.bars.horizontal,a.bars.lineWidth)}function W(a,b,d,e){if("string"==typeof a)return a;b=r.createLinearGradient(0,d,0,b);d=0;for(var h=a.colors.length;d<h;++d){var c=a.colors[d];if("string"!=typeof c){var m=f.color.parse(e);null!=c.brightness&&(m=m.scale("rgb",c.brightness));null!=c.opacity&&(m.a*=c.opacity);c=m.toString()}b.addColorStop(d/(h-1),c)}return b}var E=[],n={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",
container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,
radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,
mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},z=null,S=null,M=null,r=null,J=null,P=[],O=[],v={left:0,right:0,top:0,bottom:0},G=0,Q=0,y={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},D=this;D.setData=h;D.setupGrid=K;D.draw=t;D.getPlaceholder=function(){return b};D.getCanvas=function(){return z.element};D.getPlotOffset=function(){return v};D.width=function(){return G};
D.height=function(){return Q};D.offset=function(){var a=M.offset();a.left+=v.left;a.top+=v.top;return a};D.getData=function(){return E};D.getAxes=function(){var a={};f.each(P.concat(O),function(b,d){d&&(a[d.direction+(1!=d.n?d.n:"")+"axis"]=d)});return a};D.getXAxes=function(){return P};D.getYAxes=function(){return O};D.c2p=l;D.p2c=function(a){var b={},d,e,h;for(d=0;d<P.length;++d)if((e=P[d])&&e.used&&(h="x"+e.n,null==a[h]&&1==e.n&&(h="x"),null!=a[h])){b.left=e.p2c(a[h]);break}for(d=0;d<O.length;++d)if((e=
O[d])&&e.used&&(h="y"+e.n,null==a[h]&&1==e.n&&(h="y"),null!=a[h])){b.top=e.p2c(a[h]);break}return b};D.getOptions=function(){return n};D.highlight=T;D.unhighlight=aa;D.triggerRedrawOverlay=Y;D.pointOffset=function(a){return{left:parseInt(P[m(a,"x")-1].p2c(+a.x)+v.left,10),top:parseInt(O[m(a,"y")-1].p2c(+a.y)+v.top,10)}};D.shutdown=B;D.destroy=function(){B();b.removeData("plot").empty();E=[];J=r=M=S=z=n=null;P=[];O=[];y=null;w=[];D=null};D.resize=function(){var a=b.width(),d=b.height();z.resize(a,
d);S.resize(a,d)};D.hooks=y;(function(){for(var a={Canvas:k},b=0;b<d.length;++b){var e=d[b];e.init(D,a);e.options&&f.extend(!0,n,e.options)}})(D);(function(a){f.extend(!0,n,a);a&&a.colors&&(n.colors=a.colors);null==n.xaxis.color&&(n.xaxis.color=f.color.parse(n.grid.color).scale("a",0.22).toString());null==n.yaxis.color&&(n.yaxis.color=f.color.parse(n.grid.color).scale("a",0.22).toString());null==n.xaxis.tickColor&&(n.xaxis.tickColor=n.grid.tickColor||n.xaxis.color);null==n.yaxis.tickColor&&(n.yaxis.tickColor=
n.grid.tickColor||n.yaxis.color);null==n.grid.borderColor&&(n.grid.borderColor=n.grid.color);null==n.grid.tickColor&&(n.grid.tickColor=f.color.parse(n.grid.color).scale("a",0.22).toString());var d,h;a=(a=b.css("font-size"))?+a.replace("px",""):13;var c={style:b.css("font-style"),size:Math.round(0.8*a),variant:b.css("font-variant"),weight:b.css("font-weight"),family:b.css("font-family")};h=n.xaxes.length||1;for(a=0;a<h;++a)(d=n.xaxes[a])&&!d.tickColor&&(d.tickColor=d.color),d=f.extend(!0,{},n.xaxis,
d),n.xaxes[a]=d,d.font&&(d.font=f.extend({},c,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));h=n.yaxes.length||1;for(a=0;a<h;++a)(d=n.yaxes[a])&&!d.tickColor&&(d.tickColor=d.color),d=f.extend(!0,{},n.yaxis,d),n.yaxes[a]=d,d.font&&(d.font=f.extend({},c,d.font),d.font.color||(d.font.color=d.color),d.font.lineHeight||(d.font.lineHeight=Math.round(1.15*d.font.size)));n.xaxis.noTicks&&null==n.xaxis.ticks&&(n.xaxis.ticks=n.xaxis.noTicks);
n.yaxis.noTicks&&null==n.yaxis.ticks&&(n.yaxis.ticks=n.yaxis.noTicks);n.x2axis&&(n.xaxes[1]=f.extend(!0,{},n.xaxis,n.x2axis),n.xaxes[1].position="top");n.y2axis&&(n.yaxes[1]=f.extend(!0,{},n.yaxis,n.y2axis),n.yaxes[1].position="right");n.grid.coloredAreas&&(n.grid.markings=n.grid.coloredAreas);n.grid.coloredAreasColor&&(n.grid.markingsColor=n.grid.coloredAreasColor);n.lines&&f.extend(!0,n.series.lines,n.lines);n.points&&f.extend(!0,n.series.points,n.points);n.bars&&f.extend(!0,n.series.bars,n.bars);
null!=n.shadowSize&&(n.series.shadowSize=n.shadowSize);null!=n.highlightColor&&(n.series.highlightColor=n.highlightColor);for(a=0;a<n.xaxes.length;++a)s(P,a+1).options=n.xaxes[a];for(a=0;a<n.yaxes.length;++a)s(O,a+1).options=n.yaxes[a];for(var m in y)n.hooks[m]&&n.hooks[m].length&&(y[m]=y[m].concat(n.hooks[m]));e(y.processOptions,[n])})(a);(function(){b.css("padding",0).children().filter(function(){return!f(this).hasClass("flot-overlay")&&!f(this).hasClass("flot-base")}).remove();"static"==b.css("position")&&
b.css("position","relative");z=new k("flot-base",b);S=new k("flot-overlay",b);r=z.context;J=S.context;M=f(S.element).unbind();var a=b.data("plot");a&&(a.shutdown(),S.clear());b.data("plot",D)})();h(c);K();t();n.grid.hoverable&&(M.mousemove(da),M.bind("mouseleave",ea));n.grid.clickable&&M.click(fa);e(y.bindEvents,[M]);var w=[],x=null}var c=Object.prototype.hasOwnProperty;k.prototype.resize=function(b,c){if(0>=b||0>=c)throw Error("Invalid dimensions for plot, width \x3d "+b+", height \x3d "+c);var a=
this.element,d=this.context,e=this.pixelRatio;this.width!=b&&(a.width=b*e,a.style.width=b+"px",this.width=b);this.height!=c&&(a.height=c*e,a.style.height=c+"px",this.height=c);d.restore();d.save();d.scale(e,e)};k.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};k.prototype.render=function(){var b=this._textCache,g;for(g in b)if(c.call(b,g)){var a=this.getTextLayer(g),d=b[g];a.hide();for(var e in d)if(c.call(d,e)){var h=d[e],m;for(m in h)if(c.call(h,m)){for(var f=h[m].positions,
k=0,l;l=f[k];k++)l.active?l.rendered||(a.append(l.element),l.rendered=!0):(f.splice(k--,1),l.rendered&&l.element.detach());0==f.length&&delete h[m]}}a.show()}};k.prototype.getTextLayer=function(b){var c=this.text[b];null==c&&(null==this.textContainer&&(this.textContainer=f("\x3cdiv class\x3d'flot-text'\x3e\x3c/div\x3e").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=f("\x3cdiv\x3e\x3c/div\x3e").addClass(b).css({position:"absolute",
top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer));return c};k.prototype.getTextInfo=function(b,c,a,d,e){var h,m;c=""+c;d="object"===typeof a?a.style+" "+a.variant+" "+a.weight+" "+a.size+"px/"+a.lineHeight+"px "+a.family:a;h=this._textCache[b];null==h&&(h=this._textCache[b]={});m=h[d];null==m&&(m=h[d]={});h=m[c];null==h&&(b=f("\x3cdiv\x3e\x3c/div\x3e").html(c).css({position:"absolute","max-width":e,top:-9999}).appendTo(this.getTextLayer(b)),"object"===typeof a?b.css({font:d,color:a.color}):
"string"===typeof a&&b.addClass(a),h=m[c]={width:b.outerWidth(!0),height:b.outerHeight(!0),element:b,positions:[]},b.detach());return h};k.prototype.addText=function(b,c,a,d,e,h,m,f,k){b=this.getTextInfo(b,d,e,h,m);d=b.positions;"center"==f?c-=b.width/2:"right"==f&&(c-=b.width);"middle"==k?a-=b.height/2:"bottom"==k&&(a-=b.height);for(k=0;e=d[k];k++)if(e.x==c&&e.y==a){e.active=!0;return}e={active:!0,rendered:!1,element:d.length?b.element.clone():b.element,x:c,y:a};d.push(e);e.element.css({top:Math.round(a),
left:Math.round(c),"text-align":f})};k.prototype.removeText=function(b,g,a,d,e,h){if(null==d){if(g=this._textCache[b],null!=g)for(var m in g)if(c.call(g,m)){a=g[m];for(var f in a)if(c.call(a,f))for(b=a[f].positions,d=0;e=b[d];d++)e.active=!1}}else for(b=this.getTextInfo(b,d,e,h).positions,d=0;e=b[d];d++)e.x==g&&e.y==a&&(e.active=!1)};f.plot=function(b,c,a){return new l(f(b),c,a,f.plot.plugins)};f.plot.version="0.8.2";f.plot.plugins=[];f.fn.plot=function(b,c){return this.each(function(){f.plot(this,
b,c)})}})(jQuery);
(function(f){function k(a,b){return b*Math.floor(a/b)}function l(a,b,d,e){if("function"==typeof a.strftime)return a.strftime(b);var c=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},g=[],f=!1,k=a.getHours(),l=12>k;null==d&&(d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==e&&(e="Sun Mon Tue Wed Thu Fri Sat".split(" "));var I;I=12<k?k-12:0==k?12:k;for(var K=0;K<b.length;++K){var C=b.charAt(K);if(f){switch(C){case "a":C=""+e[a.getDay()];break;case "b":C=""+d[a.getMonth()];
break;case "d":C=c(a.getDate());break;case "e":C=c(a.getDate()," ");break;case "h":case "H":C=c(k);break;case "I":C=c(I);break;case "l":C=c(I," ");break;case "m":C=c(a.getMonth()+1);break;case "M":C=c(a.getMinutes());break;case "q":C=""+(Math.floor(a.getMonth()/3)+1);break;case "S":C=c(a.getSeconds());break;case "y":C=c(a.getFullYear()%100);break;case "Y":C=""+a.getFullYear();break;case "p":C=l?"am":"pm";break;case "P":C=l?"AM":"PM";break;case "w":C=""+a.getDay()}g.push(C);f=!1}else"%"==C?f=!0:g.push(C)}return g.join("")}
function c(a){function b(a,d,e,h){a[d]=function(){return e[h].apply(e,arguments)}}var d={date:a};void 0!=a.strftime&&b(d,"strftime",a,"strftime");b(d,"getTime",a,"getTime");b(d,"setTime",a,"setTime");for(var e="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),c=0;c<e.length;c++)b(d,"get"+e[c],a,"getUTC"+e[c]),b(d,"set"+e[c],a,"setUTC"+e[c]);return d}function b(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var d=new timezoneJS.Date;d.setTimezone(b.timezone);d.setTime(a);return d}return c(new Date(a))}var g={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},a=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"]],d=a.concat([[3,
"month"],[6,"month"],[1,"year"]]),e=a.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);f.plot.plugins.push({init:function(a){a.hooks.processOptions.push(function(a,h){f.each(a.getAxes(),function(a,h){var c=h.options;"time"==c.mode&&(h.tickGenerator=function(a){var h=[],m=b(a.min,c),f=0,l=c.tickSize&&"quarter"===c.tickSize[1]||c.minTickSize&&"quarter"===c.minTickSize[1]?e:d;null!=c.minTickSize&&(f="number"==typeof c.tickSize?c.tickSize:c.minTickSize[0]*g[c.minTickSize[1]]);for(var p=0;p<l.length-1&&
!(a.delta<(l[p][0]*g[l[p][1]]+l[p+1][0]*g[l[p+1][1]])/2&&l[p][0]*g[l[p][1]]>=f);++p);f=l[p][0];l=l[p][1];"year"==l&&(null!=c.minTickSize&&"year"==c.minTickSize[1]?f=Math.floor(c.minTickSize[0]):(p=Math.pow(10,Math.floor(Math.log(a.delta/g.year)/Math.LN10)),f=a.delta/g.year/p,f=(1.5>f?1:3>f?2:7.5>f?5:10)*p),1>f&&(f=1));a.tickSize=c.tickSize||[f,l];p=a.tickSize[0];l=a.tickSize[1];f=p*g[l];"second"==l?m.setSeconds(k(m.getSeconds(),p)):"minute"==l?m.setMinutes(k(m.getMinutes(),p)):"hour"==l?m.setHours(k(m.getHours(),
p)):"month"==l?m.setMonth(k(m.getMonth(),p)):"quarter"==l?m.setMonth(3*k(m.getMonth()/3,p)):"year"==l&&m.setFullYear(k(m.getFullYear(),p));m.setMilliseconds(0);f>=g.minute&&m.setSeconds(0);f>=g.hour&&m.setMinutes(0);f>=g.day&&m.setHours(0);f>=4*g.day&&m.setDate(1);f>=2*g.month&&m.setMonth(k(m.getMonth(),3));f>=2*g.quarter&&m.setMonth(k(m.getMonth(),6));f>=g.year&&m.setMonth(0);var q=0,s=Number.NaN,R;do if(R=s,s=m.getTime(),h.push(s),"month"==l||"quarter"==l)if(1>p){m.setDate(1);var V=m.getTime();
m.setMonth(m.getMonth()+("quarter"==l?3:1));var X=m.getTime();m.setTime(s+q*g.hour+(X-V)*p);q=m.getHours();m.setHours(0)}else m.setMonth(m.getMonth()+p*("quarter"==l?3:1));else"year"==l?m.setFullYear(m.getFullYear()+p):m.setTime(s+f);while(s<a.max&&s!=R);return h},h.tickFormatter=function(a,d){var e=b(a,d.options);if(null!=c.timeformat)return l(e,c.timeformat,c.monthNames,c.dayNames);var h=d.options.tickSize&&"quarter"==d.options.tickSize[1]||d.options.minTickSize&&"quarter"==d.options.minTickSize[1],
m=d.tickSize[0]*g[d.tickSize[1]],f=d.max-d.min,k=c.twelveHourClock?" %p":"",p=c.twelveHourClock?"%I":"%H";return l(e,m<g.minute?p+":%M:%S"+k:m<g.day?f<2*g.day?p+":%M"+k:"%b %d "+p+":%M"+k:m<g.month?"%b %d":h&&m<g.quarter||!h&&m<g.year?f<g.year?"%b":"%b %Y":h&&m<g.year?f<g.year?"Q%q":"Q%q %Y":"%Y",c.monthNames,c.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});f.plot.formatDate=l})(jQuery);
(function(f){function k(e){var h,c=this,p=e.data||{};if(p.elem)c=e.dragTarget=p.elem,e.dragProxy=d.proxy||c,e.cursorOffsetX=p.pageX-p.left,e.cursorOffsetY=p.pageY-p.top,e.offsetX=e.pageX-e.cursorOffsetX,e.offsetY=e.pageY-e.cursorOffsetY;else if(d.dragging||0<p.which&&e.which!=p.which||f(e.target).is(p.not))return;switch(e.type){case "mousedown":return f.extend(p,f(c).offset(),{elem:c,target:e.target,pageX:e.pageX,pageY:e.pageY}),g.add(document,"mousemove mouseup",k,p),b(c,!1),d.dragging=null,!1;case !d.dragging&&
"mousemove":if(Math.pow(e.pageX-p.pageX,2)+Math.pow(e.pageY-p.pageY,2)<p.distance)break;e.target=p.target;h=l(e,"dragstart",c);!1!==h&&(d.dragging=c,d.proxy=e.dragProxy=f(h||c)[0]);case "mousemove":if(d.dragging){if(h=l(e,"drag",c),a.drop&&(a.drop.allowed=!1!==h,a.drop.handler(e)),!1!==h)break;e.type="mouseup"}case "mouseup":g.remove(document,"mousemove mouseup",k),d.dragging&&(a.drop&&a.drop.handler(e),l(e,"dragend",c)),b(c,!0),d.dragging=d.proxy=p.elem=!1}return!0}function l(a,b,d){a.type=b;b=f.event.dispatch.call(d,
a);return!1===b?!1:b||a.result}function c(){return!1===d.dragging}function b(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}f.fn.drag=function(a,b,d){return b&&this.bind("dragstart",a),d&&this.bind("dragend",d),a?this.bind("drag",b?b:a):this.trigger("drag")};var g=f.event,a=g.special,d=a.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=f.extend({distance:d.distance,which:d.which,not:d.not},a||{});a.distance=
Math.pow(a.distance,2);g.add(this,"mousedown",k,a);this.attachEvent&&this.attachEvent("ondragstart",c)},teardown:function(){g.remove(this,"mousedown",k);this===d.dragging&&(d.dragging=d.proxy=!1);b(this,!0);this.detachEvent&&this.detachEvent("ondragstart",c)}};a.dragstart=a.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(f){function k(b){var c=b||window.event,a=[].slice.call(arguments,1),d=0,e=0,h=0;b=f.event.fix(c);b.type="mousewheel";c.wheelDelta&&(d=c.wheelDelta/120);c.detail&&(d=-c.detail/3);h=d;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(h=0,e=-1*d);void 0!==c.wheelDeltaY&&(h=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(e=-1*c.wheelDeltaX/120);a.unshift(b,d,e,h);return(f.event.dispatch||f.event.handle).apply(this,a)}var l=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks)for(var c=l.length;c;)f.event.fixHooks[l[--c]]=
f.event.mouseHooks;f.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=l.length;b;)this.addEventListener(l[--b],k,!1);else this.onmousewheel=k},teardown:function(){if(this.removeEventListener)for(var b=l.length;b;)this.removeEventListener(l[--b],k,!1);else this.onmousewheel=null}};f.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(f){var k={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20,touch:!1}};f.plot.plugins.push({init:function(l){function c(a,b){var d=l.offset();d.left=a.pageX-d.left;d.top=a.pageY-d.top;b?l.zoomOut({center:d}):l.zoom({center:d})}function b(a,b){a.preventDefault();c(a,0>b);return!1}function g(a){if("touchstart"===a.type&&1===a.originalEvent.touches.length)k.pan.touch=!0;else if(1!==a.which||a.originalEvent.touches&&
1<a.originalEvent.touches.length)return;var b=l.getPlaceholder().css("cursor");b&&(e=b);l.getPlaceholder().css("cursor",l.getOptions().pan.cursor);a=k.pan.touch?a.originalEvent.changedTouches[0]:a;h=a.pageX;m=a.pageY}function a(a){var b=l.getOptions().pan.frameRate;!p&&b&&(p=setTimeout(function(){var b=k.pan.touch?a.originalEvent.changedTouches[0]:a;l.pan({left:h-b.pageX,top:m-b.pageY});h=b.pageX;m=b.pageY;p=null},1E3*(1/b)))}function d(a){p&&(clearTimeout(p),p=null);a=k.pan.touch?a.originalEvent.changedTouches[0]:
a;l.getPlaceholder().css("cursor",e);l.pan({left:h-a.pageX,top:m-a.pageY});l.getPlaceholder().trigger("plotpanEnd",[l])}var e="default",h=0,m=0,p=null,q;l.unbindPanZoomEvents=function(e){q.unbind("mousewheel",b);q.unbind("dragstart",g);q.unbind("drag",a);q.unbind("dragend",d);q.unbind("touchstart");q.unbind("touchmove");q.unbind("touchend")};l.zoomOut=function(a){a||(a={});a.amount||(a.amount=l.getOptions().zoom.amount);a.amount=1/a.amount;l.zoom(a)};l.zoom=function(a){a||(a={});var b=a.center,d=
a.amount||l.getOptions().zoom.amount,e=l.width(),h=l.height();b||(b={left:e/2,top:h/2});var c=b.left/e,m=b.top/h,g={x:{min:b.left-c*e/d,max:b.left+(1-c)*e/d},y:{min:b.top-m*h/d,max:b.top+(1-m)*h/d}};f.each(l.getAxes(),function(a,b){var e=b.options,h=g[b.direction].min,c=g[b.direction].max,m=e.zoomRange,f=e.panRange;if(!1!==m){h=b.c2p(h);c=b.c2p(c);if(h>c)var k=h,h=c,c=k;f&&(null!=f[0]&&h<f[0]&&(h=f[0]),null!=f[1]&&c>f[1]&&(c=f[1]));f=c-h;m&&(null!=m[0]&&f<m[0]&&1<d||null!=m[1]&&f>m[1]&&1>d)||(e.min=
h,e.max=c)}});l.setupGrid();l.draw();a.preventEvent||l.getPlaceholder().trigger("plotzoom",[l,a])};l.pan=function(a){var b={x:+a.left,y:+a.top};isNaN(b.x)&&(b.x=0);isNaN(b.y)&&(b.y=0);f.each(l.getAxes(),function(a,d){var e=d.options,h,c,m=b[d.direction];h=d.c2p(d.p2c(d.min)+m);c=d.c2p(d.p2c(d.max)+m);var g=e.panRange;!1!==g&&(g&&(null!=g[0]&&g[0]>h&&(m=g[0]-h,h+=m,c+=m),null!=g[1]&&g[1]<c&&(m=g[1]-c,h+=m,c+=m)),e.min=h,e.max=c)});l.setupGrid();l.draw();a.preventEvent||l.getPlaceholder().trigger("plotpan",
[l,a])};l.hooks.bindEvents.push(function(e,h){q=h;var m=e.getOptions();m.zoom.interactive&&(q[m.zoom.trigger](c),q.mousewheel(b));m.pan.interactive&&(q.bind("dragstart",{distance:10},g),q.bind("drag",a),q.bind("dragend",d),q.bind("touchstart",function(a){q.unbind("dragstart",g);g(a)}),q.bind("touchmove",function(b){q.unbind("drag",a);a(b)}),q.bind("touchend",function(a){q.unbind("dragend",d);d(a)}))});l.hooks.shutdown.push(function(e,h){h.unbind(e.getOptions().zoom.trigger,c);h.unbind("mousewheel",
b);h.unbind("dragstart",g);h.unbind("drag",a);h.unbind("dragend",d);h.unbind("touchstart");h.unbind("touchmove");h.unbind("touchend");p&&clearTimeout(p)})},options:k,name:"navigate",version:"1.3"})})(jQuery);
(function(f){function k(c){var b=!1,g=!1,a={x:-1,y:-1},d=0,e={x:0,y:0},h=1,m=50,k=50;c.hooks.processOptions.push(function(a,b){var d=a.getPlaceholder();b.touch.autoWidth&&d.css("width","100%");if(b.touch.autoHeight){var e=d.parent(),h=0;e.siblings().each(function(){h-=f(this).outerHeight()});h-=parseInt(e.css("padding-top"),10);h-=parseInt(e.css("padding-bottom"),10);h+=window.innerHeight;d.css("height",0>=h?100:h+"px")}});c.hooks.bindEvents.push(function(l,s){var u=l.getPlaceholder(),B=f('\x3cdiv class\x3d"flot-touch-container" style\x3d"background:#fff;"/\x3e');
u.css({}).children("canvas").wrapAll(B);u.bind("touchstart",function(e){var h=e.originalEvent.touches;e=u.children("div.flot-touch-container");1===h.length?(b=!0,a={x:h[0].pageX,y:h[0].pageY},d=0):2===h.length&&(g=!0,a={x:(h[0].pageX+h[1].pageX)/2,y:(h[0].pageY+h[1].pageY)/2},d=Math.sqrt(Math.pow(h[1].pageX-h[0].pageX,2)+Math.pow(h[1].pageY-h[0].pageY,2)));var c=u.offset(),h=c.left,c=c.top,f=u.width(),l=u.height(),q=a.x,s=a.y;q<h?q=h:q>h+f&&(q=h+f);s<c?s=c:s>c+l&&(s=c+l);m=Math.round(100*(q/f));k=
Math.round(100*(s/l));e.css("-webkit-transform-origin",m+"% "+k+"%");return!1});u.bind("touchmove",function(m){m=m.originalEvent.touches;var f,k;if(b&&1===m.length){m={x:m[0].pageX,y:m[0].pageY};f=k={x:a.x-m.x,y:a.y-m.y};k=c.getPlaceholder();var l=c.getOptions();e.x-=f.x;e.y-=f.y;switch(l.touch.pan.toLowerCase()){case "x":k.children("div.flot-touch-container").css("-webkit-transform","translateX("+e.x+"px)");break;case "y":k.children("div.flot-touch-container").css("-webkit-transform","translateY("+
e.y+"px)");break;default:k.children("div.flot-touch-container").css("-webkit-transform","translate("+e.x+"px,"+e.y+"px)")}a=m;d=0}else if(g&&2===m.length){f=Math.sqrt(Math.pow(m[1].pageX-m[0].pageX,2)+Math.pow(m[1].pageY-m[0].pageY,2));m={x:(m[0].pageX+m[1].pageX)/2,y:(m[0].pageY+m[1].pageY)/2};k=f-d;var p=c.getPlaceholder(),l=c.getOptions(),p=p.children("div.flot-touch-container");h*=1+k/100;switch(l.touch.scale.toLowerCase()){case "x":p.css("-webkit-transform","scaleX("+h+")");break;case "y":p.css("-webkit-transform",
"scaleY("+h+")");break;case "xy":p.css("-webkit-transform","scale("+h+")")}a=m;d=f}});u.bind("touchend",function(c){c=l.getPlaceholder();var s=l.getOptions();c=c.children("div.flot-touch-container");var u=0!==e.x||0!==e.y,B=1!==h;u&&f.each(l.getAxes(),function(a,b){if(b.direction===s.touch.pan.toLowerCase()||"xy"==s.touch.pan.toLowerCase()){var d=b.c2p(b.p2c(b.min)-e[b.direction]),h=b.c2p(b.p2c(b.max)-e[b.direction]);b.options.min=d;b.options.max=h}});if(B){var C=l.width(),t=l.height(),U=Math.round(m/
100*C),R=Math.round(k/100*t),V={x:{min:U-m/100*C/h,max:U+(1-m/100)*C/h},y:{min:R-k/100*t/h,max:R+(1-k/100)*t/h}};f.each(l.getAxes(),function(a,b){if(b.direction===s.touch.scale.toLowerCase()||"xy"==s.touch.scale.toLowerCase()){var d=b.c2p(V[b.direction].min),e=b.c2p(V[b.direction].max);if(d>e)var h=d,d=e,e=h;b.options.min=d;b.options.max=e}})}l.setupGrid();l.draw();g=b=!1;a={x:-1,y:-1};d=0;e={x:0,y:0};h=1;k=m=50;c.css({"-webkit-transform":"translate("+e.x+"px,"+e.y+"px) scale("+h+")","-webkit-transform-origin":m+
"% "+k+"%"});u&&l.getPlaceholder().trigger("plotpanEnd",[l]);B&&l.getPlaceholder().trigger("plotzoom",[l])})});c.hooks.processDatapoints.push(function(a,b,d){window.devicePixelRatio&&a.getPlaceholder().children("canvas").each(function(a,b){var d=b.getContext("2d"),e=f(b).attr("width"),h=f(b).attr("height");f(b).attr("width",e*window.devicePixelRatio);f(b).attr("height",h*window.devicePixelRatio);f(b).css("width",e+"px");f(b).css("height",h+"px");d.scale(window.devicePixelRatio,window.devicePixelRatio)})});
c.hooks.shutdown.push(function(a,b){a.getPlaceholder().unbind("touchstart").unbind("touchmove").unbind("touchend")});l||(f(document).bind("ready orientationchange",function(a){window.scrollTo(0,1);setTimeout(function(){f.plot(placeholder,c.getData(),c.getOptions())},50)}),l=!0)}if(window.isMobile()||window.isTouchDevice()){var l=!1;f.plot.plugins.push({init:k,options:{touch:{pan:"x",autoWidth:!0,autoHeight:!1}},name:"touch",version:"1.0"})}})(jQuery);
(function(f){f.gritter={};f.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1E3,time:6E3};f.gritter.add=function(f){try{return k.add(f||{})}catch(c){var b="Gritter Error: "+c;"undefined"!=typeof console&&console.error?console.error(b,f):alert(b)}};f.gritter.remove=function(f,c){k.removeSpecific(f,c||{})};f.gritter.removeAll=function(f){k.stop(f||{})};var k={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'\x3ca class\x3d"gritter-close" href\x3d"#" tabindex\x3d"1"\x3eClose Notification\x3c/a\x3e',
_tpl_title:'\x3cspan class\x3d"gritter-title"\x3e[[title]]\x3c/span\x3e',_tpl_item:'\x3cdiv id\x3d"gritter-item-[[number]]" class\x3d"gritter-item-wrapper [[item_class]]" style\x3d"display:none" role\x3d"alert"\x3e\x3cdiv class\x3d"gritter-top"\x3e\x3c/div\x3e\x3cdiv class\x3d"gritter-item"\x3e[[close]][[image]]\x3cdiv class\x3d"[[class_name]]"\x3e[[title]]\x3cp\x3e[[text]]\x3c/p\x3e\x3c/div\x3e\x3cdiv style\x3d"clear:both"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"gritter-bottom"\x3e\x3c/div\x3e\x3c/div\x3e',
_tpl_wrap:'\x3cdiv id\x3d"gritter-notice-wrapper"\x3e\x3c/div\x3e',add:function(l){"string"==typeof l&&(l={text:l});if(null===l.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var c=l.title,b=l.text,g=l.image||"",a=l.sticky||!1,d=l.class_name||f.gritter.options.class_name,e=f.gritter.options.position,h=l.time||"";this._verifyWrapper();this._item_count++;var m=this._item_count,p=this._tpl_item;f(["before_open","after_open","before_close","after_close"]).each(function(a,
b){k["_"+b+"_"+m]=f.isFunction(l[b])?l[b]:function(){}});this._custom_timer=0;h&&(this._custom_timer=h);h=""!=g?'\x3cimg src\x3d"'+g+'" class\x3d"gritter-image" /\x3e':"";g=""!=g?"gritter-with-image":"gritter-without-image";c=c?this._str_replace("[[title]]",c,this._tpl_title):"";p=this._str_replace("[[title]] [[text]] [[close]] [[image]] [[number]] [[class_name]] [[item_class]]".split(" "),[c,b,this._tpl_close,h,this._item_count,g,d],p);if(!1===this["_before_open_"+m]())return!1;f("#gritter-notice-wrapper").addClass(e).append(p);
c=f("#gritter-item-"+this._item_count);c.fadeIn(this.fade_in_speed,function(){k["_after_open_"+m](f(this))});a||this._setFadeTimer(c,m);f(c).bind("mouseenter mouseleave",function(b){"mouseenter"==b.type?a||k._restoreItemIfFading(f(this),m):a||k._setFadeTimer(f(this),m);k._hoverState(f(this),b.type)});f(c).find(".gritter-close").click(function(){k.removeSpecific(m,{},null,!0);return!1});return m},_countRemoveWrapper:function(k,c,b){c.remove();this["_after_close_"+k](c,b);0==f(".gritter-item-wrapper").length&&
f("#gritter-notice-wrapper").remove()},_fade:function(f,c,b,g){b=b||{};var a="undefined"!=typeof b.fade?b.fade:!0;b=b.speed||this.fade_out_speed;this["_before_close_"+c](f,g);g&&f.unbind("mouseenter mouseleave");a?f.animate({opacity:0},b,function(){f.animate({height:0},300,function(){k._countRemoveWrapper(c,f,g)})}):this._countRemoveWrapper(c,f)},_hoverState:function(f,c){"mouseenter"==c?(f.addClass("hover"),f.find(".gritter-close").show()):(f.removeClass("hover"),f.find(".gritter-close").hide())},
removeSpecific:function(k,c,b,g){b||(b=f("#gritter-item-"+k));this._fade(b,k,c||{},g)},_restoreItemIfFading:function(f,c){clearTimeout(this["_int_id_"+c]);f.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in f.gritter.options)this[opt]=f.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(f,c){this["_int_id_"+c]=setTimeout(function(){k._fade(f,c)},this._custom_timer?this._custom_timer:this.time)},stop:function(k){var c=f.isFunction(k.before_close)?k.before_close:function(){},
b=f.isFunction(k.after_close)?k.after_close:function(){};k=f("#gritter-notice-wrapper");c(k);k.fadeOut(function(){f(this).remove();b()})},_str_replace:function(f,c,b,g){var a=0,d=0,e="",h="",m=0,k=0;f=[].concat(f);c=[].concat(c);var q=c instanceof Array,s=b instanceof Array;b=[].concat(b);g&&(this.window[g]=0);a=0;for(m=b.length;a<m;a++)if(""!==b[a])for(d=0,k=f.length;d<k;d++)e=b[a]+"",h=q?void 0!==c[d]?c[d]:"":c[0],b[a]=e.split(f[d]).join(h),g&&b[a]!==e&&(this.window[g]+=(e.length-b[a].length)/f[d].length);
return s?b:b[0]},_verifyWrapper:function(){0==f("#gritter-notice-wrapper").length&&f("body").append(this._tpl_wrap)}}})(jQuery);
(function(f,k){var l,c;if("localStorage"in window)try{c="undefined"===typeof window.localStorage?k:window.localStorage,l="undefined"==typeof c||"undefined"==typeof window.JSON?!1:!0}catch(b){l=!1}f.totalStorage=function(b,a,d){return f.totalStorage.impl.init(b,a)};f.totalStorage.setItem=function(b,a){return f.totalStorage.impl.setItem(b,a)};f.totalStorage.getItem=function(b){return f.totalStorage.impl.getItem(b)};f.totalStorage.getAll=function(){return f.totalStorage.impl.getAll()};f.totalStorage.deleteItem=
function(b){return f.totalStorage.impl.deleteItem(b)};f.totalStorage.impl={init:function(b,a){return"undefined"!=typeof a?this.setItem(b,a):this.getItem(b)},setItem:function(b,a){if(!l)try{return f.cookie(b,a),a}catch(d){DEBUG&&console.log("Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality. You can get it at https://github.com/carhartl/jquery-cookie")}var e=JSON.stringify(a);c.setItem(b,e);return this.parseResult(e)},getItem:function(b){if(!l)try{return this.parseResult(f.cookie(b))}catch(a){return null}b=
c.getItem(b);return this.parseResult(b)},deleteItem:function(b){if(!l)try{return f.cookie(b,null),!0}catch(a){return!1}c.removeItem(b);return!0},getAll:function(){var b=[];if(l)for(var a in c)a.length&&b.push({key:a,value:this.parseResult(c.getItem(a))});else try{var d=document.cookie.split(";");for(a=0;a<d.length;a++){var e=d[a].split("\x3d")[0];b.push({key:e,value:this.parseResult(f.cookie(e))})}}catch(h){return null}return b},parseResult:function(b){var a;try{a=JSON.parse(b),"undefined"==typeof a&&
(a=b),"true"==a&&(a=!0),"false"==a&&(a=!1),parseFloat(a)==a&&"object"!=typeof a&&(a=parseFloat(a))}catch(d){a=b}return a}}})(jQuery);
(function(f,k,l){var c=f.L,b={version:"0.7.1"};"object"===typeof module&&"object"===typeof module.exports?module.exports=b:"function"===typeof define&&define.amd&&define(b);b.noConflict=function(){f.L=c;return this};f.L=b;b.Util={extend:function(a){var b=Array.prototype.slice.call(arguments,1),e,h,c,g;h=0;for(c=b.length;h<c;h++)for(e in g=b[h]||{},g)g.hasOwnProperty(e)&&(a[e]=g[e]);return a},bind:function(a,b){var e=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return function(){return a.apply(b,
e||arguments)}},stamp:function(){var a=0;return function(b){b._leaflet_id=b._leaflet_id||++a;return b._leaflet_id}}(),invokeEach:function(a,b,e){var h,c;if("object"===typeof a){c=Array.prototype.slice.call(arguments,3);for(h in a)b.apply(e,[h,a[h]].concat(c));return!0}return!1},limitExecByInterval:function(a,b,e){var h,c;return function q(){var g=arguments;h?c=!0:(h=!0,setTimeout(function(){h=!1;c&&(q.apply(e,g),c=!1)},b),a.apply(e,g))}},falseFn:function(){return!1},formatNum:function(a,b){var e=
Math.pow(10,b||5);return Math.round(a*e)/e},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return b.Util.trim(a).split(/\s+/)},setOptions:function(a,d){a.options=b.extend({},a.options,d);return a.options},getParamString:function(a,b,e){var h=[],c;for(c in a)h.push(encodeURIComponent(e?c.toUpperCase():c)+"\x3d"+encodeURIComponent(a[c]));return(b&&-1!==b.indexOf("?")?"\x26":"?")+h.join("\x26")},template:function(a,b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,
h){var c=b[h];if(c===l)throw Error("No value provided for variable "+a);"function"===typeof c&&(c=c(b));return c})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"};(function(){function a(a){var b,d,e=["webkit","moz","o","ms"];for(b=0;b<e.length&&!d;b++)d=f[e[b]+a];return d}function d(a){var b=+new Date,d=Math.max(0,16-(b-e));e=b+d;return f.setTimeout(a,d)}var e=0,h=f.requestAnimationFrame||
a("RequestAnimationFrame")||d,c=f.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(a){f.clearTimeout(a)};b.Util.requestAnimFrame=function(a,e,c,m){a=b.bind(a,e);if(c&&h===d)a();else return h.call(f,a,m)};b.Util.cancelAnimFrame=function(a){a&&c.call(f,a)}})();b.extend=b.Util.extend;b.bind=b.Util.bind;b.stamp=b.Util.stamp;b.setOptions=b.Util.setOptions;b.Class=function(){};b.Class.extend=function(a){var d=function(){this.initialize&&this.initialize.apply(this,
arguments);this._initHooks&&this.callInitHooks()},e=function(){};e.prototype=this.prototype;var h=new e;h.constructor=d;d.prototype=h;for(var c in this)this.hasOwnProperty(c)&&"prototype"!==c&&(d[c]=this[c]);a.statics&&(b.extend(d,a.statics),delete a.statics);a.includes&&(b.Util.extend.apply(null,[h].concat(a.includes)),delete a.includes);a.options&&h.options&&(a.options=b.extend({},h.options,a.options));b.extend(h,a);h._initHooks=[];var g=this;d.__super__=g.prototype;h.callInitHooks=function(){if(!this._initHooksCalled){g.prototype.callInitHooks&&
g.prototype.callInitHooks.call(this);this._initHooksCalled=!0;for(var a=0,b=h._initHooks.length;a<b;a++)h._initHooks[a].call(this)}};return d};b.Class.include=function(a){b.extend(this.prototype,a)};b.Class.mergeOptions=function(a){b.extend(this.prototype.options,a)};b.Class.addInitHook=function(a){var b=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof a?a:function(){this[a].apply(this,b)})};b.Mixin=
{};b.Mixin.Events={addEventListener:function(a,d,e){if(b.Util.invokeEach(a,this.addEventListener,this,d,e))return this;var h=this._leaflet_events=this._leaflet_events||{},c=e&&e!==this&&b.stamp(e),g,f,k,l,B;a=b.Util.splitWords(a);g=0;for(f=a.length;g<f;g++)k={action:d,context:e||this},l=a[g],c?(B=l+"_idx",l=B+"_len",B=h[B]=h[B]||{},B[c]||(B[c]=[],h[l]=(h[l]||0)+1),B[c].push(k)):(h[l]=h[l]||[],h[l].push(k));return this},hasEventListeners:function(a){var b=this._leaflet_events;return!!b&&(a in b&&0<
b[a].length||a+"_idx"in b&&0<b[a+"_idx_len"])},removeEventListener:function(a,d,e){if(!this._leaflet_events)return this;if(!a)return this.clearAllEventListeners();if(b.Util.invokeEach(a,this.removeEventListener,this,d,e))return this;var h=this._leaflet_events,c=e&&e!==this&&b.stamp(e),g,f,k,l,B,F,H;a=b.Util.splitWords(a);g=0;for(f=a.length;g<f;g++)if(k=a[g],l=k+"_idx",B=l+"_len",F=h[l],d){if(k=c&&F?F[c]:h[k]){for(l=k.length-1;0<=l;l--)k[l].action!==d||e&&k[l].context!==e||(H=k.splice(l,1),H[0].action=
b.Util.falseFn);e&&F&&0===k.length&&(delete F[c],h[B]--)}}else delete h[k],delete h[l],delete h[B];return this},clearAllEventListeners:function(){delete this._leaflet_events;return this},fireEvent:function(a,d){if(!this.hasEventListeners(a))return this;var e=b.Util.extend({},d,{type:a,target:this}),h=this._leaflet_events,c,g,f,k;if(h[a])for(c=h[a].slice(),g=0,f=c.length;g<f;g++)c[g].action.call(c[g].context,e);h=h[a+"_idx"];for(k in h)if(c=h[k].slice())for(g=0,f=c.length;g<f;g++)c[g].action.call(c[g].context,
e);return this},addOneTimeEventListener:function(a,d,e){if(b.Util.invokeEach(a,this.addOneTimeEventListener,this,d,e))return this;var h=b.bind(function(){this.removeEventListener(a,d,e).removeEventListener(a,h,e)},this);return this.addEventListener(a,d,e).addEventListener(a,h,e)}};b.Mixin.Events.on=b.Mixin.Events.addEventListener;b.Mixin.Events.off=b.Mixin.Events.removeEventListener;b.Mixin.Events.once=b.Mixin.Events.addOneTimeEventListener;b.Mixin.Events.fire=b.Mixin.Events.fireEvent;(function(){var a=
"ActiveXObject"in f,d=a&&!k.addEventListener,e=navigator.userAgent.toLowerCase(),h=-1!==e.indexOf("webkit"),c=-1!==e.indexOf("chrome"),g=-1!==e.indexOf("phantom"),q=-1!==e.indexOf("android"),s=-1!==e.search("android [23]"),e=-1!==e.indexOf("gecko"),u=typeof orientation!==l+"",B=f.navigator&&f.navigator.msPointerEnabled&&f.navigator.msMaxTouchPoints&&!f.PointerEvent,F=f.PointerEvent&&f.navigator.pointerEnabled&&f.navigator.maxTouchPoints||B,H="devicePixelRatio"in f&&1<f.devicePixelRatio||"matchMedia"in
f&&f.matchMedia("(min-resolution:144dpi)")&&f.matchMedia("(min-resolution:144dpi)").matches,I=k.documentElement,K=a&&"transition"in I.style,C="WebKitCSSMatrix"in f&&"m11"in new f.WebKitCSSMatrix&&!s,t="MozPerspective"in I.style,U="OTransition"in I.style,R=!f.L_DISABLE_3D&&(K||C||t||U)&&!g,g=!f.L_NO_TOUCH&&!g&&function(){if(F||"ontouchstart"in I)return!0;var a=k.createElement("div"),b=!1;if(!a.setAttribute)return!1;a.setAttribute("ontouchstart","return;");"function"===typeof a.ontouchstart&&(b=!0);
a.removeAttribute("ontouchstart");return b}();b.Browser={ie:a,ielt9:d,webkit:h,gecko:e&&!h&&!f.opera&&!a,android:q,android23:s,chrome:c,ie3d:K,webkit3d:C,gecko3d:t,opera3d:U,any3d:R,mobile:u,mobileWebkit:u&&h,mobileWebkit3d:u&&C,mobileOpera:u&&f.opera,touch:g,msPointer:B,pointer:F,retina:H}})();b.Point=function(a,b,e){this.x=e?Math.round(a):a;this.y=e?Math.round(b):b};b.Point.prototype={clone:function(){return new b.Point(this.x,this.y)},add:function(a){return this.clone()._add(b.point(a))},_add:function(a){this.x+=
a.x;this.y+=a.y;return this},subtract:function(a){return this.clone()._subtract(b.point(a))},_subtract:function(a){this.x-=a.x;this.y-=a.y;return this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){this.x/=a;this.y/=a;return this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){this.x*=a;this.y*=a;return this},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},
floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},distanceTo:function(a){a=b.point(a);var d=a.x-this.x;a=a.y-this.y;return Math.sqrt(d*d+a*a)},equals:function(a){a=b.point(a);return a.x===this.x&&a.y===this.y},contains:function(a){a=b.point(a);return Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+b.Util.formatNum(this.x)+", "+b.Util.formatNum(this.y)+")"}};b.point=
function(a,d,e){return a instanceof b.Point?a:b.Util.isArray(a)?new b.Point(a[0],a[1]):a===l||null===a?a:new b.Point(a,d,e)};b.Bounds=function(a,b){if(a)for(var e=b?[a,b]:a,h=0,c=e.length;h<c;h++)this.extend(e[h])};b.Bounds.prototype={extend:function(a){a=b.point(a);this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone());return this},getCenter:function(a){return new b.Point((this.min.x+
this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new b.Point(this.min.x,this.max.y)},getTopRight:function(){return new b.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d;a="number"===typeof a[0]||a instanceof b.Point?b.point(a):b.bounds(a);a instanceof b.Bounds?(d=a.min,a=a.max):d=a;return d.x>=this.min.x&&a.x<=this.max.x&&d.y>=this.min.y&&a.y<=this.max.y},intersects:function(a){a=b.bounds(a);var d=this.min,
e=this.max,h=a.min;a=a.max;var c=a.y>=d.y&&h.y<=e.y;return a.x>=d.x&&h.x<=e.x&&c},isValid:function(){return!(!this.min||!this.max)}};b.bounds=function(a,d){return!a||a instanceof b.Bounds?a:new b.Bounds(a,d)};b.Transformation=function(a,b,e,h){this._a=a;this._b=b;this._c=e;this._d=h};b.Transformation.prototype={transform:function(a,b){return this._transform(a.clone(),b)},_transform:function(a,b){b=b||1;a.x=b*(this._a*a.x+this._b);a.y=b*(this._c*a.y+this._d);return a},untransform:function(a,d){d=d||
1;return new b.Point((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};b.DomUtil={get:function(a){return"string"===typeof a?k.getElementById(a):a},getStyle:function(a,b){var e=a.style[b];!e&&a.currentStyle&&(e=a.currentStyle[b]);e&&"auto"!==e||!k.defaultView||(e=(e=k.defaultView.getComputedStyle(a,null))?e[b]:null);return"auto"===e?null:e},getViewportOffset:function(a){var d=0,e=0,h=a,c=k.body,g=k.documentElement,f;do{d+=h.offsetTop||0;e+=h.offsetLeft||0;d+=parseInt(b.DomUtil.getStyle(h,"borderTopWidth"),
10)||0;e+=parseInt(b.DomUtil.getStyle(h,"borderLeftWidth"),10)||0;f=b.DomUtil.getStyle(h,"position");if(h.offsetParent===c&&"absolute"===f)break;if("fixed"===f){d+=c.scrollTop||g.scrollTop||0;e+=c.scrollLeft||g.scrollLeft||0;break}if("relative"===f&&!h.offsetLeft){f=b.DomUtil.getStyle(h,"width");var l=b.DomUtil.getStyle(h,"max-width"),u=h.getBoundingClientRect();if("none"!==f||"none"!==l)e+=u.left+h.clientLeft;d+=u.top+(c.scrollTop||g.scrollTop||0);break}h=h.offsetParent}while(h);h=a;do{if(h===c)break;
d-=h.scrollTop||0;e-=h.scrollLeft||0;h=h.parentNode}while(h);return new b.Point(e,d)},documentIsLtr:function(){b.DomUtil._docIsLtrCached||(b.DomUtil._docIsLtrCached=!0,b.DomUtil._docIsLtr="ltr"===b.DomUtil.getStyle(k.body,"direction"));return b.DomUtil._docIsLtr},create:function(a,b,e){a=k.createElement(a);a.className=b;e&&e.appendChild(a);return a},hasClass:function(a,d){if(a.classList!==l)return a.classList.contains(d);var e=b.DomUtil._getClass(a);return 0<e.length&&RegExp("(^|\\s)"+d+"(\\s|$)").test(e)},
addClass:function(a,d){if(a.classList!==l)for(var e=b.Util.splitWords(d),h=0,c=e.length;h<c;h++)a.classList.add(e[h]);else b.DomUtil.hasClass(a,d)||(e=b.DomUtil._getClass(a),b.DomUtil._setClass(a,(e?e+" ":"")+d))},removeClass:function(a,d){a.classList!==l?a.classList.remove(d):b.DomUtil._setClass(a,b.Util.trim((" "+b.DomUtil._getClass(a)+" ").replace(" "+d+" "," ")))},_setClass:function(a,b){a.className.baseVal===l?a.className=b:a.className.baseVal=b},_getClass:function(a){return a.className.baseVal===
l?a.className:a.className.baseVal},setOpacity:function(a,b){if("opacity"in a.style)a.style.opacity=b;else if("filter"in a.style){var e=!1;try{e=a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(h){if(1===b)return}b=Math.round(100*b);e?(e.Enabled=100!==b,e.Opacity=b):a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+b+")"}},testProp:function(a){for(var b=k.documentElement.style,e=0;e<a.length;e++)if(a[e]in b)return a[e];return!1},getTranslateString:function(a){var d=b.Browser.webkit3d;
return"translate"+(d?"3d":"")+"("+a.x+"px,"+a.y+"px"+((d?",0":"")+")")},getScaleString:function(a,d){return b.DomUtil.getTranslateString(d.add(d.multiplyBy(-1*a)))+(" scale("+a+") ")},setPosition:function(a,d,e){a._leaflet_pos=d;!e&&b.Browser.any3d?a.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(d):(a.style.left=d.x+"px",a.style.top=d.y+"px")},getPosition:function(a){return a._leaflet_pos}};b.DomUtil.TRANSFORM=b.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform",
"msTransform"]);b.DomUtil.TRANSITION=b.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);b.DomUtil.TRANSITION_END="webkitTransition"===b.DomUtil.TRANSITION||"OTransition"===b.DomUtil.TRANSITION?b.DomUtil.TRANSITION+"End":"transitionend";(function(){if("onselectstart"in k)b.extend(b.DomUtil,{disableTextSelection:function(){b.DomEvent.on(f,"selectstart",b.DomEvent.preventDefault)},enableTextSelection:function(){b.DomEvent.off(f,"selectstart",b.DomEvent.preventDefault)}});
else{var a=b.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);b.extend(b.DomUtil,{disableTextSelection:function(){if(a){var b=k.documentElement.style;this._userSelect=b[a];b[a]="none"}},enableTextSelection:function(){a&&(k.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}b.extend(b.DomUtil,{disableImageDrag:function(){b.DomEvent.on(f,"dragstart",b.DomEvent.preventDefault)},enableImageDrag:function(){b.DomEvent.off(f,"dragstart",
b.DomEvent.preventDefault)}})})();b.LatLng=function(a,b,e){a=parseFloat(a);b=parseFloat(b);if(isNaN(a)||isNaN(b))throw Error("Invalid LatLng object: ("+a+", "+b+")");this.lat=a;this.lng=b;e!==l&&(this.alt=parseFloat(e))};b.extend(b.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1E-9});b.LatLng.prototype={equals:function(a){if(!a)return!1;a=b.latLng(a);return Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=b.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+b.Util.formatNum(this.lat,
a)+", "+b.Util.formatNum(this.lng,a)+")"},distanceTo:function(a){a=b.latLng(a);var d=b.LatLng.DEG_TO_RAD,e=(a.lng-this.lng)*d,h=this.lat*d,c=a.lat*d;a=Math.sin((a.lat-this.lat)*d/2);e=Math.sin(e/2);h=a*a+e*e*Math.cos(h)*Math.cos(c);return 12756274*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))},wrap:function(a,d){var e=this.lng;a=a||-180;d=d||180;return new b.LatLng(this.lat,(e+d)%(d-a)+(e<a||e===d?d:a))}};b.latLng=function(a,d){return a instanceof b.LatLng?a:b.Util.isArray(a)?"number"===typeof a[0]||"string"===
typeof a[0]?new b.LatLng(a[0],a[1],a[2]):null:a===l||null===a?a:"object"===typeof a&&"lat"in a?new b.LatLng(a.lat,"lng"in a?a.lng:a.lon):d===l?null:new b.LatLng(a,d)};b.LatLngBounds=function(a,b){if(a)for(var e=b?[a,b]:a,h=0,c=e.length;h<c;h++)this.extend(e[h])};b.LatLngBounds.prototype={extend:function(a){if(!a)return this;var d=b.latLng(a);a=null!==d?d:b.latLngBounds(a);a instanceof b.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=
Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new b.LatLng(a.lat,a.lng),this._northEast=new b.LatLng(a.lat,a.lng)):a instanceof b.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast));return this},pad:function(a){var d=this._southWest,e=this._northEast,h=Math.abs(d.lat-e.lat)*a;a*=Math.abs(d.lng-e.lng);return new b.LatLngBounds(new b.LatLng(d.lat-h,d.lng-a),new b.LatLng(e.lat+
h,e.lng+a))},getCenter:function(){return new b.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new b.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new b.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},
getNorth:function(){return this._northEast.lat},contains:function(a){a="number"===typeof a[0]||a instanceof b.LatLng?b.latLng(a):b.latLngBounds(a);var d=this._southWest,e=this._northEast,h;a instanceof b.LatLngBounds?(h=a.getSouthWest(),a=a.getNorthEast()):h=a;return h.lat>=d.lat&&a.lat<=e.lat&&h.lng>=d.lng&&a.lng<=e.lng},intersects:function(a){a=b.latLngBounds(a);var d=this._southWest,e=this._northEast,h=a.getSouthWest();a=a.getNorthEast();var c=a.lng>=d.lng&&h.lng<=e.lng;return a.lat>=d.lat&&h.lat<=
e.lat&&c},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},equals:function(a){if(!a)return!1;a=b.latLngBounds(a);return this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())},isValid:function(){return!(!this._southWest||!this._northEast)}};b.latLngBounds=function(a,d){return!a||a instanceof b.LatLngBounds?a:new b.LatLngBounds(a,d)};b.Projection={};b.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(a){var d=
b.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,e=Math.max(Math.min(e,a.lat),-e);a=a.lng*d;d=Math.log(Math.tan(Math.PI/4+e*d/2));return new b.Point(a,d)},unproject:function(a){var d=b.LatLng.RAD_TO_DEG,e=a.x*d;a=(2*Math.atan(Math.exp(a.y))-Math.PI/2)*d;return new b.LatLng(a,e)}};b.Projection.LonLat={project:function(a){return new b.Point(a.lng,a.lat)},unproject:function(a){return new b.LatLng(a.y,a.x)}};b.CRS={latLngToPoint:function(a,b){var e=this.projection.project(a),h=this.scale(b);return this.transformation._transform(e,
h)},pointToLatLng:function(a,b){var e=this.scale(b),e=this.transformation.untransform(a,e);return this.projection.unproject(e)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){a=this.scale(a);return b.point(a,a)}};b.CRS.Simple=b.extend({},b.CRS,{projection:b.Projection.LonLat,transformation:new b.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}});b.CRS.EPSG3857=b.extend({},b.CRS,{code:"EPSG:3857",projection:b.Projection.SphericalMercator,
transformation:new b.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(a){return this.projection.project(a).multiplyBy(6378137)}});b.CRS.EPSG900913=b.extend({},b.CRS.EPSG3857,{code:"EPSG:900913"});b.CRS.EPSG4326=b.extend({},b.CRS,{code:"EPSG:4326",projection:b.Projection.LonLat,transformation:new b.Transformation(1/360,0.5,-1/360,0.5)});b.Map=b.Class.extend({includes:b.Mixin.Events,options:{crs:b.CRS.EPSG3857,fadeAnimation:b.DomUtil.TRANSITION&&!b.Browser.android23,trackResize:!0,
markerZoomAnimation:b.DomUtil.TRANSITION&&b.Browser.any3d},initialize:function(a,d){d=b.setOptions(this,d);this._initContainer(a);this._initLayout();this._onResize=b.bind(this._onResize,this);this._initEvents();d.maxBounds&&this.setMaxBounds(d.maxBounds);d.center&&d.zoom!==l&&this.setView(b.latLng(d.center),d.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._tileLayersNum=0;this.callInitHooks();this._addLayers(d.layers)},setView:function(a,d){d=d===l?this.getZoom():
d;this._resetView(b.latLng(a),this._limitZoom(d));return this},setZoom:function(a,b){return this._loaded?this.setView(this.getCenter(),a,{zoom:b}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,b){return this.setZoom(this._zoom+(a||1),b)},zoomOut:function(a,b){return this.setZoom(this._zoom-(a||1),b)},setZoomAround:function(a,d,e){var h=this.getZoomScale(d),c=this.getSize().divideBy(2);a=(a instanceof b.Point?a:this.latLngToContainerPoint(a)).subtract(c).multiplyBy(1-1/h);c=this.containerPointToLatLng(c.add(a));
return this.setView(c,d,{zoom:e})},fitBounds:function(a,d){d=d||{};a=a.getBounds?a.getBounds():b.latLngBounds(a);var e=b.point(d.paddingTopLeft||d.padding||[0,0]),h=b.point(d.paddingBottomRight||d.padding||[0,0]),c=this.getBoundsZoom(a,!1,e.add(h)),e=h.subtract(e).divideBy(2),h=this.project(a.getSouthWest(),c),g=this.project(a.getNorthEast(),c),e=this.unproject(h.add(g).divideBy(2).add(e),c),c=d&&d.maxZoom?Math.min(d.maxZoom,c):c;return this.setView(e,c,d)},fitWorld:function(a){return this.fitBounds([[-90,
-180],[90,180]],a)},panTo:function(a,b){return this.setView(a,this._zoom,{pan:b})},panBy:function(a){this.fire("movestart");this._rawPanBy(b.point(a));this.fire("move");return this.fire("moveend")},setMaxBounds:function(a){a=b.latLngBounds(a);this.options.maxBounds=a;if(!a)return this.off("moveend",this._panInsideMaxBounds,this);this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(a,b){var e=this.getCenter(),h=this._limitCenter(e,
this._zoom,a);return e.equals(h)?this:this.panTo(h,b)},addLayer:function(a){var d=b.stamp(a);if(this._layers[d])return this;this._layers[d]=a;!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[d]=a,this._updateZoomLevels());this.options.zoomAnimation&&b.TileLayer&&a instanceof b.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this));this._loaded&&this._layerAdd(a);return this},removeLayer:function(a){var d=b.stamp(a);
if(!this._layers[d])return this;if(this._loaded)a.onRemove(this);delete this._layers[d];this._loaded&&this.fire("layerremove",{layer:a});this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels());this.options.zoomAnimation&&b.TileLayer&&a instanceof b.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this));return this},hasLayer:function(a){return a?b.stamp(a)in this._layers:!1},eachLayer:function(a,b){for(var e in this._layers)a.call(b,
this._layers[e]);return this},invalidateSize:function(a){if(!this._loaded)return this;a=b.extend({animate:!1,pan:!0},!0===a?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0;this._initialCenter=null;var e=this.getSize(),h=d.divideBy(2).round(),c=e.divideBy(2).round(),h=h.subtract(c);if(!h.x&&!h.y)return this;a.animate&&a.pan?this.panBy(h):(a.pan&&this._rawPanBy(h),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(b.bind(this.fire,this,"moveend"),
200)):this.fire("moveend"));return this.fire("resize",{oldSize:d,newSize:e})},addHandler:function(a,b){if(!b)return this;var e=this[a]=new b(this);this._handlers.push(e);this.options[a]&&e.enable();return this},remove:function(){this._loaded&&this.fire("unload");this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=l}this._clearPanes();this._clearControlPos&&this._clearControlPos();this._clearHandlers();return this},getCenter:function(){this._checkIfLoaded();
return this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),a=this.unproject(a.getTopRight());return new b.LatLngBounds(d,a)},getMinZoom:function(){return this.options.minZoom===l?this._layersMinZoom===l?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===l?this._layersMaxZoom===
l?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,e){a=b.latLngBounds(a);var h=this.getMinZoom()-(d?1:0),c=this.getMaxZoom(),g=this.getSize(),f=a.getNorthWest();a=a.getSouthEast();var k=!0;e=b.point(e||[0,0]);do h++,k=this.project(a,h).subtract(this.project(f,h)).add(e),k=d?k.x<g.x||k.y<g.y:g.contains(k);while(k&&h<=c);return k&&d?null:d?h:h-1},getSize:function(){if(!this._size||this._sizeChanged)this._size=new b.Point(this._container.clientWidth,this._container.clientHeight),
this._sizeChanged=!1;return this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new b.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var b=this.options.crs;return b.scale(a)/b.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,d){d=d===l?
this._zoom:d;return this.options.crs.latLngToPoint(b.latLng(a),d)},unproject:function(a,d){d=d===l?this._zoom:d;return this.options.crs.pointToLatLng(b.point(a),d)},layerPointToLatLng:function(a){a=b.point(a).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(a){return this.project(b.latLng(a))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return b.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return b.point(a).add(this._getMapPanePos())},
containerPointToLatLng:function(a){a=this.containerPointToLayerPoint(b.point(a));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(b.latLng(a)))},mouseEventToContainerPoint:function(a){return b.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},
_initContainer:function(a){a=this._container=b.DomUtil.get(a);if(!a)throw Error("Map container not found.");if(a._leaflet)throw Error("Map container is already initialized.");a._leaflet=!0},_initLayout:function(){var a=this._container;b.DomUtil.addClass(a,"leaflet-container"+(b.Browser.touch?" leaflet-touch":"")+(b.Browser.retina?" leaflet-retina":"")+(b.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var d=b.DomUtil.getStyle(a,"position");"absolute"!==d&&
"relative"!==d&&"fixed"!==d&&(a.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container);this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane);a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane);a.shadowPane=this._createPane("leaflet-shadow-pane");a.overlayPane=this._createPane("leaflet-overlay-pane");a.markerPane=
this._createPane("leaflet-marker-pane");a.popupPane=this._createPane("leaflet-popup-pane");this.options.markerZoomAnimation||(b.DomUtil.addClass(a.markerPane," leaflet-zoom-hide"),b.DomUtil.addClass(a.shadowPane," leaflet-zoom-hide"),b.DomUtil.addClass(a.popupPane," leaflet-zoom-hide"))},_createPane:function(a,d){return b.DomUtil.create("div",a,d||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(a){a=a?b.Util.isArray(a)?a:[a]:[];for(var d=
0,e=a.length;d<e;d++)this.addLayer(a[d])},_resetView:function(a,d,e,h){var c=this._zoom!==d;h||(this.fire("movestart"),c&&this.fire("zoomstart"));this._zoom=d;this._initialCenter=a;this._initialTopLeftPoint=this._getNewTopLeftPoint(a);e?this._initialTopLeftPoint._add(this._getMapPanePos()):b.DomUtil.setPosition(this._mapPane,new b.Point(0,0));this._tileLayersToLoad=this._tileLayersNum;a=!this._loaded;this._loaded=!0;a&&(this.fire("load"),this.eachLayer(this._layerAdd,this));this.fire("viewreset",
{hard:!e});this.fire("move");(c||h)&&this.fire("zoomend");this.fire("moveend",{hard:!e})},_rawPanBy:function(a){b.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,b=Infinity,e=-Infinity,h=this._getZoomSpan();for(a in this._zoomBoundLayers){var c=this._zoomBoundLayers[a];isNaN(c.options.minZoom)||(b=Math.min(b,c.options.minZoom));isNaN(c.options.maxZoom)||(e=Math.max(e,c.options.maxZoom))}a===
l?this._layersMaxZoom=this._layersMinZoom=l:(this._layersMaxZoom=e,this._layersMinZoom=b);h!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(a){if(b.DomEvent){a=a||"on";b.DomEvent[a](this._container,"click",this._onMouseClick,this);var d="dblclick mousedown mouseup mouseenter mouseleave mousemove contextmenu".split(" "),
e,h;e=0;for(h=d.length;e<h;e++)b.DomEvent[a](this._container,d[e],this._fireMouseEvent,this);if(this.options.trackResize)b.DomEvent[a](f,"resize",this._onResize,this)}},_onResize:function(){b.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=b.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||b.DomEvent._skipped(a)||
(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(a){if(this._loaded&&!b.DomEvent._skipped(a)){var d=a.type,d="mouseenter"===d?"mouseover":"mouseleave"===d?"mouseout":d;if(this.hasEventListeners(d)){"contextmenu"===d&&b.DomEvent.preventDefault(a);var e=this.mouseEventToContainerPoint(a),h=this.containerPointToLayerPoint(e),c=this.layerPointToLatLng(h);this.fire(d,{latlng:c,layerPoint:h,containerPoint:e,originalEvent:a})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--;
this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,b=this._handlers.length;a<b;a++)this._handlers[a].disable()},whenReady:function(a,b){if(this._loaded)a.call(b||this,this);else this.on("load",a,b);return this},_layerAdd:function(a){a.onAdd(this);this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return b.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},
_getNewTopLeftPoint:function(a,b){var e=this.getSize()._divideBy(2);return this.project(a,b)._subtract(e)._round()},_latLngToNewLayerPoint:function(a,b,e){e=this._getNewTopLeftPoint(e,b).add(this._getMapPanePos());return this.project(a,b)._subtract(e)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,e){if(!e)return a;a=
this.project(a,d);var h=this.getSize().divideBy(2),h=new b.Bounds(a.subtract(h),a.add(h));e=this._getBoundsOffset(h,e,d);return this.unproject(a.add(e),d)},_limitOffset:function(a,d){if(!d)return a;var e=this.getPixelBounds(),e=new b.Bounds(e.min.add(a),e.max.add(a));return a.add(this._getBoundsOffset(e,d))},_getBoundsOffset:function(a,d,e){var h=this.project(d.getNorthWest(),e).subtract(a.min);d=this.project(d.getSouthEast(),e).subtract(a.max);a=this._rebound(h.x,-d.x);h=this._rebound(h.y,-d.y);
return new b.Point(a,h)},_rebound:function(a,b){return 0<a+b?Math.round(a-b)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(b))},_limitZoom:function(a){var b=this.getMinZoom(),e=this.getMaxZoom();return Math.max(b,Math.min(e,a))}});b.map=function(a,d){return new b.Map(a,d)};b.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(a){var d=b.LatLng.DEG_TO_RAD,e=this.MAX_LATITUDE,h=Math.max(Math.min(e,a.lat),-e),e=this.R_MAJOR;a=a.lng*d*e;var d=
h*d,h=this.R_MINOR/e,h=Math.sqrt(1-h*h),c=h*Math.sin(d),c=Math.pow((1-c)/(1+c),0.5*h),d=Math.tan(0.5*(0.5*Math.PI-d))/c,d=-e*Math.log(d);return new b.Point(a,d)},unproject:function(a){var d=b.LatLng.RAD_TO_DEG,e=this.R_MAJOR,c=a.x*d/e,g=this.R_MINOR/e,g=Math.sqrt(1-g*g);a=Math.exp(-a.y/e);for(var e=Math.PI/2-2*Math.atan(a),f=15,k=0.1;1E-7<Math.abs(k)&&0<--f;)k=g*Math.sin(e),k=Math.PI/2-2*Math.atan(a*Math.pow((1-k)/(1+k),0.5*g))-e,e+=k;return new b.LatLng(e*d,c)}};b.CRS.EPSG3395=b.extend({},b.CRS,
{code:"EPSG:3395",projection:b.Projection.Mercator,transformation:function(){var a=0.5/(Math.PI*b.Projection.Mercator.R_MAJOR);return new b.Transformation(a,0.5,-a,0.5)}()});b.TileLayer=b.Class.extend({includes:b.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:b.Browser.mobile,updateWhenIdle:b.Browser.mobile},initialize:function(a,d){d=b.setOptions(this,d);d.detectRetina&&b.Browser.retina&&0<d.maxZoom&&
(d.tileSize=Math.floor(d.tileSize/2),d.zoomOffset++,0<d.minZoom&&d.minZoom--,this.options.maxZoom--);d.bounds&&(d.bounds=b.latLngBounds(d.bounds));this._url=a;var e=this.options.subdomains;"string"===typeof e&&(this.options.subdomains=e.split(""))},onAdd:function(a){this._map=a;this._animated=a._zoomAnimated;this._initContainer();a.on({viewreset:this._reset,moveend:this._update},this);if(this._animated)a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||
(this._limitedUpdate=b.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this));this._reset();this._update()},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this._container.parentNode.removeChild(this._container);a.off({viewreset:this._reset,moveend:this._update},this);this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this);this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this);this._map=this._container=null},
bringToFront:function(){var a=this._map._panes.tilePane;this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max));return this},bringToBack:function(){var a=this._map._panes.tilePane;this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min));return this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){this.options.opacity=a;this._map&&this._updateOpacity();
return this},setZIndex:function(a){this.options.zIndex=a;this._updateZIndex();return this},setUrl:function(a,b){this._url=a;b||this.redraw();return this},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());return this},_updateZIndex:function(){this._container&&this.options.zIndex!==l&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,b){var e=a.children,c=-b(Infinity,-Infinity),g,f,k;f=0;for(k=e.length;f<k;f++)e[f]!==this._container&&(g=parseInt(e[f].style.zIndex,
10),isNaN(g)||(c=b(c,g)));this.options.zIndex=this._container.style.zIndex=(isFinite(c)?c:0)+b(1,-1)},_updateOpacity:function(){var a,d=this._tiles;if(b.Browser.ielt9)for(a in d)b.DomUtil.setOpacity(d[a],this.options.opacity);else b.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var a=this._map._panes.tilePane;this._container||(this._container=b.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated?(this._bgBuffer=b.DomUtil.create("div","leaflet-tile-container",
this._container),this._tileContainer=b.DomUtil.create("div","leaflet-tile-container",this._container)):this._tileContainer=this._container,a.appendChild(this._container),1>this.options.opacity&&this._updateOpacity())},_reset:function(a){for(var b in this._tiles)this.fire("tileunload",{tile:this._tiles[b]});this._tiles={};this._tilesToLoad=0;this.options.reuseTiles&&(this._unusedTiles=[]);this._tileContainer.innerHTML="";this._animated&&a&&a.hard&&this._clearBgBuffer();this._initContainer()},_getTileSize:function(){var a=
this._map,b=a.getZoom()+this.options.zoomOffset,e=this.options.maxNativeZoom,c=this.options.tileSize;e&&b>e&&(c=Math.round(a.getZoomScale(b)/a.getZoomScale(e)*c));return c},_update:function(){if(this._map){var a=this._map,d=a.getPixelBounds(),a=a.getZoom(),e=this._getTileSize();a>this.options.maxZoom||a<this.options.minZoom||(d=b.bounds(d.min.divideBy(e)._floor(),d.max.divideBy(e)._floor()),this._addTilesFromCenterOut(d),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(d))}},
_addTilesFromCenterOut:function(a){var d=[],e=a.getCenter(),c,g,f;for(c=a.min.y;c<=a.max.y;c++)for(g=a.min.x;g<=a.max.x;g++)f=new b.Point(g,c),this._tileShouldBeLoaded(f)&&d.push(f);a=d.length;if(0!==a){d.sort(function(a,b){return a.distanceTo(e)-b.distanceTo(e)});c=k.createDocumentFragment();this._tilesToLoad||this.fire("loading");this._tilesToLoad+=a;for(g=0;g<a;g++)this._addTile(d[g],c);this._tileContainer.appendChild(c)}},_tileShouldBeLoaded:function(a){if(a.x+":"+a.y in this._tiles)return!1;
var b=this.options;if(!b.continuousWorld){var e=this._getWrapTileNum();if(b.noWrap&&(0>a.x||a.x>=e.x)||0>a.y||a.y>=e.y)return!1}return b.bounds&&(e=b.tileSize,a=a.multiplyBy(e),e=a.add([e,e]),a=this._map.unproject(a),e=this._map.unproject(e),b.continuousWorld||b.noWrap||(a=a.wrap(),e=e.wrap()),!b.bounds.intersects([a,e]))?!1:!0},_removeOtherTiles:function(a){var b,e,c;for(c in this._tiles)b=c.split(":"),e=parseInt(b[0],10),b=parseInt(b[1],10),(e<a.min.x||e>a.max.x||b<a.min.y||b>a.max.y)&&this._removeTile(c)},
_removeTile:function(a){var d=this._tiles[a];this.fire("tileunload",{tile:d,url:d.src});this.options.reuseTiles?(b.DomUtil.removeClass(d,"leaflet-tile-loaded"),this._unusedTiles.push(d)):d.parentNode===this._tileContainer&&this._tileContainer.removeChild(d);b.Browser.android||(d.onload=null,d.src=b.Util.emptyImageUrl);delete this._tiles[a]},_addTile:function(a,d){var e=this._getTilePos(a),c=this._getTile();b.DomUtil.setPosition(c,e,b.Browser.chrome);this._tiles[a.x+":"+a.y]=c;this._loadTile(c,a);
c.parentNode!==this._tileContainer&&d.appendChild(c)},_getZoomForUrl:function(){var a=this.options,b=this._map.getZoom();a.zoomReverse&&(b=a.maxZoom-b);b+=a.zoomOffset;return a.maxNativeZoom?Math.min(b,a.maxNativeZoom):b},_getTilePos:function(a){var b=this._map.getPixelOrigin(),e=this._getTileSize();return a.multiplyBy(e).subtract(b)},getTileUrl:function(a){return b.Util.template(this._url,b.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this.options.tileSize)},
_adjustTilePoint:function(a){var b=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%b.x+b.x)%b.x);this.options.tms&&(a.y=b.y-a.y-1);a.z=this._getZoomForUrl()},_getSubdomain:function(a){a=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[a]},_getTile:function(){if(this.options.reuseTiles&&0<this._unusedTiles.length){var a=this._unusedTiles.pop();this._resetTile(a);return a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=
b.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this._getTileSize()+"px";a.galleryimg="no";a.onselectstart=a.onmousemove=b.Util.falseFn;b.Browser.ielt9&&this.options.opacity!==l&&b.DomUtil.setOpacity(a,this.options.opacity);b.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden");return a},_loadTile:function(a,b){a._layer=this;a.onload=this._tileOnLoad;a.onerror=this._tileOnError;this._adjustTilePoint(b);a.src=this.getTileUrl(b);this.fire("tileloadstart",{tile:a,url:a.src})},
_tileLoaded:function(){this._tilesToLoad--;this._animated&&b.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated");this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(b.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==b.Util.emptyImageUrl&&(b.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src}));a._tileLoaded()},_tileOnError:function(){var a=
this._layer;a.fire("tileerror",{tile:this,url:this.src});var b=a.options.errorTileUrl;b&&(this.src=b);a._tileLoaded()}});b.tileLayer=function(a,d){return new b.TileLayer(a,d)};b.TileLayer.WMS=b.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(a,d){this._url=a;var e=b.extend({},this.defaultWmsParams),c=d.tileSize||this.options.tileSize;e.width=d.detectRetina&&b.Browser.retina?e.height=2*c:
e.height=c;for(var g in d)this.options.hasOwnProperty(g)||"crs"===g||(e[g]=d[g]);this.wmsParams=e;b.setOptions(this,d)},onAdd:function(a){this._crs=this.options.crs||a.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;b.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._map,e=this.options.tileSize,c=a.multiplyBy(e),e=c.add([e,e]),c=this._crs.project(d.unproject(c,a.z)),d=this._crs.project(d.unproject(e,
a.z)),d=1.3<=this._wmsVersion&&this._crs===b.CRS.EPSG4326?[d.y,c.x,c.y,d.x].join():[c.x,d.y,d.x,c.y].join();a=b.Util.template(this._url,{s:this._getSubdomain(a)});return a+b.Util.getParamString(this.wmsParams,a,!0)+"\x26BBOX\x3d"+d},setParams:function(a,d){b.extend(this.wmsParams,a);d||this.redraw();return this}});b.tileLayer.wms=function(a,d){return new b.TileLayer.WMS(a,d)};b.TileLayer.Canvas=b.TileLayer.extend({options:{async:!1},initialize:function(a){b.setOptions(this,a)},redraw:function(){this._map&&
(this._reset({hard:!0}),this._update());for(var a in this._tiles)this._redrawTile(this._tiles[a]);return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTile:function(){var a=b.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize;a.onselectstart=a.onmousemove=b.Util.falseFn;return a},_loadTile:function(a,b){a._layer=this;a._tilePoint=b;this._redrawTile(a);this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}});
b.tileLayer.canvas=function(a){return new b.TileLayer.Canvas(a)};b.ImageOverlay=b.Class.extend({includes:b.Mixin.Events,options:{opacity:1},initialize:function(a,d,e){this._url=a;this._bounds=b.latLngBounds(d);b.setOptions(this,e)},onAdd:function(a){this._map=a;this._image||this._initImage();a._panes.overlayPane.appendChild(this._image);a.on("viewreset",this._reset,this);if(a.options.zoomAnimation&&b.Browser.any3d)a.on("zoomanim",this._animateZoom,this);this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image);
a.off("viewreset",this._reset,this);a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},setOpacity:function(a){this.options.opacity=a;this._updateOpacity();return this},bringToFront:function(){this._image&&this._map._panes.overlayPane.appendChild(this._image);return this},bringToBack:function(){var a=this._map._panes.overlayPane;this._image&&a.insertBefore(this._image,a.firstChild);return this},setUrl:function(a){this._url=a;this._image.src=
this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=b.DomUtil.create("img","leaflet-image-layer");this._map.options.zoomAnimation&&b.Browser.any3d?b.DomUtil.addClass(this._image,"leaflet-zoom-animated"):b.DomUtil.addClass(this._image,"leaflet-zoom-hide");this._updateOpacity();b.extend(this._image,{galleryimg:"no",onselectstart:b.Util.falseFn,onmousemove:b.Util.falseFn,onload:b.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(a){var d=
this._map,e=this._image,c=d.getZoomScale(a.zoom),g=this._bounds.getNorthWest(),f=this._bounds.getSouthEast(),g=d._latLngToNewLayerPoint(g,a.zoom,a.center);a=d._latLngToNewLayerPoint(f,a.zoom,a.center)._subtract(g);a=g._add(a._multiplyBy(0.5*(1-1/c)));e.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(a)+" scale("+c+") "},_reset:function(){var a=this._image,d=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),e=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(d);b.DomUtil.setPosition(a,
d);a.style.width=e.x+"px";a.style.height=e.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){b.DomUtil.setOpacity(this._image,this.options.opacity)}});b.imageOverlay=function(a,d,e){return new b.ImageOverlay(a,d,e)};b.Icon=b.Class.extend({options:{className:""},initialize:function(a){b.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,b){var e=this._getIconUrl(a);
if(!e){if("icon"===a)throw Error("iconUrl not set in Icon options (see the docs).");return null}e=b&&"IMG"===b.tagName?this._createImg(e,b):this._createImg(e);this._setIconStyles(e,a);return e},_setIconStyles:function(a,d){var e=this.options,c=b.point(e[d+"Size"]),g;g="shadow"===d?b.point(e.shadowAnchor||e.iconAnchor):b.point(e.iconAnchor);!g&&c&&(g=c.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+e.className;g&&(a.style.marginLeft=-g.x+"px",a.style.marginTop=-g.y+"px");c&&(a.style.width=c.x+
"px",a.style.height=c.y+"px")},_createImg:function(a,b){b=b||k.createElement("img");b.src=a;return b},_getIconUrl:function(a){return b.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}});b.icon=function(a){return new b.Icon(a)};b.Icon.Default=b.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(a){var d=a+"Url";if(this.options[d])return this.options[d];b.Browser.retina&&"icon"===a&&(a+=
"-2x");d=b.Icon.Default.imagePath;if(!d)throw Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return d+"/marker-"+a+".png"}});b.Icon.Default.imagePath=function(){var a=k.getElementsByTagName("script"),b=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,e,c,g,f;e=0;for(c=a.length;e<c;e++)if(g=a[e].src,f=g.match(b))return a=g.split(b)[0],(a?a+"/":"")+"images"}();b.Marker=b.Class.extend({includes:b.Mixin.Events,options:{icon:new b.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,
keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,d){b.setOptions(this,d);this._latlng=b.latLng(a)},onAdd:function(a){this._map=a;a.on("viewreset",this.update,this);this._initIcon();this.update();this.fire("add");if(a.options.zoomAnimation&&a.options.markerZoomAnimation)a.on("zoomanim",this._animateZoom,this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){this.dragging&&this.dragging.disable();this._removeIcon();this._removeShadow();this.fire("remove");
a.off({viewreset:this.update,zoomanim:this._animateZoom},this);this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=b.latLng(a);this.update();return this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){this.options.zIndexOffset=a;this.update();return this},setIcon:function(a){this.options.icon=a;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup);return this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();
this._setPos(a)}return this},_initIcon:function(){var a=this.options,d=this._map,e=d.options.zoomAnimation&&d.options.markerZoomAnimation?"leaflet-zoom-animated":"leaflet-zoom-hide",c=a.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,a.title&&(c.title=a.title),a.alt&&(c.alt=a.alt));b.DomUtil.addClass(c,e);a.keyboard&&(c.tabIndex="0");this._icon=c;this._initInteraction();if(a.riseOnHover)b.DomEvent.on(c,"mouseover",this._bringToFront,this).on(c,"mouseout",this._resetZIndex,
this);var c=a.icon.createShadow(this._shadow),g=!1;c!==this._shadow&&(this._removeShadow(),g=!0);c&&b.DomUtil.addClass(c,e);this._shadow=c;1>a.opacity&&this._updateOpacity();a=this._map._panes;d&&a.markerPane.appendChild(this._icon);c&&g&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&b.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex);this._map._panes.markerPane.removeChild(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&
this._map._panes.shadowPane.removeChild(this._shadow);this._shadow=null},_setPos:function(a){b.DomUtil.setPosition(this._icon,a);this._shadow&&b.DomUtil.setPosition(this._shadow,a);this._zIndex=a.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.clickable){var a=this._icon,d=["dblclick",
"mousedown","mouseover","mouseout","contextmenu"];b.DomUtil.addClass(a,"leaflet-clickable");b.DomEvent.on(a,"click",this._onMouseClick,this);b.DomEvent.on(a,"keypress",this._onKeyPress,this);for(var e=0;e<d.length;e++)b.DomEvent.on(a,d[e],this._fireMouseEvent,this);b.Handler.MarkerDrag&&(this.dragging=new b.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var d=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||d)&&b.DomEvent.stopPropagation(a);
d||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng});"contextmenu"===a.type&&this.hasEventListeners(a.type)&&b.DomEvent.preventDefault(a);"mousedown"!==a.type?b.DomEvent.stopPropagation(a):b.DomEvent.preventDefault(a)},setOpacity:function(a){this.options.opacity=
a;this._map&&this._updateOpacity();return this},_updateOpacity:function(){b.DomUtil.setOpacity(this._icon,this.options.opacity);this._shadow&&b.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});b.marker=function(a,d){return new b.Marker(a,d)};b.DivIcon=b.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(a){a=a&&"DIV"===a.tagName?
a:k.createElement("div");var b=this.options;a.innerHTML=!1!==b.html?b.html:"";b.bgPos&&(a.style.backgroundPosition=-b.bgPos.x+"px "+-b.bgPos.y+"px");this._setIconStyles(a,"icon");return a},createShadow:function(){return null}});b.divIcon=function(a){return new b.DivIcon(a)};b.Map.mergeOptions({closePopupOnClick:!0});b.Popup=b.Class.extend({includes:b.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},
initialize:function(a,d){b.setOptions(this,a);this._source=d;this._animated=b.Browser.any3d&&this.options.zoomAnimation;this._isOpen=!1},onAdd:function(a){this._map=a;this._container||this._initLayout();var d=a.options.fadeAnimation;d&&b.DomUtil.setOpacity(this._container,0);a._panes.popupPane.appendChild(this._container);a.on(this._getEvents(),this);this.update();d&&b.DomUtil.setOpacity(this._container,1);this.fire("open");a.fire("popupopen",{popup:this});this._source&&this._source.fire("popupopen",
{popup:this})},addTo:function(a){a.addLayer(this);return this},openOn:function(a){a.openPopup(this);return this},onRemove:function(a){a._panes.popupPane.removeChild(this._container);b.Util.falseFn(this._container.offsetWidth);a.off(this._getEvents(),this);a.options.fadeAnimation&&b.DomUtil.setOpacity(this._container,0);this._map=null;this.fire("close");a.fire("popupclose",{popup:this});this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){this._latlng=
b.latLng(a);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(a){this._content=a;this.update();return this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};this._animated&&(a.zoomanim=this._zoomAnimation);if("closeOnClick"in
this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)a.preclick=this._close;this.options.keepInView&&(a.moveend=this._adjustPan);return a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var a=this._container=b.DomUtil.create("div","leaflet-popup "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide")),d;this.options.closeButton&&(d=this._closeButton=b.DomUtil.create("a","leaflet-popup-close-button",a),d.href="#close",d.innerHTML=
"\x26#215;",b.DomEvent.disableClickPropagation(d),b.DomEvent.on(d,"click",this._onCloseButtonClick,this));d=this._wrapper=b.DomUtil.create("div","leaflet-popup-content-wrapper",a);b.DomEvent.disableClickPropagation(d);this._contentNode=b.DomUtil.create("div","leaflet-popup-content",d);b.DomEvent.disableScrollPropagation(this._contentNode);b.DomEvent.on(d,"contextmenu",b.DomEvent.stopPropagation);this._tipContainer=b.DomUtil.create("div","leaflet-popup-tip-container",a);this._tip=b.DomUtil.create("div",
"leaflet-popup-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"===typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="";d.whiteSpace="nowrap";var e=a.offsetWidth,e=Math.min(e,this.options.maxWidth),e=Math.max(e,
this.options.minWidth);d.width=e+1+"px";d.whiteSpace="";d.height="";var e=a.offsetHeight,c=this.options.maxHeight;c&&e>c?(d.height=c+"px",b.DomUtil.addClass(a,"leaflet-popup-scrolled")):b.DomUtil.removeClass(a,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=this._animated,e=b.point(this.options.offset);d&&b.DomUtil.setPosition(this._container,a);this._containerBottom=-e.y-(d?0:a.y);
this._containerLeft=-Math.round(this._containerWidth/2)+e.x+(d?0:a.x);this._container.style.bottom=this._containerBottom+"px";this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){a=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);b.DomUtil.setPosition(this._container,a)},_adjustPan:function(){if(this.options.autoPan){var a=this._map,d=this._container.offsetHeight,e=this._containerWidth,c=new b.Point(this._containerLeft,-d-this._containerBottom);this._animated&&
c._add(b.DomUtil.getPosition(this._container));var c=a.layerPointToContainerPoint(c),g=b.point(this.options.autoPanPadding),f=b.point(this.options.autoPanPaddingTopLeft||g),g=b.point(this.options.autoPanPaddingBottomRight||g),k=a.getSize(),l=0,u=0;c.x+e+g.x>k.x&&(l=c.x+e-k.x+g.x);0>c.x-l-f.x&&(l=c.x-f.x);c.y+d+g.y>k.y&&(u=c.y+d-k.y+g.y);0>c.y-u-f.y&&(u=c.y-f.y);(l||u)&&a.fire("autopanstart").panBy([l,u])}},_onCloseButtonClick:function(a){this._close();b.DomEvent.stop(a)}});b.popup=function(a,d){return new b.Popup(a,
d)};b.Map.include({openPopup:function(a,d,e){this.closePopup();a instanceof b.Popup||(a=(new b.Popup(e)).setLatLng(d).setContent(a));a._isOpen=!0;this._popup=a;return this.addLayer(a)},closePopup:function(a){a&&a!==this._popup||(a=this._popup,this._popup=null);a&&(this.removeLayer(a),a._isOpen=!1);return this}});b.Marker.include({openPopup:function(){this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup));return this},closePopup:function(){this._popup&&
this._popup._close();return this},togglePopup:function(){this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup());return this},bindPopup:function(a,d){var e=b.point(this.options.icon.options.popupAnchor||[0,0]),e=e.add(b.Popup.prototype.options.offset);d&&d.offset&&(e=e.add(d.offset));d=b.extend({offset:e},d);this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0);a instanceof b.Popup?
(b.setOptions(a,d),this._popup=a):this._popup=(new b.Popup(d,this)).setContent(a);return this},setPopupContent:function(a){this._popup&&this._popup.setContent(a);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1);return this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}});b.LayerGroup=b.Class.extend({initialize:function(a){this._layers=
{};var b,e;if(a)for(b=0,e=a.length;b<e;b++)this.addLayer(a[b])},addLayer:function(a){var b=this.getLayerId(a);this._layers[b]=a;this._map&&this._map.addLayer(a);return this},removeLayer:function(a){a=a in this._layers?a:this.getLayerId(a);this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]);delete this._layers[a];return this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a)in this._layers:!1},clearLayers:function(){this.eachLayer(this.removeLayer,this);return this},
invoke:function(a){var b=Array.prototype.slice.call(arguments,1),e,c;for(e in this._layers)c=this._layers[e],c[a]&&c[a].apply(c,b);return this},onAdd:function(a){this._map=a;this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a);this._map=null},addTo:function(a){a.addLayer(this);return this},eachLayer:function(a,b){for(var e in this._layers)a.call(b,this._layers[e]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[],b;for(b in this._layers)a.push(this._layers[b]);
return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return b.stamp(a)}});b.layerGroup=function(a){return new b.LayerGroup(a)};b.FeatureGroup=b.LayerGroup.extend({includes:b.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){if(this.hasLayer(a))return this;if("on"in a)a.on(b.FeatureGroup.EVENTS,this._propagateEvent,this);b.LayerGroup.prototype.addLayer.call(this,a);this._popupContent&&
a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions);return this.fire("layeradd",{layer:a})},removeLayer:function(a){if(!this.hasLayer(a))return this;a in this._layers&&(a=this._layers[a]);a.off(b.FeatureGroup.EVENTS,this._propagateEvent,this);b.LayerGroup.prototype.removeLayer.call(this,a);this._popupContent&&this.invoke("unbindPopup");return this.fire("layerremove",{layer:a})},bindPopup:function(a,b){this._popupContent=a;this._popupOptions=b;return this.invoke("bindPopup",a,b)},openPopup:function(a){for(var b in this._layers){this._layers[b].openPopup(a);
break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new b.LatLngBounds;this.eachLayer(function(d){a.extend(d instanceof b.Marker?d.getLatLng():d.getBounds())});return a},_propagateEvent:function(a){a=b.extend({layer:a.target,target:this},a);this.fire(a.type,a)}});b.featureGroup=function(a){return new b.FeatureGroup(a)};b.Path=b.Class.extend({includes:[b.Mixin.Events],
statics:{CLIP_PADDING:function(){var a=((b.Browser.mobile?1280:2E3)/Math.max(f.outerWidth,f.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(a){b.setOptions(this,a)},onAdd:function(a){this._map=a;this._container||(this._initElements(),this._initEvents());this.projectLatlngs();this._updatePath();this._container&&this._map._pathRoot.appendChild(this._container);
this.fire("add");a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){a.addLayer(this);return this},onRemove:function(a){a._pathRoot.removeChild(this._container);this.fire("remove");this._map=null;b.Browser.vml&&(this._fill=this._stroke=this._container=null);a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){b.setOptions(this,a);this._container&&this._updateStyle();return this},redraw:function(){this._map&&
(this.projectLatlngs(),this._updatePath());return this}});b.Map.include({_updatePathViewport:function(){var a=b.Path.CLIP_PADDING,d=this.getSize(),e=b.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(d.multiplyBy(a)._round()),a=e.add(d.multiplyBy(1+2*a)._round());this._pathViewport=new b.Bounds(e,a)}});b.Path.SVG_NS="http://www.w3.org/2000/svg";b.Browser.svg=!(!k.createElementNS||!k.createElementNS(b.Path.SVG_NS,"svg").createSVGRect);b.Path=b.Path.extend({statics:{SVG:b.Browser.svg},bringToFront:function(){var a=
this._map._pathRoot,b=this._container;b&&a.lastChild!==b&&a.appendChild(b);return this},bringToBack:function(){var a=this._map._pathRoot,b=this._container,e=a.firstChild;b&&e!==b&&a.insertBefore(b,e);return this},getPathString:function(){},_createElement:function(a){return k.createElementNS(b.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot();this._initPath();this._initStyle()},_initPath:function(){this._container=this._createElement("g");this._path=this._createElement("path");this.options.className&&
b.DomUtil.addClass(this._path,this.options.className);this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round"));this.options.fill&&this._path.setAttribute("fill-rule","evenodd");this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents);this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none");
this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",
this.options.lineJoin)):this._path.setAttribute("stroke","none");this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0");this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){!b.Browser.svg&&b.Browser.vml||b.DomUtil.addClass(this._path,"leaflet-clickable");b.DomEvent.on(this._container,
"click",this._onMouseClick,this);for(var a="dblclick mousedown mouseover mouseout mousemove contextmenu".split(" "),d=0;d<a.length;d++)b.DomEvent.on(this._container,a[d],this._fireMouseEvent,this)}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(a){if(this.hasEventListeners(a.type)){var d=this._map,e=d.mouseEventToContainerPoint(a),c=d.containerPointToLayerPoint(e),d=d.layerPointToLatLng(c);this.fire(a.type,{latlng:d,layerPoint:c,
containerPoint:e,originalEvent:a});"contextmenu"===a.type&&b.DomEvent.preventDefault(a);"mousemove"!==a.type&&b.DomEvent.stopPropagation(a)}}});b.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=b.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&b.Browser.any3d?(b.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):b.DomUtil.addClass(this._pathRoot,
"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(a){var d=this.getZoomScale(a.zoom);a=this._getCenterOffset(a.center)._multiplyBy(-d)._add(this._pathViewport.min);this._pathRoot.style[b.DomUtil.TRANSFORM]=b.DomUtil.getTranslateString(a)+" scale("+d+") ";this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,d=a.min,
e=a.max,a=e.x-d.x,e=e.y-d.y,c=this._pathRoot,g=this._panes.overlayPane;b.Browser.mobileWebkit&&g.removeChild(c);b.DomUtil.setPosition(c,d);c.setAttribute("width",a);c.setAttribute("height",e);c.setAttribute("viewBox",[d.x,d.y,a,e].join(" "));b.Browser.mobileWebkit&&g.appendChild(c)}}});b.Path.include({bindPopup:function(a,d){if(a instanceof b.Popup)this._popup=a;else{if(!this._popup||d)this._popup=new b.Popup(d,this);this._popup.setContent(a)}this._popupHandlersAdded||(this.on("click",this._openPopup,
this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1);return this},openPopup:function(a){this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a}));return this},closePopup:function(){this._popup&&this._popup._close();return this},_openPopup:function(a){this._popup.setLatLng(a.latlng);
this._map.openPopup(this._popup)}});b.Browser.vml=!b.Browser.svg&&function(){try{var a=k.createElement("div");a.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var b=a.firstChild;b.style.behavior="url(#default#VML)";return b&&"object"===typeof b.adj}catch(e){return!1}}();b.Path=b.Browser.svg||!b.Browser.vml?b.Path:b.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return k.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return k.createElement("\x3clvml:"+a+
' class\x3d"lvml"\x3e')}}catch(a){return function(a){return k.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");b.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:""));this.options.clickable&&b.DomUtil.addClass(a,"leaflet-clickable");a.coordsize="1 1";this._path=this._createElement("path");a.appendChild(this._path);this._map._pathRoot.appendChild(a)},
_initStyle:function(){this._updateStyle()},_updateStyle:function(){var a=this._stroke,d=this._fill,e=this.options,c=this._container;c.stroked=e.stroke;c.filled=e.fill;e.stroke?(a||(a=this._stroke=this._createElement("stroke"),a.endcap="round",c.appendChild(a)),a.weight=e.weight+"px",a.color=e.color,a.opacity=e.opacity,a.dashStyle=e.dashArray?b.Util.isArray(e.dashArray)?e.dashArray.join(" "):e.dashArray.replace(/( *, *)/g," "):"",e.lineCap&&(a.endcap=e.lineCap.replace("butt","flat")),e.lineJoin&&(a.joinstyle=
e.lineJoin)):a&&(c.removeChild(a),this._stroke=null);e.fill?(d||(d=this._fill=this._createElement("fill"),c.appendChild(d)),d.color=e.fillColor||e.color,d.opacity=e.fillOpacity):d&&(c.removeChild(d),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none";this._path.v=this.getPathString()+" ";a.display=""}});b.Map.include(b.Browser.svg||!b.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=k.createElement("div");a.className="leaflet-vml-container";
this._panes.overlayPane.appendChild(a);this.on("moveend",this._updatePathViewport);this._updatePathViewport()}}});b.Browser.canvas=!!k.createElement("canvas").getContext;b.Path=b.Path.SVG&&!f.L_PREFER_CANVAS||!b.Browser.canvas?b.Path:b.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){this._map&&(this.projectLatlngs(),this._requestUpdate());return this},setStyle:function(a){b.setOptions(this,a);this._map&&(this._updateStyle(),this._requestUpdate());return this},onRemove:function(a){a.off("viewreset",
this.projectLatlngs,this).off("moveend",this._updatePath,this);this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this));this._requestUpdate();this._map=null},_requestUpdate:function(){this._map&&!b.Path._updateRequest&&(b.Path._updateRequest=b.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){b.Path._updateRequest=null;this.fire("moveend")},_initElements:function(){this._map._initPathRoot();this._ctx=this._map._canvasCtx},
_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color);a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var a,d,e,c,g,f;this._ctx.beginPath();a=0;for(e=this._parts.length;a<e;a++){d=0;for(c=this._parts[a].length;d<c;d++)g=this._parts[a][d],f=(0===d?"move":"line")+"To",this._ctx[f](g.x,g.y);this instanceof b.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=
this._ctx,b=this.options;this._drawPath();a.save();this._updateStyle();b.fill&&(a.globalAlpha=b.fillOpacity,a.fill());b.stroke&&(a.globalAlpha=b.opacity,a.stroke());a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor=
"pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}});b.Map.include(b.Path.SVG&&!f.L_PREFER_CANVAS||!b.Browser.canvas?{}:{_initPathRoot:function(){var a=this._pathRoot,b;a||(a=this._pathRoot=k.createElement("canvas"),a.style.position="absolute",b=this._canvasCtx=a.getContext("2d"),b.lineCap="round",b.lineJoin="round",this._panes.overlayPane.appendChild(a),this.options.zoomAnimation&&(this._pathRoot.className=
"leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var a=this._pathViewport,d=a.min,a=a.max.subtract(d),e=this._pathRoot;b.DomUtil.setPosition(e,d);e.width=a.x;e.height=a.y;e.getContext("2d").translate(-d.x,-d.y)}}});b.LineUtil={simplify:function(a,b){if(!b||!a.length)return a.slice();var e=
b*b;a=this._reducePoints(a,e);return a=this._simplifyDP(a,e)},pointToSegmentDistance:function(a,b,e){return Math.sqrt(this._sqClosestPointOnSegment(a,b,e,!0))},closestPointOnSegment:function(a,b,e){return this._sqClosestPointOnSegment(a,b,e)},_simplifyDP:function(a,b){var e=a.length,c=new (typeof Uint8Array!==l+""?Uint8Array:Array)(e);c[0]=c[e-1]=1;this._simplifyDPStep(a,c,b,0,e-1);var g,f=[];for(g=0;g<e;g++)c[g]&&f.push(a[g]);return f},_simplifyDPStep:function(a,b,e,c,g){var f=0,k,l,u;for(l=c+1;l<=
g-1;l++)u=this._sqClosestPointOnSegment(a[l],a[c],a[g],!0),u>f&&(k=l,f=u);f>e&&(b[k]=1,this._simplifyDPStep(a,b,e,c,k),this._simplifyDPStep(a,b,e,k,g))},_reducePoints:function(a,b){for(var e=[a[0]],c=1,g=0,f=a.length;c<f;c++)this._sqDist(a[c],a[g])>b&&(e.push(a[c]),g=c);g<f-1&&e.push(a[f-1]);return e},clipSegment:function(a,b,e,c){c=c?this._lastCode:this._getBitCode(a,e);var g=this._getBitCode(b,e),f,k,l;for(this._lastCode=g;;)if(c|g){if(c&g)return!1;f=c||g;k=this._getEdgeIntersection(a,b,f,e);l=
this._getBitCode(k,e);f===c?(a=k,c=l):(b=k,g=l)}else return[a,b]},_getEdgeIntersection:function(a,d,e,c){var g=d.x-a.x;d=d.y-a.y;var f=c.min;c=c.max;if(e&8)return new b.Point(a.x+g*(c.y-a.y)/d,c.y);if(e&4)return new b.Point(a.x+g*(f.y-a.y)/d,f.y);if(e&2)return new b.Point(c.x,a.y+d*(c.x-a.x)/g);if(e&1)return new b.Point(f.x,a.y+d*(f.x-a.x)/g)},_getBitCode:function(a,b){var e=0;a.x<b.min.x?e|=1:a.x>b.max.x&&(e|=2);a.y<b.min.y?e|=4:a.y>b.max.y&&(e|=8);return e},_sqDist:function(a,b){var e=b.x-a.x,c=
b.y-a.y;return e*e+c*c},_sqClosestPointOnSegment:function(a,d,e,c){var g=d.x;d=d.y;var f=e.x-g,k=e.y-d,l=f*f+k*k;0<l&&(l=((a.x-g)*f+(a.y-d)*k)/l,1<l?(g=e.x,d=e.y):0<l&&(g+=f*l,d+=k*l));f=a.x-g;k=a.y-d;return c?f*f+k*k:new b.Point(g,d)}};b.Polyline=b.Path.extend({initialize:function(a,d){b.Path.prototype.initialize.call(this,d);this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,b=this._latlngs.length;a<b;a++)this._originalPoints[a]=
this._map.latLngToLayerPoint(this._latlngs[a])},getPathString:function(){for(var a=0,b=this._parts.length,e="";a<b;a++)e+=this._getPathPartStr(this._parts[a]);return e},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){this._latlngs=this._convertLatLngs(a);return this.redraw()},addLatLng:function(a){this._latlngs.push(b.latLng(a));return this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);this._convertLatLngs(this._latlngs,!0);this.redraw();return a},
closestLayerPoint:function(a){for(var d=Infinity,e=this._parts,c,g,f=null,k=0,l=e.length;k<l;k++)for(var u=e[k],B=1,F=u.length;B<F;B++){c=u[B-1];g=u[B];var H=b.LineUtil._sqClosestPointOnSegment(a,c,g,!0);H<d&&(d=H,f=b.LineUtil._sqClosestPointOnSegment(a,c,g))}f&&(f.distance=Math.sqrt(d));return f},getBounds:function(){return new b.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(a,d){var e,c,g=d?a:[];e=0;for(c=a.length;e<c;e++){if(b.Util.isArray(a[e])&&"number"!==typeof a[e][0])return;g[e]=
b.latLng(a[e])}return g},_initEvents:function(){b.Path.prototype._initEvents.call(this)},_getPathPartStr:function(a){for(var d=b.Path.VML,e=0,c=a.length,g="",f;e<c;e++)f=a[e],d&&f._round(),g+=(e?"L":"M")+f.x+" "+f.y;return g},_clipPoints:function(){var a=this._originalPoints,d=a.length,e,c,g;if(this.options.noClip)this._parts=[a];else{var f=this._parts=[],k=this._map._pathViewport,l=b.LineUtil;for(c=e=0;e<d-1;e++)if(g=l.clipSegment(a[e],a[e+1],k,e))if(f[c]=f[c]||[],f[c].push(g[0]),g[1]!==a[e+1]||
e===d-2)f[c].push(g[1]),c++}},_simplifyPoints:function(){for(var a=this._parts,d=b.LineUtil,e=0,c=a.length;e<c;e++)a[e]=d.simplify(a[e],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),b.Path.prototype._updatePath.call(this))}});b.polyline=function(a,d){return new b.Polyline(a,d)};b.PolyUtil={};b.PolyUtil.clipPolygon=function(a,d){var e,c=[1,4,2,8],g,f,k,l,u,B,F=b.LineUtil;g=0;for(u=a.length;g<u;g++)a[g]._code=F._getBitCode(a[g],d);for(k=0;4>
k;k++){B=c[k];e=[];g=0;u=a.length;for(f=u-1;g<u;f=g++)(l=a[g],f=a[f],l._code&B)?f._code&B||(f=F._getEdgeIntersection(f,l,B,d),f._code=F._getBitCode(f,d),e.push(f)):(f._code&B&&(f=F._getEdgeIntersection(f,l,B,d),f._code=F._getBitCode(f,d),e.push(f)),e.push(l));a=e}return a};b.Polygon=b.Polyline.extend({options:{fill:!0},initialize:function(a,d){b.Polyline.prototype.initialize.call(this,a,d);this._initWithHoles(a)},_initWithHoles:function(a){var d,e;if(a&&b.Util.isArray(a[0])&&"number"!==typeof a[0][0])for(this._latlngs=
this._convertLatLngs(a[0]),this._holes=a.slice(1),a=0,d=this._holes.length;a<d;a++)e=this._holes[a]=this._convertLatLngs(this._holes[a]),e[0].equals(e[e.length-1])&&e.pop();a=this._latlngs;2<=a.length&&a[0].equals(a[a.length-1])&&a.pop()},projectLatlngs:function(){b.Polyline.prototype.projectLatlngs.call(this);this._holePoints=[];if(this._holes){var a,d,e,c;a=0;for(e=this._holes.length;a<e;a++)for(this._holePoints[a]=[],d=0,c=this._holes[a].length;d<c;d++)this._holePoints[a][d]=this._map.latLngToLayerPoint(this._holes[a][d])}},
setLatLngs:function(a){return a&&b.Util.isArray(a[0])&&"number"!==typeof a[0][0]?(this._initWithHoles(a),this.redraw()):b.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var a=[];this._parts=[this._originalPoints].concat(this._holePoints);if(!this.options.noClip){for(var d=0,e=this._parts.length;d<e;d++){var c=b.PolyUtil.clipPolygon(this._parts[d],this._map._pathViewport);c.length&&a.push(c)}this._parts=a}},_getPathPartStr:function(a){return b.Polyline.prototype._getPathPartStr.call(this,
a)+(b.Browser.svg?"z":"x")}});b.polygon=function(a,d){return new b.Polygon(a,d)};(function(){function a(a){return b.FeatureGroup.extend({initialize:function(a,b){this._layers={};this._options=b;this.setLatLngs(a)},setLatLngs:function(b){var c=0,g=b.length;for(this.eachLayer(function(a){c<g?a.setLatLngs(b[c++]):this.removeLayer(a)},this);c<g;)this.addLayer(new a(b[c++],this._options));return this},getLatLngs:function(){var a=[];this.eachLayer(function(b){a.push(b.getLatLngs())});return a}})}b.MultiPolyline=
a(b.Polyline);b.MultiPolygon=a(b.Polygon);b.multiPolyline=function(a,e){return new b.MultiPolyline(a,e)};b.multiPolygon=function(a,e){return new b.MultiPolygon(a,e)}})();b.Rectangle=b.Polygon.extend({initialize:function(a,d){b.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){a=b.latLngBounds(a);return[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});b.rectangle=function(a,
d){return new b.Rectangle(a,d)};b.Circle=b.Path.extend({initialize:function(a,d,e){b.Path.prototype.initialize.call(this,e);this._latlng=b.latLng(a);this._mRadius=d},options:{fill:!0},setLatLng:function(a){this._latlng=b.latLng(a);return this.redraw()},setRadius:function(a){this._mRadius=a;return this.redraw()},projectLatlngs:function(){var a=this._getLngRadius(),b=this._latlng,a=this._map.latLngToLayerPoint([b.lat,b.lng-a]);this._point=this._map.latLngToLayerPoint(b);this._radius=Math.max(this._point.x-
a.x,1)},getBounds:function(){var a=this._getLngRadius(),d=360*(this._mRadius/40075017),e=this._latlng;return new b.LatLngBounds([e.lat-d,e.lng-a],[e.lat+d,e.lng+a])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,d=this._radius;if(this._checkIfEmpty())return"";if(b.Browser.svg)return"M"+a.x+","+(a.y-d)+"A"+d+","+d+",0,1,1,"+(a.x-0.1)+","+(a.y-d)+" z";a._round();d=Math.round(d);return"AL "+a.x+","+a.y+" "+d+","+d+" 0,23592600"},getRadius:function(){return this._mRadius},
_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(b.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var a=this._map._pathViewport,b=this._radius,e=this._point;return e.x-b>a.max.x||e.y-b>a.max.y||e.x+b<a.min.x||e.y+b<a.min.y}});b.circle=function(a,d,e){return new b.Circle(a,d,e)};b.CircleMarker=b.Circle.extend({options:{radius:10,weight:2},initialize:function(a,d){b.Circle.prototype.initialize.call(this,
a,null,d);this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){b.Circle.prototype._updateStyle.call(this);this.setRadius(this.options.radius)},setLatLng:function(a){b.Circle.prototype.setLatLng.call(this,a);this._popup&&this._popup._isOpen&&this._popup.setLatLng(a);return this},setRadius:function(a){this.options.radius=this._radius=a;return this.redraw()},getRadius:function(){return this._radius}});b.circleMarker=
function(a,d){return new b.CircleMarker(a,d)};b.Polyline.include(b.Path.CANVAS?{_containsPoint:function(a,d){var e,c,g,f,k,l,u=this.options.weight/2;b.Browser.touch&&(u+=10);e=0;for(f=this._parts.length;e<f;e++)for(l=this._parts[e],c=0,k=l.length,g=k-1;c<k;g=c++)if(d||0!==c)if(g=b.LineUtil.pointToSegmentDistance(a,l[g],l[c]),g<=u)return!0;return!1}}:{});b.Polygon.include(b.Path.CANVAS?{_containsPoint:function(a){var d=!1,e,c,g,f,k,l,u;if(b.Polyline.prototype._containsPoint.call(this,a,!0))return!0;
f=0;for(l=this._parts.length;f<l;f++)for(e=this._parts[f],k=0,u=e.length,g=u-1;k<u;g=k++)c=e[k],g=e[g],c.y>a.y!==g.y>a.y&&a.x<(g.x-c.x)*(a.y-c.y)/(g.y-c.y)+c.x&&(d=!d);return d}}:{});b.Circle.include(b.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath();this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(a){var b=this.options.stroke?this.options.weight/2:0;return a.distanceTo(this._point)<=this._radius+b}}:{});b.CircleMarker.include(b.Path.CANVAS?{_updateStyle:function(){b.Path.prototype._updateStyle.call(this)}}:
{});b.GeoJSON=b.FeatureGroup.extend({initialize:function(a,d){b.setOptions(this,d);this._layers={};a&&this.addData(a)},addData:function(a){var d=b.Util.isArray(a)?a:a.features,e,c;if(d){a=0;for(e=d.length;a<e;a++)c=d[a],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(d[a]);return this}d=this.options;if(!d.filter||d.filter(a)){e=b.GeoJSON.geometryToLayer(a,d.pointToLayer,d.coordsToLatLng,d);e.feature=b.GeoJSON.asFeature(a);e.defaultOptions=e.options;this.resetStyle(e);if(d.onEachFeature)d.onEachFeature(a,
e);return this.addLayer(e)}},resetStyle:function(a){var d=this.options.style;d&&(b.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,d))},setStyle:function(a){this.eachLayer(function(b){this._setLayerStyle(b,a)},this)},_setLayerStyle:function(a,b){"function"===typeof b&&(b=b(a.feature));a.setStyle&&a.setStyle(b)}});b.extend(b.GeoJSON,{geometryToLayer:function(a,d,e,c){var g="Feature"===a.type?a.geometry:a,f=g.coordinates,k=[],l,u;e=e||this.coordsToLatLng;switch(g.type){case "Point":return c=
e(f),d?d(a,c):new b.Marker(c);case "MultiPoint":l=0;for(u=f.length;l<u;l++)c=e(f[l]),k.push(d?d(a,c):new b.Marker(c));return new b.FeatureGroup(k);case "LineString":return a=this.coordsToLatLngs(f,0,e),new b.Polyline(a,c);case "Polygon":if(2===f.length&&!f[1].length)throw Error("Invalid GeoJSON object.");a=this.coordsToLatLngs(f,1,e);return new b.Polygon(a,c);case "MultiLineString":return a=this.coordsToLatLngs(f,1,e),new b.MultiPolyline(a,c);case "MultiPolygon":return a=this.coordsToLatLngs(f,2,
e),new b.MultiPolygon(a,c);case "GeometryCollection":l=0;for(u=g.geometries.length;l<u;l++)k.push(this.geometryToLayer({geometry:g.geometries[l],type:"Feature",properties:a.properties},d,e,c));return new b.FeatureGroup(k);default:throw Error("Invalid GeoJSON object.");}},coordsToLatLng:function(a){return new b.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(a,b,e){var c,g,f,k=[];g=0;for(f=a.length;g<f;g++)c=b?this.coordsToLatLngs(a[g],b-1,e):(e||this.coordsToLatLng)(a[g]),k.push(c);return k},latLngToCoords:function(a){var b=
[a.lng,a.lat];a.alt!==l&&b.push(a.alt);return b},latLngsToCoords:function(a){for(var d=[],e=0,c=a.length;e<c;e++)d.push(b.GeoJSON.latLngToCoords(a[e]));return d},getFeature:function(a,d){return a.feature?b.extend({},a.feature,{geometry:d}):b.GeoJSON.asFeature(d)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var g={toGeoJSON:function(){return b.GeoJSON.getFeature(this,{type:"Point",coordinates:b.GeoJSON.latLngToCoords(this.getLatLng())})}};b.Marker.include(g);
b.Circle.include(g);b.CircleMarker.include(g);b.Polyline.include({toGeoJSON:function(){return b.GeoJSON.getFeature(this,{type:"LineString",coordinates:b.GeoJSON.latLngsToCoords(this.getLatLngs())})}});b.Polygon.include({toGeoJSON:function(){var a=[b.GeoJSON.latLngsToCoords(this.getLatLngs())],d,e,c;a[0].push(a[0][0]);if(this._holes)for(d=0,e=this._holes.length;d<e;d++)c=b.GeoJSON.latLngsToCoords(this._holes[d]),c.push(c[0]),a.push(c);return b.GeoJSON.getFeature(this,{type:"Polygon",coordinates:a})}});
(function(){function a(a){return function(){var e=[];this.eachLayer(function(a){e.push(a.toGeoJSON().geometry.coordinates)});return b.GeoJSON.getFeature(this,{type:a,coordinates:e})}}b.MultiPolyline.include({toGeoJSON:a("MultiLineString")});b.MultiPolygon.include({toGeoJSON:a("MultiPolygon")});b.LayerGroup.include({toGeoJSON:function(){var d=this.feature&&this.feature.geometry,e=[],c;if(d&&"MultiPoint"===d.type)return a("MultiPoint").call(this);var g=d&&"GeometryCollection"===d.type;this.eachLayer(function(a){a.toGeoJSON&&
(c=a.toGeoJSON(),e.push(g?c.geometry:b.GeoJSON.asFeature(c)))});return g?b.GeoJSON.getFeature(this,{geometries:e,type:"GeometryCollection"}):{type:"FeatureCollection",features:e}}})})();b.geoJson=function(a,d){return new b.GeoJSON(a,d)};b.DomEvent={addListener:function(a,d,e,c){var g=b.stamp(e),f="_leaflet_"+d+g,k,l;if(a[f])return this;k=function(d){return e.call(c||a,d||b.DomEvent._getEvent())};if(b.Browser.pointer&&0===d.indexOf("touch"))return this.addPointerListener(a,d,k,g);b.Browser.touch&&
"dblclick"===d&&this.addDoubleTapListener&&this.addDoubleTapListener(a,k,g);"addEventListener"in a?"mousewheel"===d?(a.addEventListener("DOMMouseScroll",k,!1),a.addEventListener(d,k,!1)):"mouseenter"===d||"mouseleave"===d?(l=k,k=function(d){if(b.DomEvent._checkMouse(a,d))return l(d)},a.addEventListener("mouseenter"===d?"mouseover":"mouseout",k,!1)):("click"===d&&b.Browser.android&&(l=k,k=function(a){return b.DomEvent._filterClick(a,l)}),a.addEventListener(d,k,!1)):"attachEvent"in a&&a.attachEvent("on"+
d,k);a[f]=k;return this},removeListener:function(a,d,e){e=b.stamp(e);var c="_leaflet_"+d+e,g=a[c];if(!g)return this;b.Browser.pointer&&0===d.indexOf("touch")?this.removePointerListener(a,d,e):b.Browser.touch&&"dblclick"===d&&this.removeDoubleTapListener?this.removeDoubleTapListener(a,e):"removeEventListener"in a?"mousewheel"===d?(a.removeEventListener("DOMMouseScroll",g,!1),a.removeEventListener(d,g,!1)):"mouseenter"===d||"mouseleave"===d?a.removeEventListener("mouseenter"===d?"mouseover":"mouseout",
g,!1):a.removeEventListener(d,g,!1):"detachEvent"in a&&a.detachEvent("on"+d,g);a[c]=null;return this},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;b.DomEvent._skipped(a);return this},disableScrollPropagation:function(a){var d=b.DomEvent.stopPropagation;return b.DomEvent.on(a,"mousewheel",d).on(a,"MozMousePixelScroll",d)},disableClickPropagation:function(a){for(var d=b.DomEvent.stopPropagation,e=b.Draggable.START.length-1;0<=e;e--)b.DomEvent.on(a,b.Draggable.START[e],
d);return b.DomEvent.on(a,"click",b.DomEvent._fakeStop).on(a,"dblclick",d)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;return this},stop:function(a){return b.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(a,d){var e=k.body,c=k.documentElement,g=b.DomUtil.documentIsLtr()?a.pageX?a.pageX-e.scrollLeft-c.scrollLeft:a.clientX:b.Browser.gecko?a.pageX-e.scrollLeft-c.scrollLeft:a.pageX?a.pageX-e.scrollLeft+c.scrollLeft:a.clientX,e=new b.Point(g,
a.pageY?a.pageY-e.scrollTop-c.scrollTop:a.clientY);if(!d)return e;c=d.getBoundingClientRect();return e._subtract(new b.Point(c.left-d.clientLeft,c.top-d.clientTop))},getWheelDelta:function(a){var b=0;a.wheelDelta&&(b=a.wheelDelta/120);a.detail&&(b=-a.detail/3);return b},_skipEvents:{},_fakeStop:function(a){b.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var b=this._skipEvents[a.type];this._skipEvents[a.type]=!1;return b},_checkMouse:function(a,b){var e=b.relatedTarget;if(!e)return!0;try{for(;e&&
e!==a;)e=e.parentNode}catch(c){return!1}return e!==a},_getEvent:function(){var a=f.event;if(!a)for(var b=arguments.callee.caller;b&&(!(a=b.arguments[0])||f.Event!==a.constructor);)b=b.caller;return a},_filterClick:function(a,d){var e=a.timeStamp||a.originalEvent.timeStamp,c=b.DomEvent._lastClick&&e-b.DomEvent._lastClick;if(c&&100<c&&1E3>c||a.target._simulatedClick&&!a._simulated)b.DomEvent.stop(a);else return b.DomEvent._lastClick=e,d(a)}};b.DomEvent.on=b.DomEvent.addListener;b.DomEvent.off=b.DomEvent.removeListener;
b.Draggable=b.Class.extend({includes:b.Mixin.Events,statics:{START:b.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,b){this._element=a;this._dragStartTarget=b||a},enable:function(){if(!this._enabled){for(var a=b.Draggable.START.length-1;0<=a;a--)b.DomEvent.on(this._dragStartTarget,
b.Draggable.START[a],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var a=b.Draggable.START.length-1;0<=a;a--)b.DomEvent.off(this._dragStartTarget,b.Draggable.START[a],this._onDown,this);this._moved=this._enabled=!1}},_onDown:function(a){this._moved=!1;if(!(a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(b.DomEvent.stopPropagation(a),b.Draggable._disabled||(b.DomUtil.disableImageDrag(),b.DomUtil.disableTextSelection(),this._moving)))){var d=a.touches?a.touches[0]:
a;this._startPoint=new b.Point(d.clientX,d.clientY);this._startPos=this._newPos=b.DomUtil.getPosition(this._element);b.DomEvent.on(k,b.Draggable.MOVE[a.type],this._onMove,this).on(k,b.Draggable.END[a.type],this._onUp,this)}},_onMove:function(a){if(a.touches&&1<a.touches.length)this._moved=!0;else{var d=a.touches&&1===a.touches.length?a.touches[0]:a,d=(new b.Point(d.clientX,d.clientY)).subtract(this._startPoint);if(d.x||d.y)b.DomEvent.preventDefault(a),this._moved||(this.fire("dragstart"),this._moved=
!0,this._startPos=b.DomUtil.getPosition(this._element).subtract(d),b.DomUtil.addClass(k.body,"leaflet-dragging"),b.DomUtil.addClass(a.target||a.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,b.Util.cancelAnimFrame(this._animRequest),this._animRequest=b.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)}},_updatePosition:function(){this.fire("predrag");b.DomUtil.setPosition(this._element,this._newPos);this.fire("drag")},_onUp:function(a){b.DomUtil.removeClass(k.body,
"leaflet-dragging");b.DomUtil.removeClass(a.target||a.srcElement,"leaflet-drag-target");for(var d in b.Draggable.MOVE)b.DomEvent.off(k,b.Draggable.MOVE[d],this._onMove).off(k,b.Draggable.END[d],this._onUp);b.DomUtil.enableImageDrag();b.DomUtil.enableTextSelection();this._moved&&this._moving&&(b.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1}});b.Handler=b.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||
(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});b.Map.mergeOptions({dragging:!0,inertia:!b.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,inertiaThreshold:b.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1});b.Map.Drag=b.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new b.Draggable(a._mapPane,a._container);this._draggable.on({dragstart:this._onDragStart,
drag:this._onDrag,dragend:this._onDragEnd},this);a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop();a.fire("movestart").fire("dragstart");a.options.inertia&&(this._positions=[],this._times=
[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,b=this._lastPos=this._draggable._newPos;this._positions.push(b);this._times.push(a);200<a-this._times[0]&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(a).x;this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var a=this._worldWidth,
b=Math.round(a/2),e=this._initialWorldOffset,c=this._draggable._newPos.x,g=(c-b+e)%a+b-e,a=(c+b+e)%a-b-e,e=Math.abs(g+e)<Math.abs(a+e)?g:a;this._draggable._newPos.x=e},_onDragEnd:function(a){var d=this._map,e=d.options,c=+new Date-this._lastTime,g=!e.inertia||c>e.inertiaThreshold||!this._positions[0];d.fire("dragend",a);if(g)d.fire("moveend");else{a=this._lastPos.subtract(this._positions[0]);var f=e.easeLinearity;a=a.multiplyBy(f/((this._lastTime+c-this._times[0])/1E3));g=a.distanceTo([0,0]);c=Math.min(e.inertiaMaxSpeed,
g);a=a.multiplyBy(c/g);var k=c/(e.inertiaDeceleration*f),l=a.multiplyBy(-k/2).round();l.x&&l.y?(l=d._limitOffset(l,d.options.maxBounds),b.Util.requestAnimFrame(function(){d.panBy(l,{duration:k,easeLinearity:f,noMoveStart:!0})})):d.fire("moveend")}}});b.Map.addInitHook("addHandler","dragging",b.Map.Drag);b.Map.mergeOptions({doubleClickZoom:!0});b.Map.DoubleClickZoom=b.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",
this._onDoubleClick,this)},_onDoubleClick:function(a){var b=this._map,e=b.getZoom()+(a.originalEvent.shiftKey?-1:1);"center"===b.options.doubleClickZoom?b.setZoom(e):b.setZoomAround(a.containerPoint,e)}});b.Map.addInitHook("addHandler","doubleClickZoom",b.Map.DoubleClickZoom);b.Map.mergeOptions({scrollWheelZoom:!0});b.Map.ScrollWheelZoom=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);b.DomEvent.on(this._map._container,"MozMousePixelScroll",
b.DomEvent.preventDefault);this._delta=0},removeHooks:function(){b.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll);b.DomEvent.off(this._map._container,"MozMousePixelScroll",b.DomEvent.preventDefault)},_onWheelScroll:function(a){var d=b.DomEvent.getWheelDelta(a);this._delta+=d;this._lastMousePos=this._map.mouseEventToContainerPoint(a);this._startTime||(this._startTime=+new Date);d=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(b.bind(this._performZoom,
this),d);b.DomEvent.preventDefault(a);b.DomEvent.stopPropagation(a)},_performZoom:function(){var a=this._map,b=this._delta,e=a.getZoom(),b=0<b?Math.ceil(b):Math.floor(b),b=Math.max(Math.min(b,4),-4),b=a._limitZoom(e+b)-e;this._delta=0;this._startTime=null;b&&("center"===a.options.scrollWheelZoom?a.setZoom(e+b):a.setZoomAround(this._lastMousePos,e+b))}});b.Map.addInitHook("addHandler","scrollWheelZoom",b.Map.ScrollWheelZoom);b.extend(b.DomEvent,{_touchstart:b.Browser.msPointer?"MSPointerDown":b.Browser.pointer?
"pointerdown":"touchstart",_touchend:b.Browser.msPointer?"MSPointerUp":b.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(a,d,e){function c(a){var d;b.Browser.pointer?(H.push(a.pointerId),d=H.length):d=a.touches.length;if(!(1<d)){d=Date.now();var e=d-(f||d);u=a.touches?a.touches[0]:a;l=0<e&&e<=s;f=d}}function g(a){if(b.Browser.pointer){a=H.indexOf(a.pointerId);if(-1===a)return;H.splice(a,1)}if(l){if(b.Browser.pointer){a={};var e,c;for(c in u)e=u[c],a[c]="function"===typeof e?e.bind(u):
e;u=a}u.type="dblclick";d(u);f=null}}var f,l=!1,s=250,u,B=this._touchstart,F=this._touchend,H=[];a["_leaflet_"+B+e]=c;a["_leaflet_"+F+e]=g;e=b.Browser.pointer?k.documentElement:a;a.addEventListener(B,c,!1);e.addEventListener(F,g,!1);b.Browser.pointer&&e.addEventListener(b.DomEvent.POINTER_CANCEL,g,!1);return this},removeDoubleTapListener:function(a,d){a.removeEventListener(this._touchstart,a["_leaflet_"+this._touchstart+d],!1);(b.Browser.pointer?k.documentElement:a).removeEventListener(this._touchend,
a["_leaflet_"+this._touchend+d],!1);b.Browser.pointer&&k.documentElement.removeEventListener(b.DomEvent.POINTER_CANCEL,a["_leaflet_"+this._touchend+d],!1);return this}});b.extend(b.DomEvent,{POINTER_DOWN:b.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:b.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:b.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:b.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(a,
b,e,c){switch(b){case "touchstart":return this.addPointerListenerStart(a,b,e,c);case "touchend":return this.addPointerListenerEnd(a,b,e,c);case "touchmove":return this.addPointerListenerMove(a,b,e,c);default:throw"Unknown touch event type";}},addPointerListenerStart:function(a,d,e,c){var g=this._pointers;d=function(a){b.DomEvent.preventDefault(a);for(var d=!1,c=0;c<g.length;c++)if(g[c].pointerId===a.pointerId){d=!0;break}d||g.push(a);a.touches=g.slice();a.changedTouches=[a];e(a)};a["_leaflet_touchstart"+
c]=d;a.addEventListener(this.POINTER_DOWN,d,!1);this._pointerDocumentListener||(a=function(a){for(var b=0;b<g.length;b++)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}},k.documentElement.addEventListener(this.POINTER_UP,a,!1),k.documentElement.addEventListener(this.POINTER_CANCEL,a,!1),this._pointerDocumentListener=!0);return this},addPointerListenerMove:function(a,b,e,c){function g(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var b=0;b<f.length;b++)if(f[b].pointerId===
a.pointerId){f[b]=a;break}a.touches=f.slice();a.changedTouches=[a];e(a)}}var f=this._pointers;a["_leaflet_touchmove"+c]=g;a.addEventListener(this.POINTER_MOVE,g,!1);return this},addPointerListenerEnd:function(a,b,e,c){var g=this._pointers;b=function(a){for(var b=0;b<g.length;b++)if(g[b].pointerId===a.pointerId){g.splice(b,1);break}a.touches=g.slice();a.changedTouches=[a];e(a)};a["_leaflet_touchend"+c]=b;a.addEventListener(this.POINTER_UP,b,!1);a.addEventListener(this.POINTER_CANCEL,b,!1);return this},
removePointerListener:function(a,b,e){e=a["_leaflet_"+b+e];switch(b){case "touchstart":a.removeEventListener(this.POINTER_DOWN,e,!1);break;case "touchmove":a.removeEventListener(this.POINTER_MOVE,e,!1);break;case "touchend":a.removeEventListener(this.POINTER_UP,e,!1),a.removeEventListener(this.POINTER_CANCEL,e,!1)}return this}});b.Map.mergeOptions({touchZoom:b.Browser.touch&&!b.Browser.android23,bounceAtZoomLimits:!0});b.Map.TouchZoom=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,
"touchstart",this._onTouchStart,this)},removeHooks:function(){b.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(a.touches&&2===a.touches.length&&!d._animatingZoom&&!this._zooming){var e=d.mouseEventToLayerPoint(a.touches[0]),c=d.mouseEventToLayerPoint(a.touches[1]),g=d._getCenterLayerPoint();this._startCenter=e.add(c)._divideBy(2);this._startDist=e.distanceTo(c);this._moved=!1;this._zooming=!0;this._centerOffset=g.subtract(this._startCenter);
d._panAnim&&d._panAnim.stop();b.DomEvent.on(k,"touchmove",this._onTouchMove,this).on(k,"touchend",this._onTouchEnd,this);b.DomEvent.preventDefault(a)}},_onTouchMove:function(a){var d=this._map;if(a.touches&&2===a.touches.length&&this._zooming){var e=d.mouseEventToLayerPoint(a.touches[0]),c=d.mouseEventToLayerPoint(a.touches[1]);this._scale=e.distanceTo(c)/this._startDist;this._delta=e._add(c)._divideBy(2)._subtract(this._startCenter);1===this._scale||!d.options.bounceAtZoomLimits&&(d.getZoom()===
d.getMinZoom()&&1>this._scale||d.getZoom()===d.getMaxZoom()&&1<this._scale)||(this._moved||(b.DomUtil.addClass(d._mapPane,"leaflet-touching"),d.fire("movestart").fire("zoomstart"),this._moved=!0),b.Util.cancelAnimFrame(this._animRequest),this._animRequest=b.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),b.DomEvent.preventDefault(a))}},_updateOnMove:function(){var a=this._map,b=this._getScaleOrigin(),b=a.layerPointToLatLng(b),e=a.getScaleZoom(this._scale);a._animateZoom(b,e,
this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(this._moved&&this._zooming){var a=this._map;this._zooming=!1;b.DomUtil.removeClass(a._mapPane,"leaflet-touching");b.Util.cancelAnimFrame(this._animRequest);b.DomEvent.off(k,"touchmove",this._onTouchMove).off(k,"touchend",this._onTouchEnd);var d=this._getScaleOrigin(),e=a.layerPointToLatLng(d),c=a.getZoom(),g=a.getScaleZoom(this._scale)-c,g=0<g?Math.ceil(g):Math.floor(g),c=a._limitZoom(c+g),g=a.getZoomScale(c)/this._scale;a._animateZoom(e,
c,d,g)}else this._zooming=!1},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}});b.Map.addInitHook("addHandler","touchZoom",b.Map.TouchZoom);b.Map.mergeOptions({tap:!0,tapTolerance:15});b.Map.Tap=b.Handler.extend({addHooks:function(){b.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){b.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(a.touches)if(b.DomEvent.preventDefault(a),
this._fireClick=!0,1<a.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var d=a.touches[0];a=d.target;this._startPos=this._newPos=new b.Point(d.clientX,d.clientY);a.tagName&&"a"===a.tagName.toLowerCase()&&b.DomUtil.addClass(a,"leaflet-active");this._holdTimeout=setTimeout(b.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",d))},this),1E3);b.DomEvent.on(k,"touchmove",this._onMove,this).on(k,"touchend",this._onUp,this)}},_onUp:function(a){clearTimeout(this._holdTimeout);
b.DomEvent.off(k,"touchmove",this._onMove,this).off(k,"touchend",this._onUp,this);if(this._fireClick&&a&&a.changedTouches){a=a.changedTouches[0];var d=a.target;d&&d.tagName&&"a"===d.tagName.toLowerCase()&&b.DomUtil.removeClass(d,"leaflet-active");this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){a=a.touches[0];this._newPos=new b.Point(a.clientX,a.clientY)},_simulateEvent:function(a,
b){var e=k.createEvent("MouseEvents");e._simulated=!0;b.target._simulatedClick=!0;e.initMouseEvent(a,!0,!0,f,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(e)}});b.Browser.touch&&!b.Browser.pointer&&b.Map.addInitHook("addHandler","tap",b.Map.Tap);b.Map.mergeOptions({boxZoom:!0});b.Map.BoxZoom=b.Handler.extend({initialize:function(a){this._map=a;this._container=a._container;this._pane=a._panes.overlayPane;this._moved=!1},addHooks:function(){b.DomEvent.on(this._container,
"mousedown",this._onMouseDown,this)},removeHooks:function(){b.DomEvent.off(this._container,"mousedown",this._onMouseDown);this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){this._moved=!1;if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;b.DomUtil.disableTextSelection();b.DomUtil.disableImageDrag();this._startLayerPoint=this._map.mouseEventToLayerPoint(a);b.DomEvent.on(k,"mousemove",this._onMouseMove,this).on(k,"mouseup",this._onMouseUp,this).on(k,"keydown",this._onKeyDown,
this)},_onMouseMove:function(a){this._moved||(this._box=b.DomUtil.create("div","leaflet-zoom-box",this._pane),b.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var d=this._startLayerPoint,e=this._box,c=this._map.mouseEventToLayerPoint(a);a=c.subtract(d);d=new b.Point(Math.min(c.x,d.x),Math.min(c.y,d.y));b.DomUtil.setPosition(e,d);this._moved=!0;e.style.width=Math.max(0,Math.abs(a.x)-4)+"px";e.style.height=Math.max(0,Math.abs(a.y)-
4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor="");b.DomUtil.enableTextSelection();b.DomUtil.enableImageDrag();b.DomEvent.off(k,"mousemove",this._onMouseMove).off(k,"mouseup",this._onMouseUp).off(k,"keydown",this._onKeyDown)},_onMouseUp:function(a){this._finish();var d=this._map;a=d.mouseEventToLayerPoint(a);this._startLayerPoint.equals(a)||(a=new b.LatLngBounds(d.layerPointToLatLng(this._startLayerPoint),d.layerPointToLatLng(a)),d.fitBounds(a),
d.fire("boxzoomend",{boxZoomBounds:a}))},_onKeyDown:function(a){27===a.keyCode&&this._finish()}});b.Map.addInitHook("addHandler","boxZoom",b.Map.BoxZoom);b.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1});b.Map.Keyboard=b.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a;this._setPanOffset(a.options.keyboardPanOffset);this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=
this._map._container;-1===a.tabIndex&&(a.tabIndex="0");b.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this);this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;b.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this);this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,
this)},_onMouseDown:function(){if(!this._focused){var a=k.body,b=k.documentElement,e=a.scrollTop||b.scrollTop,a=a.scrollLeft||b.scrollLeft;this._map._container.focus();f.scrollTo(a,e)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanOffset:function(a){var b=this._panKeys={},e=this.keyCodes,c,g;c=0;for(g=e.left.length;c<g;c++)b[e.left[c]]=[-1*a,0];c=0;for(g=e.right.length;c<g;c++)b[e.right[c]]=[a,0];c=0;for(g=e.down.length;c<
g;c++)b[e.down[c]]=[0,a];c=0;for(g=e.up.length;c<g;c++)b[e.up[c]]=[0,-1*a]},_setZoomOffset:function(a){var b=this._zoomKeys={},e=this.keyCodes,c,g;c=0;for(g=e.zoomIn.length;c<g;c++)b[e.zoomIn[c]]=a;c=0;for(g=e.zoomOut.length;c<g;c++)b[e.zoomOut[c]]=-a},_addHooks:function(){b.DomEvent.on(k,"keydown",this._onKeyDown,this)},_removeHooks:function(){b.DomEvent.off(k,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){var d=a.keyCode,e=this._map;if(d in this._panKeys){if(e._panAnim&&e._panAnim._inProgress)return;
e.panBy(this._panKeys[d]);e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds)}else if(d in this._zoomKeys)e.setZoom(e.getZoom()+this._zoomKeys[d]);else return;b.DomEvent.stop(a)}});b.Map.addInitHook("addHandler","keyboard",b.Map.Keyboard);b.Handler.MarkerDrag=b.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new b.Draggable(a,a));this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,
this).on("dragend",this._onDragEnd,this);this._draggable.enable();b.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this);this._draggable.disable();b.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},
_onDrag:function(){var a=this._marker,d=a._shadow,e=b.DomUtil.getPosition(a._icon),c=a._map.layerPointToLatLng(e);d&&b.DomUtil.setPosition(d,e);a._latlng=c;a.fire("move",{latlng:c}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}});b.Control=b.Class.extend({options:{position:"topright"},initialize:function(a){b.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var b=this._map;b&&b.removeControl(this);this.options.position=
a;b&&b.addControl(this);return this},getContainer:function(){return this._container},addTo:function(a){this._map=a;var d=this._container=this.onAdd(a),e=this.getPosition();a=a._controlCorners[e];b.DomUtil.addClass(d,"leaflet-control");-1!==e.indexOf("bottom")?a.insertBefore(d,a.firstChild):a.appendChild(d);return this},removeFrom:function(a){var b=this.getPosition();a._controlCorners[b].removeChild(this._container);this._map=null;if(this.onRemove)this.onRemove(a);return this},_refocusOnMap:function(){this._map&&
this._map.getContainer().focus()}});b.control=function(a){return new b.Control(a)};b.Map.include({addControl:function(a){a.addTo(this);return this},removeControl:function(a){a.removeFrom(this);return this},_initControlPos:function(){function a(a,g){d[a+g]=b.DomUtil.create("div",e+a+" "+e+g,c)}var d=this._controlCorners={},e="leaflet-",c=this._controlContainer=b.DomUtil.create("div",e+"control-container",this._container);a("top","left");a("top","right");a("bottom","left");a("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}});
b.Control.Zoom=b.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(a){var d=b.DomUtil.create("div","leaflet-control-zoom leaflet-bar");this._map=a;this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,"leaflet-control-zoom-in",d,this._zoomIn,this);this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,"leaflet-control-zoom-out",d,this._zoomOut,
this);this._updateDisabled();a.on("zoomend zoomlevelschange",this._updateDisabled,this);return d},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(a,d,e,c,g,f){e=b.DomUtil.create("a",e,c);e.innerHTML=a;e.href="#";e.title=d;a=b.DomEvent.stopPropagation;b.DomEvent.on(e,"click",a).on(e,"mousedown",a).on(e,"dblclick",a).on(e,"click",b.DomEvent.preventDefault).on(e,
"click",g,f).on(e,"click",this._refocusOnMap,f);return e},_updateDisabled:function(){var a=this._map;b.DomUtil.removeClass(this._zoomInButton,"leaflet-disabled");b.DomUtil.removeClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMinZoom()&&b.DomUtil.addClass(this._zoomOutButton,"leaflet-disabled");a._zoom===a.getMaxZoom()&&b.DomUtil.addClass(this._zoomInButton,"leaflet-disabled")}});b.Map.mergeOptions({zoomControl:!0});b.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=
new b.Control.Zoom,this.addControl(this.zoomControl))});b.control.zoom=function(a){return new b.Control.Zoom(a)};b.Control.Attribution=b.Control.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"http://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},initialize:function(a){b.setOptions(this,a);this._attributions={}},onAdd:function(a){this._container=b.DomUtil.create("div","leaflet-control-attribution");b.DomEvent.disableClickPropagation(this._container);
for(var d in a._layers)a._layers[d].getAttribution&&this.addAttribution(a._layers[d].getAttribution());a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this);this._update();return this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){this.options.prefix=a;this._update();return this},addAttribution:function(a){if(a)return this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,
this._update(),this},removeAttribution:function(a){if(a)return this._attributions[a]&&(this._attributions[a]--,this._update()),this},_update:function(){if(this._map){var a=[],b;for(b in this._attributions)this._attributions[b]&&a.push(b);b=[];this.options.prefix&&b.push(this.options.prefix);a.length&&b.push(a.join(", "));this._container.innerHTML=b.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&
this.removeAttribution(a.layer.getAttribution())}});b.Map.mergeOptions({attributionControl:!0});b.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new b.Control.Attribution).addTo(this))});b.control.attribution=function(a){return new b.Control.Attribution(a)};b.Control.Scale=b.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(a){this._map=a;var d=b.DomUtil.create("div","leaflet-control-scale"),e=
this.options;this._addScales(e,"leaflet-control-scale",d);a.on(e.updateWhenIdle?"moveend":"move",this._update,this);a.whenReady(this._update,this);return d},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,d,e){a.metric&&(this._mScale=b.DomUtil.create("div",d+"-line",e));a.imperial&&(this._iScale=b.DomUtil.create("div",d+"-line",e))},_update:function(){var a=this._map.getBounds(),b=a.getCenter().lat,a=6378137*Math.PI*Math.cos(b*Math.PI/
180)*(a.getNorthEast().lng-a.getSouthWest().lng)/180,b=this._map.getSize(),e=this.options,c=0;0<b.x&&(c=a*(e.maxWidth/b.x));this._updateScales(e,c)},_updateScales:function(a,b){a.metric&&b&&this._updateMetric(b);a.imperial&&b&&this._updateImperial(b)},_updateMetric:function(a){var b=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(b/a)+"px";this._mScale.innerHTML=1E3>b?b+" m":b/1E3+" km"},_updateImperial:function(a){var b=3.2808399*a;a=this._iScale;var e;5280<b?(b/=5280,e=this._getRoundNum(b),
a.style.width=this._getScaleWidth(e/b)+"px",a.innerHTML=e+" mi"):(e=this._getRoundNum(b),a.style.width=this._getScaleWidth(e/b)+"px",a.innerHTML=e+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(a){var b=Math.pow(10,(Math.floor(a)+"").length-1);a/=b;return b*(10<=a?10:5<=a?5:3<=a?3:2<=a?2:1)}});b.control.scale=function(a){return new b.Control.Scale(a)};b.Control.Layers=b.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},
initialize:function(a,d,e){b.setOptions(this,e);this._layers={};this._lastZIndex=0;this._handlingClick=!1;for(var c in a)this._addLayer(a[c],c);for(c in d)this._addLayer(d[c],c,!0)},onAdd:function(a){this._initLayout();this._update();a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,b){this._addLayer(a,b);this._update();
return this},addOverlay:function(a,b){this._addLayer(a,b,!0);this._update();return this},removeLayer:function(a){a=b.stamp(a);delete this._layers[a];this._update();return this},_initLayout:function(){var a=this._container=b.DomUtil.create("div","leaflet-control-layers");a.setAttribute("aria-haspopup",!0);if(b.Browser.touch)b.DomEvent.on(a,"click",b.DomEvent.stopPropagation);else b.DomEvent.disableClickPropagation(a).disableScrollPropagation(a);var d=this._form=b.DomUtil.create("form","leaflet-control-layers-list");
if(this.options.collapsed){if(!b.Browser.android)b.DomEvent.on(a,"mouseover",this._expand,this).on(a,"mouseout",this._collapse,this);var e=this._layersLink=b.DomUtil.create("a","leaflet-control-layers-toggle",a);e.href="#";e.title="Layers";if(b.Browser.touch)b.DomEvent.on(e,"click",b.DomEvent.stop).on(e,"click",this._expand,this);else b.DomEvent.on(e,"focus",this._expand,this);b.DomEvent.on(d,"click",function(){setTimeout(b.bind(this._onInputClick,this),0)},this);this._map.on("click",this._collapse,
this)}else this._expand();this._baseLayersList=b.DomUtil.create("div","leaflet-control-layers-base",d);this._separator=b.DomUtil.create("div","leaflet-control-layers-separator",d);this._overlaysList=b.DomUtil.create("div","leaflet-control-layers-overlays",d);a.appendChild(d)},_addLayer:function(a,d,e){var c=b.stamp(a);this._layers[c]={layer:a,name:d,overlay:e};this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML=
"";this._overlaysList.innerHTML="";var a=!1,b=!1,e,c;for(e in this._layers)c=this._layers[e],this._addItem(c),b=b||c.overlay,a=a||!c.overlay;this._separator.style.display=b&&a?"":"none"}},_onLayerChange:function(a){var d=this._layers[b.stamp(a.layer)];d&&(this._handlingClick||this._update(),(a=d.overlay?"layeradd"===a.type?"overlayadd":"overlayremove":"layeradd"===a.type?"baselayerchange":null)&&this._map.fire(a,d))},_createRadioElement:function(a,b){var e='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+
a+'"';b&&(e+=' checked\x3d"checked"');var e=e+"/\x3e",c=k.createElement("div");c.innerHTML=e;return c.firstChild},_addItem:function(a){var d=k.createElement("label"),e,c=this._map.hasLayer(a.layer);a.overlay?(e=k.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=c):e=this._createRadioElement("leaflet-base-layers",c);e.layerId=b.stamp(a.layer);b.DomEvent.on(e,"click",this._onInputClick,this);c=k.createElement("span");c.innerHTML=" "+a.name;d.appendChild(e);
d.appendChild(c);(a.overlay?this._overlaysList:this._baseLayersList).appendChild(d);return d},_onInputClick:function(){var a,b,e,c=this._form.getElementsByTagName("input"),g=c.length;this._handlingClick=!0;for(a=0;a<g;a++)b=c[a],e=this._layers[b.layerId],b.checked&&!this._map.hasLayer(e.layer)?this._map.addLayer(e.layer):!b.checked&&this._map.hasLayer(e.layer)&&this._map.removeLayer(e.layer);this._handlingClick=!1;this._refocusOnMap()},_expand:function(){b.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},
_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}});b.control.layers=function(a,d,e){return new b.Control.Layers(a,d,e)};b.PosAnimation=b.Class.extend({includes:b.Mixin.Events,run:function(a,d,e,c){this.stop();this._el=a;this._inProgress=!0;this._newPos=d;this.fire("start");a.style[b.DomUtil.TRANSITION]="all "+(e||0.25)+"s cubic-bezier(0,0,"+(c||0.5)+",1)";b.DomEvent.on(a,b.DomUtil.TRANSITION_END,this._onTransitionEnd,this);b.DomUtil.setPosition(a,
d);b.Util.falseFn(a.offsetWidth);this._stepTimer=setInterval(b.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(b.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),b.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();a?(this._el._leaflet_pos=a,this.fire("step")):this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var a,d;d=f.getComputedStyle(this._el);if(b.Browser.any3d){d=d[b.DomUtil.TRANSFORM].match(this._transformRe);
if(!d)return;a=parseFloat(d[1]);d=parseFloat(d[2])}else a=parseFloat(d.left),d=parseFloat(d.top);return new b.Point(a,d,!0)},_onTransitionEnd:function(){b.DomEvent.off(this._el,b.DomUtil.TRANSITION_END,this._onTransitionEnd,this);this._inProgress&&(this._inProgress=!1,this._el.style[b.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}});b.Map.include({setView:function(a,d,e){d=d===l?this._zoom:this._limitZoom(d);a=this._limitCenter(b.latLng(a),
d,this.options.maxBounds);e=e||{};this._panAnim&&this._panAnim.stop();if(this._loaded&&!e.reset&&!0!==e&&(e.animate!==l&&(e.zoom=b.extend({animate:e.animate},e.zoom),e.pan=b.extend({animate:e.animate},e.pan)),this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,d,e.zoom):this._tryAnimatedPan(a,e.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(a,d);return this},panBy:function(a,d){a=b.point(a).round();d=d||{};if(!a.x&&!a.y)return this;this._panAnim||(this._panAnim=new b.PosAnimation,
this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this));d.noMoveStart||this.fire("movestart");if(!1!==d.animate){b.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(a);this._panAnim.run(this._mapPane,e,d.duration||0.25,d.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){b.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");
this.fire("moveend")},_tryAnimatedPan:function(a,b){var e=this._getCenterOffset(a)._floor();if(!0!==(b&&b.animate)&&!this.getSize().contains(e))return!1;this.panBy(e,b);return!0}});b.PosAnimation=b.DomUtil.TRANSITION?b.PosAnimation:b.PosAnimation.extend({run:function(a,d,e,c){this.stop();this._el=a;this._inProgress=!0;this._duration=e||0.25;this._easeOutPower=1/Math.max(c||0.5,0.2);this._startPos=b.DomUtil.getPosition(a);this._offset=d.subtract(this._startPos);this._startTime=+new Date;this.fire("start");
this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=b.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(){var a=+new Date-this._startTime,b=1E3*this._duration;a<b?this._runFrame(this._easeOut(a/b)):(this._runFrame(1),this._complete())},_runFrame:function(a){a=this._startPos.add(this._offset.multiplyBy(a));b.DomUtil.setPosition(this._el,a);this.fire("step")},_complete:function(){b.Util.cancelAnimFrame(this._animId);
this._inProgress=!1;this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}});b.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});b.DomUtil.TRANSITION&&b.Map.addInitHook(function(){if(this._zoomAnimated=this.options.zoomAnimation&&b.DomUtil.TRANSITION&&b.Browser.any3d&&!b.Browser.android23&&!b.Browser.mobileOpera)b.DomEvent.on(this._mapPane,b.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)});b.Map.include(b.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&
0<=a.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,b,c){if(this._animatingZoom)return!0;c=c||{};if(!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(b),f=this._getCenterOffset(a)._divideBy(1-1/g),k=this._getCenterLayerPoint()._add(f);if(!0!==
c.animate&&!this.getSize().contains(f))return!1;this.fire("movestart").fire("zoomstart");this._animateZoom(a,b,k,g,null,!0);return!0},_animateZoom:function(a,d,c,g,f,k){this._animatingZoom=!0;b.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim");this._animateToCenter=a;this._animateToZoom=d;b.Draggable&&(b.Draggable._disabled=!0);this.fire("zoomanim",{center:a,zoom:d,origin:c,scale:g,delta:f,backwards:k})},_onZoomTransitionEnd:function(){this._animatingZoom=!1;b.DomUtil.removeClass(this._mapPane,
"leaflet-zoom-anim");this._resetView(this._animateToCenter,this._animateToZoom,!0,!0);b.Draggable&&(b.Draggable._disabled=!1)}}:{});b.TileLayer.include({_animateZoom:function(a){this._animating||(this._animating=!0,this._prepareBgBuffer());var d=this._bgBuffer,c=b.DomUtil.TRANSFORM,g=a.delta?b.DomUtil.getTranslateString(a.delta):d.style[c],f=b.DomUtil.getScaleString(a.scale,a.origin);d.style[c]=a.backwards?f+" "+g:g+" "+f},_endZoomAnim:function(){var a=this._tileContainer,d=this._bgBuffer;a.style.visibility=
"";a.parentNode.appendChild(a);b.Util.falseFn(d.offsetWidth);this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[b.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var a=this._tileContainer,d=this._bgBuffer,c=this._getLoadedTilesPercentage(d),g=this._getLoadedTilesPercentage(a);d&&0.5<c&&0.5>g?(a.style.visibility="hidden",this._stopLoadingImages(a)):(d.style.visibility="hidden",d.style[b.DomUtil.TRANSFORM]=
"",this._tileContainer=d,d=this._bgBuffer=a,this._stopLoadingImages(d),clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(a){a=a.getElementsByTagName("img");var b,c,g=0;b=0;for(c=a.length;b<c;b++)a[b].complete&&g++;return g/c},_stopLoadingImages:function(a){a=Array.prototype.slice.call(a.getElementsByTagName("img"));var d,c,g;d=0;for(c=a.length;d<c;d++)g=a[d],g.complete||(g.onload=b.Util.falseFn,g.onerror=b.Util.falseFn,g.src=b.Util.emptyImageUrl,g.parentNode.removeChild(g))}});
b.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:Infinity,timeout:1E4,maximumAge:0,enableHighAccuracy:!1},locate:function(a){a=this._locateOptions=b.extend(this._defaultLocateOptions,a);if(!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=b.bind(this._handleGeolocationResponse,this),c=b.bind(this._handleGeolocationError,this);a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,c,a):navigator.geolocation.getCurrentPosition(d,
c,a);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(a){var b=a.code;a=a.message||(1===b?"permission denied":2===b?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:b,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(a){var d=a.coords.latitude,
c=a.coords.longitude,g=new b.LatLng(d,c),f=180*a.coords.accuracy/40075017,k=f/Math.cos(b.LatLng.DEG_TO_RAD*d),d=b.latLngBounds([d-f,c-k],[d+f,c+k]),c=this._locateOptions;c.setView&&(c=Math.min(this.getBoundsZoom(d),c.maxZoom),this.setView(g,c));var g={latlng:g,bounds:d,timestamp:a.timestamp},l;for(l in a.coords)"number"===typeof a.coords[l]&&(g[l]=a.coords[l]);this.fire("locationfound",g)}})})(window,document);
(function(f,k,l){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,polygonOptions:{}},initialize:function(c){L.Util.setOptions(this,c);this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction);this._featureGroup=L.featureGroup();
this._featureGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this);this._nonPointGroup=L.featureGroup();this._nonPointGroup.on(L.FeatureGroup.EVENTS,this._propagateEvent,this);this._inZoomAnimation=0;this._needsClustering=[];this._needsRemoving=[];this._currentShownBounds=null;this._queue=[]},addLayer:function(c){if(c instanceof L.LayerGroup){var b=[],g;for(g in c._layers)b.push(c._layers[g]);return this.addLayers(b)}if(!c.getLatLng)return this._nonPointGroup.addLayer(c),this;if(!this._map)return this._needsClustering.push(c),
this;if(this.hasLayer(c))return this;this._unspiderfy&&this._unspiderfy();this._addLayer(c,this._maxZoom);b=c;g=this._map.getZoom();if(c.__parent)for(;b.__parent._zoom>=g;)b=b.__parent;this._currentShownBounds.contains(b.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(c,b):this._animationAddLayerNonAnimated(c,b));return this},removeLayer:function(c){if(c instanceof L.LayerGroup){var b=[],g;for(g in c._layers)b.push(c._layers[g]);return this.removeLayers(b)}if(!c.getLatLng)return this._nonPointGroup.removeLayer(c),
this;if(!this._map)return!this._arraySplice(this._needsClustering,c)&&this.hasLayer(c)&&this._needsRemoving.push(c),this;if(!c.__parent)return this;this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(c));this._removeLayer(c,!0);this._featureGroup.hasLayer(c)&&(this._featureGroup.removeLayer(c),c.setOpacity&&c.setOpacity(1));return this},addLayers:function(c){var b,g,a,d=this._map,e=this._featureGroup,h=this._nonPointGroup;b=0;for(g=c.length;b<g;b++)if(a=c[b],!a.getLatLng)h.addLayer(a);else if(!this.hasLayer(a))if(d){if(this._addLayer(a,
this._maxZoom),a.__parent&&2===a.__parent.getChildCount()){var f=a.__parent.getAllChildMarkers();e.removeLayer(f[0]===a?f[1]:f[0])}}else this._needsClustering.push(a);d&&(e.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds));return this},removeLayers:function(c){var b,g,a,d=this._featureGroup,e=this._nonPointGroup;if(!this._map){b=0;for(g=c.length;b<g;b++)a=c[b],this._arraySplice(this._needsClustering,
a),e.removeLayer(a);return this}b=0;for(g=c.length;b<g;b++)a=c[b],a.__parent?(this._removeLayer(a,!0,!0),d.hasLayer(a)&&(d.removeLayer(a),a.setOpacity&&a.setOpacity(1))):e.removeLayer(a);this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds);d.eachLayer(function(a){a instanceof L.MarkerCluster&&a._updateIcon()});return this},clearLayers:function(){this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered);this._noanimationUnspiderfy&&
this._noanimationUnspiderfy();this._featureGroup.clearLayers();this._nonPointGroup.clearLayers();this.eachLayer(function(c){delete c.__parent});this._map&&this._generateInitialClusters();return this},getBounds:function(){var c=new L.LatLngBounds;if(this._topClusterLevel)c.extend(this._topClusterLevel._bounds);else for(var b=this._needsClustering.length-1;0<=b;b--)c.extend(this._needsClustering[b].getLatLng());c.extend(this._nonPointGroup.getBounds());return c},eachLayer:function(c,b){var g=this._needsClustering.slice(),
a;this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(g);for(a=g.length-1;0<=a;a--)c.call(b,g[a]);this._nonPointGroup.eachLayer(c,b)},getLayers:function(){var c=[];this.eachLayer(function(b){c.push(b)});return c},getLayer:function(c){var b=null;this.eachLayer(function(g){L.stamp(g)===c&&(b=g)});return b},hasLayer:function(c){if(!c)return!1;var b,g=this._needsClustering;for(b=g.length-1;0<=b;b--)if(g[b]===c)return!0;g=this._needsRemoving;for(b=g.length-1;0<=b;b--)if(g[b]===c)return!1;return!(!c.__parent||
c.__parent._group!==this)||this._nonPointGroup.hasLayer(c)},zoomToShowLayer:function(c,b){var g=function(){if((c._icon||c.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",g,this),this.off("animationend",g,this),c._icon)b();else if(c.__parent._icon){var a=function(){this.off("spiderfied",a,this);b()};this.on("spiderfied",a,this);c.__parent.spiderfy()}};c._icon&&this._map.getBounds().contains(c.getLatLng())?b():c.__parent._zoom<this._map.getZoom()?(this._map.on("moveend",g,this),this._map.panTo(c.getLatLng())):
(this._map.on("moveend",g,this),this.on("animationend",g,this),this._map.setView(c.getLatLng(),c.__parent._zoom+1),c.__parent.zoomToBounds())},onAdd:function(c){this._map=c;var b,g;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";this._featureGroup.onAdd(c);this._nonPointGroup.onAdd(c);this._gridClusters||this._generateInitialClusters();c=0;for(b=this._needsRemoving.length;c<b;c++)g=this._needsRemoving[c],this._removeLayer(g,!0);this._needsRemoving=[];c=0;for(b=this._needsClustering.length;c<
b;c++)g=this._needsClustering[c],g.getLatLng?g.__parent||this._addLayer(g,this._maxZoom):this._featureGroup.addLayer(g);this._needsClustering=[];this._map.on("zoomend",this._zoomEnd,this);this._map.on("moveend",this._moveEnd,this);this._spiderfierOnAdd&&this._spiderfierOnAdd();this._bindEvents();this._zoom=this._map.getZoom();this._currentShownBounds=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)},onRemove:function(c){c.off("zoomend",
this._zoomEnd,this);c.off("moveend",this._moveEnd,this);this._unbindEvents();this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","");this._spiderfierOnRemove&&this._spiderfierOnRemove();this._hideCoverage();this._featureGroup.onRemove(c);this._nonPointGroup.onRemove(c);this._featureGroup.clearLayers();this._map=null},getVisibleParent:function(c){for(;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(c,b){for(var g=c.length-1;0<=g;g--)if(c[g]===b)return c.splice(g,
1),!0},_removeLayer:function(c,b,g){var a=this._gridClusters,d=this._gridUnclustered,e=this._featureGroup,h=this._map;if(b)for(var f=this._maxZoom;0<=f&&d[f].removeObject(c,h.project(c.getLatLng(),f));f--);var f=c.__parent,k;for(this._arraySplice(f._markers,c);f;){f._childCount--;if(0>f._zoom)break;else b&&1>=f._childCount?(k=f._markers[0]===c?f._markers[1]:f._markers[0],a[f._zoom].removeObject(f,h.project(f._cLatLng,f._zoom)),d[f._zoom].addObject(k,h.project(k.getLatLng(),f._zoom)),this._arraySplice(f.__parent._childClusters,
f),f.__parent._markers.push(k),k.__parent=f.__parent,f._icon&&(e.removeLayer(f),g||e.addLayer(k))):(f._recalculateBounds(),g&&f._icon||f._updateIcon());f=f.__parent}delete c.__parent},_isOrIsParent:function(c,b){for(;b;){if(c===b)return!0;b=b.parentNode}return!1},_propagateEvent:function(c){if(c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;c.type="cluster"+c.type}this.fire(c.type,c)},_defaultIconCreateFunction:function(c){c=
c.getChildCount();var b=" marker-cluster-";return new L.DivIcon({html:"\x3cdiv\x3e\x3cspan\x3e"+c+"\x3c/span\x3e\x3c/div\x3e",className:"marker-cluster"+(10>c?b+"small":100>c?b+"medium":b+"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var c=this._map,b=this.options.showCoverageOnHover,g=this.options.zoomToBoundsOnClick;if(this.options.spiderfyOnMaxZoom||g)this.on("clusterclick",this._zoomOrSpiderfy,this);b&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",
this._hideCoverage,this),c.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(c){var b=this._map;b.getMaxZoom()===b.getZoom()?this.options.spiderfyOnMaxZoom&&c.layer.spiderfy():this.options.zoomToBoundsOnClick&&c.layer.zoomToBounds();c.originalEvent&&13===c.originalEvent.keyCode&&b._container.focus()},_showCoverage:function(c){var b=this._map;this._inZoomAnimation||(this._shownPolygon&&b.removeLayer(this._shownPolygon),2<c.layer.getChildCount()&&c.layer!==this._spiderfied&&(this._shownPolygon=
new L.Polygon(c.layer.getConvexHull(),this.options.polygonOptions),b.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var c=this.options.showCoverageOnHover,b=this.options.zoomToBoundsOnClick,g=this._map;(this.options.spiderfyOnMaxZoom||b)&&this.off("clusterclick",this._zoomOrSpiderfy,this);c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,
this),g.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var c=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,c);this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,c);this._currentShownBounds=c}},_generateInitialClusters:function(){var c=
this._map.getMaxZoom(),b=this.options.maxClusterRadius;this.options.disableClusteringAtZoom&&(c=this.options.disableClusteringAtZoom-1);this._maxZoom=c;this._gridClusters={};for(this._gridUnclustered={};0<=c;c--)this._gridClusters[c]=new L.DistanceGrid(b),this._gridUnclustered[c]=new L.DistanceGrid(b);this._topClusterLevel=new L.MarkerCluster(this,-1)},_addLayer:function(c,b){var g=this._gridClusters,a=this._gridUnclustered,d,e;this.options.singleMarkerMode&&(c.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},
getAllChildMarkers:function(){return[c]}}));for(;0<=b;b--){d=this._map.project(c.getLatLng(),b);var h=g[b].getNearObject(d);if(h){h._addChild(c);c.__parent=h;return}if(h=a[b].getNearObject(d)){(d=h.__parent)&&this._removeLayer(h,!1);e=new L.MarkerCluster(this,b,h,c);g[b].addObject(e,this._map.project(e._cLatLng,b));h.__parent=e;var f=c.__parent=e;for(e=b-1;e>d._zoom;e--)f=new L.MarkerCluster(this,e,f),g[e].addObject(f,this._map.project(h.getLatLng(),e));d._addChild(f);for(e=b;0<=e&&a[e].removeObject(h,
this._map.project(h.getLatLng(),e));e--);return}a[b].addObject(c,d)}this._topClusterLevel._addChild(c);c.__parent=this._topClusterLevel},_enqueue:function(c){this._queue.push(c);this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var c=0;c<this._queue.length;c++)this._queue[c].call(this);this._queue.length=0;clearTimeout(this._queueTimeout);this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue();this._zoom<this._map._zoom&&
this._currentShownBounds.contains(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this.getBounds();var c=this._map.getBounds(),
b=c._southWest,c=c._northEast,g=L.Browser.mobile?0:Math.abs(b.lat-c.lat),a=L.Browser.mobile?0:Math.abs(b.lng-c.lng);return new L.LatLngBounds(new L.LatLng(b.lat-g,b.lng-a,!0),new L.LatLng(c.lat+g,c.lng+a,!0))},_animationAddLayerNonAnimated:function(c,b){if(b===c)this._featureGroup.addLayer(c);else if(2===b._childCount){b._addToMap();var g=b.getAllChildMarkers();this._featureGroup.removeLayer(g[0]);this._featureGroup.removeLayer(g[1])}else b._updateIcon()}});L.MarkerClusterGroup.include(L.DomUtil.TRANSITION?
{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim";this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""));this._inZoomAnimation--;this.fire("animationend")},_animationZoomIn:function(c,b){var g=this._getExpandedVisibleBounds(),a=this._featureGroup,d;this._topClusterLevel._recursively(g,c,0,function(e){var h=e._latlng,f=e._markers;g.contains(h)||(h=null);e._isSingleParent()&&
c+1===b?(a.removeLayer(e),e._recursivelyAddChildrenToMap(null,b,g)):(e.setOpacity(0),e._recursivelyAddChildrenToMap(h,b,g));for(d=f.length-1;0<=d;d--)e=f[d],g.contains(e._latlng)||a.removeLayer(e)});this._forceLayout();this._topClusterLevel._recursivelyBecomeVisible(g,b);a.eachLayer(function(a){a instanceof L.MarkerCluster||!a._icon||a.setOpacity(1)});this._topClusterLevel._recursively(g,c,b,function(a){a._recursivelyRestoreChildPositions(b)});this._enqueue(function(){this._topClusterLevel._recursively(g,
c,0,function(b){a.removeLayer(b);b.setOpacity(1)});this._animationEnd()})},_animationZoomOut:function(c,b){this._animationZoomOutSingle(this._topClusterLevel,c-1,b);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds());this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(c,b,g){var a=this._getExpandedVisibleBounds();c._recursivelyAnimateChildrenInAndAddSelfToMap(a,
b+1,g);var d=this;this._forceLayout();c._recursivelyBecomeVisible(a,g);this._enqueue(function(){if(1===c._childCount){var e=c._markers[0];e.setLatLng(e.getLatLng());e.setOpacity(1)}else c._recursively(a,g,0,function(c){c._recursivelyRemoveChildrenFromMap(a,b+1)});d._animationEnd()})},_animationAddLayer:function(c,b){var g=this,a=this._featureGroup;a.addLayer(c);b!==c&&(2<b._childCount?(b._updateIcon(),this._forceLayout(),this._animationStart(),c._setPos(this._map.latLngToLayerPoint(b.getLatLng())),
c.setOpacity(0),this._enqueue(function(){a.removeLayer(c);c.setOpacity(1);g._animationEnd()})):(this._forceLayout(),g._animationStart(),g._animationZoomOutSingle(b,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){L.Util.falseFn(k.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(c,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds())},
_animationZoomOut:function(c,b){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,c);this._topClusterLevel._recursivelyAddChildrenToMap(null,b,this._getExpandedVisibleBounds())},_animationAddLayer:function(c,b){this._animationAddLayerNonAnimated(c,b)}});L.markerClusterGroup=function(c){return new L.MarkerClusterGroup(c)};L.MarkerCluster=L.Marker.extend({initialize:function(c,b,g,a){L.Marker.prototype.initialize.call(this,g?g._cLatLng||g.getLatLng():new L.LatLng(0,0),
{icon:this});this._group=c;this._zoom=b;this._markers=[];this._childClusters=[];this._childCount=0;this._iconNeedsUpdate=!0;this._bounds=new L.LatLngBounds;g&&this._addChild(g);a&&this._addChild(a)},getAllChildMarkers:function(c){c=c||[];for(var b=this._childClusters.length-1;0<=b;b--)this._childClusters[b].getAllChildMarkers(c);for(b=this._markers.length-1;0<=b;b--)c.push(this._markers[b]);return c},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var c=this._childClusters.slice(),
b=this._group._map,g=b.getBoundsZoom(this._bounds),a=this._zoom+1,b=b.getZoom(),d;0<c.length&&g>a;){a++;var e=[];for(d=0;d<c.length;d++)e=e.concat(c[d]._childClusters);c=e}g>a?this._group._map.setView(this._latlng,a):g<=b?this._group._map.setView(this._latlng,b+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var c=new L.LatLngBounds;c.extend(this._bounds);return c},_updateIcon:function(){this._iconNeedsUpdate=!0;this._icon&&this.setIcon(this)},createIcon:function(){this._iconNeedsUpdate&&
(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1);return this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(c,b){this._iconNeedsUpdate=!0;this._expandBounds(c);c instanceof L.MarkerCluster?(b||(this._childClusters.push(c),c.__parent=this),this._childCount+=c._childCount):(b||this._markers.push(c),this._childCount++);this.__parent&&this.__parent._addChild(c,!0)},_expandBounds:function(c){var b,g=c._wLatLng||
c._latlng;c instanceof L.MarkerCluster?(this._bounds.extend(c._bounds),b=c._childCount):(this._bounds.extend(g),b=1);this._cLatLng||(this._cLatLng=c._cLatLng||g);c=this._childCount+b;this._wLatLng?(this._wLatLng.lat=(g.lat*b+this._wLatLng.lat*this._childCount)/c,this._wLatLng.lng=(g.lng*b+this._wLatLng.lng*this._childCount)/c):this._latlng=this._wLatLng=new L.LatLng(g.lat,g.lng)},_addToMap:function(c){c&&(this._backupLatlng=this._latlng,this.setLatLng(c));this._group._featureGroup.addLayer(this)},
_recursivelyAnimateChildrenIn:function(c,b,g){this._recursively(c,0,g-1,function(a){a=a._markers;var c,e;for(c=a.length-1;0<=c;c--)e=a[c],e._icon&&(e._setPos(b),e.setOpacity(0))},function(a){a=a._childClusters;var c,e;for(c=a.length-1;0<=c;c--)e=a[c],e._icon&&(e._setPos(b),e.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(c,b,g){this._recursively(c,g,0,function(a){a._recursivelyAnimateChildrenIn(c,a._group._map.latLngToLayerPoint(a.getLatLng()).round(),b);a._isSingleParent()&&
b-1===g?(a.setOpacity(1),a._recursivelyRemoveChildrenFromMap(c,b)):a.setOpacity(0);a._addToMap()})},_recursivelyBecomeVisible:function(c,b){this._recursively(c,0,b,null,function(b){b.setOpacity(1)})},_recursivelyAddChildrenToMap:function(c,b,g){this._recursively(g,-1,b,function(a){if(b!==a._zoom)for(var d=a._markers.length-1;0<=d;d--){var e=a._markers[d];g.contains(e._latlng)&&(c&&(e._backupLatlng=e.getLatLng(),e.setLatLng(c),e.setOpacity&&e.setOpacity(0)),a._group._featureGroup.addLayer(e))}},function(a){a._addToMap(c)})},
_recursivelyRestoreChildPositions:function(c){for(var b=this._markers.length-1;0<=b;b--){var g=this._markers[b];g._backupLatlng&&(g.setLatLng(g._backupLatlng),delete g._backupLatlng)}if(c-1===this._zoom)for(c=this._childClusters.length-1;0<=c;c--)this._childClusters[c]._restorePosition();else for(b=this._childClusters.length-1;0<=b;b--)this._childClusters[b]._recursivelyRestoreChildPositions(c)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},
_recursivelyRemoveChildrenFromMap:function(c,b,g){var a,d;this._recursively(c,-1,b-1,function(b){for(d=b._markers.length-1;0<=d;d--)a=b._markers[d],g&&g.contains(a._latlng)||(b._group._featureGroup.removeLayer(a),a.setOpacity&&a.setOpacity(1))},function(b){for(d=b._childClusters.length-1;0<=d;d--)a=b._childClusters[d],g&&g.contains(a._latlng)||(b._group._featureGroup.removeLayer(a),a.setOpacity&&a.setOpacity(1))})},_recursively:function(c,b,g,a,d){var e=this._childClusters,h=this._zoom,f;if(b>h)for(h=
e.length-1;0<=h;h--)f=e[h],c.intersects(f._bounds)&&f._recursively(c,b,g,a,d);else if(a&&a(this),d&&this._zoom===g&&d(this),g>h)for(h=e.length-1;0<=h;h--)f=e[h],c.intersects(f._bounds)&&f._recursively(c,b,g,a,d)},_recalculateBounds:function(){var c=this._markers,b=this._childClusters,g;this._bounds=new L.LatLngBounds;delete this._wLatLng;for(g=c.length-1;0<=g;g--)this._expandBounds(c[g]);for(g=b.length-1;0<=g;g--)this._expandBounds(b[g])},_isSingleParent:function(){return 0<this._childClusters.length&&
this._childClusters[0]._childCount===this._childCount}});L.DistanceGrid=function(c){this._cellSize=c;this._sqCellSize=c*c;this._grid={};this._objectPoint={}};L.DistanceGrid.prototype={addObject:function(c,b){var g=this._getCoord(b.x),a=this._getCoord(b.y),d=this._grid,a=d[a]=d[a]||{},g=a[g]=a[g]||[],a=L.Util.stamp(c);this._objectPoint[a]=b;g.push(c)},updateObject:function(c,b){this.removeObject(c);this.addObject(c,b)},removeObject:function(c,b){var g=this._getCoord(b.x),a=this._getCoord(b.y),d=this._grid,
a=d[a]=d[a]||{},d=a[g]=a[g]||[],e,h;delete this._objectPoint[L.Util.stamp(c)];e=0;for(h=d.length;e<h;e++)if(d[e]===c)return d.splice(e,1),1===h&&delete a[g],!0},eachObject:function(c,b){var g,a,d,e,h,f,k,l=this._grid;for(g in l)for(a in h=l[g],h)for(f=h[a],d=0,e=f.length;d<e;d++)if(k=c.call(b,f[d]))d--,e--},getNearObject:function(c){var b=this._getCoord(c.x),g=this._getCoord(c.y),a,d,e,f,k,l,q,s,u=this._objectPoint,B=this._sqCellSize,F=null;for(a=g-1;a<=g+1;a++)if(f=this._grid[a])for(d=b-1;d<=b+1;d++)if(k=
f[d])for(e=0,l=k.length;e<l;e++)q=k[e],s=this._sqDist(u[L.Util.stamp(q)],c),s<B&&(B=s,F=q);return F},_getCoord:function(c){return Math.floor(c/this._cellSize)},_sqDist:function(c,b){var g=b.x-c.x,a=b.y-c.y;return g*g+a*a}};(function(){L.QuickHull={getDistant:function(c,b){return(b[0].lng-b[1].lng)*(c.lat-b[0].lat)+(b[1].lat-b[0].lat)*(c.lng-b[0].lng)},findMostDistantPointFromBaseLine:function(c,b){var g=0,a=null,d=[],e,f,k;for(e=b.length-1;0<=e;e--)f=b[e],k=this.getDistant(f,c),0<k&&(d.push(f),k>
g&&(g=k,a=f));return{maxPoint:a,newPoints:d}},buildConvexHull:function(c,b){var g=[],a=this.findMostDistantPointFromBaseLine(c,b);return a.maxPoint?(g=g.concat(this.buildConvexHull([c[0],a.maxPoint],a.newPoints)),g=g.concat(this.buildConvexHull([a.maxPoint,c[1]],a.newPoints))):[c[0]]},getConvexHull:function(c){var b=!1,g=!1,a=null,d=null,e;for(e=c.length-1;0<=e;e--){var f=c[e];if(!1===b||f.lat>b)a=f,b=f.lat;if(!1===g||f.lat<g)d=f,g=f.lat}return[].concat(this.buildConvexHull([d,a],c),this.buildConvexHull([a,
d],c))}}})();L.MarkerCluster.include({getConvexHull:function(){var c=this.getAllChildMarkers(),b=[],g,a;for(a=c.length-1;0<=a;a--)g=c[a].getLatLng(),b.push(g);return L.QuickHull.getConvexHull(b)}});L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var c=this.getAllChildMarkers(),
b=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy();this._group._spiderfied=this;c.length>=this._circleSpiralSwitchover?b=this._generatePointsSpiral(c.length,b):(b.y+=10,b=this._generatePointsCircle(c.length,b));this._animationSpiderfy(c,b)}},unspiderfy:function(c){this._group._inZoomAnimation||(this._animationUnspiderfy(c),this._group._spiderfied=null)},_generatePointsCircle:function(c,b){var g=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+
c)/this._2PI,a=this._2PI/c,d=[],e,f;d.length=c;for(e=c-1;0<=e;e--)f=this._circleStartAngle+e*a,d[e]=(new L.Point(b.x+g*Math.cos(f),b.y+g*Math.sin(f)))._round();return d},_generatePointsSpiral:function(c,b){var g=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,a=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,d=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,e=0,f=[],k;f.length=c;for(k=c-1;0<=k;k--)e+=a/g+5E-4*k,f[k]=(new L.Point(b.x+
g*Math.cos(e),b.y+g*Math.sin(e)))._round(),g+=this._2PI*d/e;return f},_noanimationUnspiderfy:function(){var c=this._group,b=c._map,g=c._featureGroup,a=this.getAllChildMarkers(),d,e;this.setOpacity(1);for(e=a.length-1;0<=e;e--)d=a[e],g.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(b.removeLayer(d._spiderLeg),delete d._spiderLeg);c._spiderfied=null}});L.MarkerCluster.include(L.DomUtil.TRANSITION?
{SVG_ANIMATION:-1<k.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate"),_animationSpiderfy:function(c,b){var g=this._group,a=g._map,d=g._featureGroup,e=a.latLngToLayerPoint(this._latlng),f,l,p;for(f=c.length-1;0<=f;f--)l=c[f],l.setOpacity?(l.setZIndexOffset(1E6),l.setOpacity(0),d.addLayer(l),l._setPos(e)):d.addLayer(l);g._forceLayout();g._animationStart();d=L.Path.SVG?0:0.3;e=L.Path.SVG_NS;for(f=c.length-1;0<=f;f--)if(p=a.layerPointToLatLng(b[f]),l=c[f],l._preSpiderfyLatlng=
l._latlng,l.setLatLng(p),l.setOpacity&&l.setOpacity(1),p=new L.Polyline([this._latlng,p],{weight:1.5,color:"#222",opacity:d}),a.addLayer(p),l._spiderLeg=p,L.Path.SVG&&this.SVG_ANIMATION){l=p._path.getTotalLength();p._path.setAttribute("stroke-dasharray",l+","+l);var q=k.createElementNS(e,"animate");q.setAttribute("attributeName","stroke-dashoffset");q.setAttribute("begin","indefinite");q.setAttribute("from",l);q.setAttribute("to",0);q.setAttribute("dur",0.25);p._path.appendChild(q);q.beginElement();
q=k.createElementNS(e,"animate");q.setAttribute("attributeName","stroke-opacity");q.setAttribute("attributeName","stroke-opacity");q.setAttribute("begin","indefinite");q.setAttribute("from",0);q.setAttribute("to",0.5);q.setAttribute("dur",0.25);p._path.appendChild(q);q.beginElement()}this.setOpacity(0.3);if(L.Path.SVG)for(this._group._forceLayout(),f=c.length-1;0<=f;f--)l=c[f]._spiderLeg,l.options.opacity=0.5,l._path.setAttribute("stroke-opacity",0.5);setTimeout(function(){g._animationEnd();g.fire("spiderfied")},
200)},_animationUnspiderfy:function(c){var b=this._group,g=b._map,a=b._featureGroup;c=c?g._latLngToNewLayerPoint(this._latlng,c.zoom,c.center):g.latLngToLayerPoint(this._latlng);var d=this.getAllChildMarkers(),e=L.Path.SVG&&this.SVG_ANIMATION,f,k,l;b._animationStart();this.setOpacity(1);for(k=d.length-1;0<=k;k--)f=d[k],f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng,f.setOpacity?(f._setPos(c),f.setOpacity(0)):a.removeLayer(f),e&&(l=f._spiderLeg._path.childNodes[0],
l.setAttribute("to",l.getAttribute("from")),l.setAttribute("from",0),l.beginElement(),l=f._spiderLeg._path.childNodes[1],l.setAttribute("from",0.5),l.setAttribute("to",0),l.setAttribute("stroke-opacity",0),l.beginElement(),f._spiderLeg._path.setAttribute("stroke-opacity",0)));setTimeout(function(){var c=0;for(k=d.length-1;0<=k;k--)f=d[k],f._spiderLeg&&c++;for(k=d.length-1;0<=k;k--)f=d[k],f._spiderLeg&&(f.setOpacity&&(f.setOpacity(1),f.setZIndexOffset(0)),1<c&&a.removeLayer(f),g.removeLayer(f._spiderLeg),
delete f._spiderLeg);b._animationEnd()},200)}}:{_animationSpiderfy:function(c,b){var g=this._group,a=g._map,d=g._featureGroup,e,f,k;for(e=c.length-1;0<=e;e--)k=a.layerPointToLatLng(b[e]),f=c[e],f._preSpiderfyLatlng=f._latlng,f.setLatLng(k),f.setZIndexOffset&&f.setZIndexOffset(1E6),d.addLayer(f),k=new L.Polyline([this._latlng,k],{weight:1.5,color:"#222"}),a.addLayer(k),f._spiderLeg=k;this.setOpacity(0.3);g.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}});L.MarkerClusterGroup.include({_spiderfied:null,
_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this);if(this._map.options.zoomAnimation)this._map.on("zoomstart",this._unspiderfyZoomStart,this);this._map.on("zoomend",this._noanimationUnspiderfy,this);L.Path.SVG&&!L.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this);this._map.off("zoomstart",this._unspiderfyZoomStart,this);this._map.off("zoomanim",this._unspiderfyZoomAnim,this);this._unspiderfy()},
_unspiderfyZoomStart:function(){if(this._map)this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(c){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(c))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(c){this._spiderfied&&this._spiderfied.unspiderfy(c)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(c){c._spiderLeg&&
(this._featureGroup.removeLayer(c),c.setOpacity(1),c.setZIndexOffset(0),this._map.removeLayer(c._spiderLeg),delete c._spiderLeg)}})})(window,document);L.GeoSearch={};L.GeoSearch.Provider={};L.GeoSearch.Result=function(f,k,l){this.X=f;this.Y=k;this.Label=l};
L.Control.GeoSearch=L.Control.extend({options:{position:"topcenter",showMarker:!0},_config:{country:"",searchLabel:"search for address ...",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3E3,zoomLevel:18},initialize:function(f){L.Util.extend(this.options,f);L.Util.extend(this._config,f)},onAdd:function(f){for(var k=f._controlContainer,l=k.childNodes,c=!1,b=0,g=l.length;b<g;b++){var a=l[b].className;if(/leaflet-top/.test(a)&&/leaflet-center/.test(a)){c=!0;break}}c||(l=document.createElement("div"),
l.className+="leaflet-top leaflet-center",k.appendChild(l),f._controlCorners.topcenter=l);this._map=f;this._container=L.DomUtil.create("div","leaflet-control-geosearch");f=document.createElement("input");f.id="leaflet-control-geosearch-qry";f.type="text";f.placeholder=this._config.searchLabel;this._searchbox=f;f=document.createElement("div");f.id="leaflet-control-geosearch-msg";f.className="leaflet-control-geosearch-msg";this._msgbox=f;f=document.createElement("ul");f.id="leaflet-control-geosearch-results";
this._resultslist=f;this._msgbox.appendChild(this._resultslist);this._container.appendChild(this._searchbox);this._container.appendChild(this._msgbox);L.DomEvent.addListener(this._container,"click",L.DomEvent.stop).addListener(this._searchbox,"keypress",this._onKeyUp,this);L.DomEvent.disableClickPropagation(this._container);return this._container},geosearch:function(f){try{var k=this._config.provider;if("function"==typeof k.GetLocations)k.GetLocations(f,function(b){this._processResults(b)}.bind(this));
else{var l=k.GetServiceUrl(f);this.sendRequest(k,l)}}catch(c){this._printError(c)}},sendRequest:function(f,k){function l(a){a+="\x26callback\x3dparseLocation";var b=document.createElement("script");b.id="getJsonP";b.src=a;b.async=!0;document.body.appendChild(b)}var c=this;window.parseLocation=function(a){a=f.ParseJSON(a);c._processResults(a);document.body.removeChild(document.getElementById("getJsonP"));delete window.parseLocation};if(XMLHttpRequest){var b=new XMLHttpRequest;if("withCredentials"in
b)b=new XMLHttpRequest,b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status){var a=JSON.parse(b.responseText),a=f.ParseJSON(a);c._processResults(a)}else 0==b.status||400==b.status?l(k):c._printError(b.responseText)},b.open("GET",k,!0),b.send();else if(XDomainRequest){var g=new XDomainRequest;g.onerror=function(a){c._printError(a)};g.onload=function(){var a=JSON.parse(g.responseText),a=f.ParseJSON(a);c._processResults(a)};g.open("GET",k);g.send()}else l(k)}},_processResults:function(f){0<
f.length?(this._map.fireEvent("geosearch_foundlocations",{Locations:f}),this._showLocation(f[0])):this._printError(this._config.notFoundMessage)},_showLocation:function(f){!0==this.options.showMarker&&("undefined"===typeof this._positionMarker?this._positionMarker=L.marker([f.Y,f.X]).addTo(this._map):this._positionMarker.setLatLng([f.Y,f.X]));this._map.setView([f.Y,f.X],this._config.zoomLevel,!1);this._map.fireEvent("geosearch_showlocation",{Location:f})},_printError:function(f){var k=this._resultslist;
k.innerHTML="\x3cli\x3e"+f+"\x3c/li\x3e";k.style.display="block";setTimeout(function(){k.style.display="none"},3E3)},_onKeyUp:function(f){var k=document.getElementById("leaflet-control-geosearch-qry");27===f.keyCode?(k.value="",this._map._container.focus()):13===f.keyCode&&this.geosearch(k.value)}});
L.GeoSearch.Provider.OpenStreetMap=L.Class.extend({options:{},initialize:function(f){L.Util.setOptions(this,f)},GetServiceUrl:function(f){f=L.Util.extend({q:f,format:"json"},this.options);return"http://nominatim.openstreetmap.org/search"+L.Util.getParamString(f)},ParseJSON:function(f){if(0==f.length)return[];for(var k=[],l=0;l<f.length;l++)k.push(new L.GeoSearch.Result(f[l].lon,f[l].lat,f[l].display_name));return k}});
+function(f){function k(a){f(c).remove();f(b).each(function(){var b=l(f(this)),c={relatedTarget:this};b.hasClass("open")&&(b.trigger(a=f.Event("hide.bs.dropdown",c)),a.isDefaultPrevented()||b.removeClass("open").trigger("hidden.bs.dropdown",c))})}function l(a){var b=a.attr("data-target");b||(b=(b=a.attr("href"))&&/#[A-Za-z]/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));return(b=b&&f(b))&&b.length?b:a.parent()}var c=".dropdown-backdrop",b="[data-toggle\x3ddropdown]",g=function(a){f(a).on("click.bs.dropdown",
this.toggle)};g.prototype.toggle=function(a){var b=f(this);if(!b.is(".disabled, :disabled")){var c=l(b);a=c.hasClass("open");k();if(!a){if("ontouchstart"in document.documentElement&&!c.closest(".navbar-nav").length)f('\x3cdiv class\x3d"dropdown-backdrop"/\x3e').insertAfter(f(this)).on("click",k);var g={relatedTarget:this};c.trigger(a=f.Event("show.bs.dropdown",g));if(a.isDefaultPrevented())return;c.toggleClass("open").trigger("shown.bs.dropdown",g);b.focus()}return!1}};g.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var c=
f(this);a.preventDefault();a.stopPropagation();if(!c.is(".disabled, :disabled")){var g=l(c),k=g.hasClass("open");if(!k||k&&27==a.keyCode)return 27==a.which&&g.find(b).focus(),c.click();c=g.find("[role\x3dmenu] li:not(.divider):visible a, [role\x3dlistbox] li:not(.divider):visible a");c.length&&(g=c.index(c.filter(":focus")),38==a.keyCode&&0<g&&g--,40==a.keyCode&&g<c.length-1&&g++,~g||(g=0),c.eq(g).focus())}}};var a=f.fn.dropdown;f.fn.dropdown=function(a){return this.each(function(){var b=f(this),
c=b.data("bs.dropdown");c||b.data("bs.dropdown",c=new g(this));"string"==typeof a&&c[a].call(b)})};f.fn.dropdown.Constructor=g;f.fn.dropdown.noConflict=function(){f.fn.dropdown=a;return this};f(document).on("click.bs.dropdown.data-api",k).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",b,g.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role\x3dmenu], [role\x3dlistbox]",g.prototype.keydown)}(jQuery);
+function(f){var k=function(c,b){this.options=b;this.$element=f(c);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,f.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};k.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};k.prototype.toggle=function(c){return this[this.isShown?"hide":"show"](c)};k.prototype.show=function(c){var b=this,g=f.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(g);this.isShown||g.isDefaultPrevented()||
(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss\x3d"modal"]',f.proxy(this.hide,this)),this.backdrop(function(){var a=f.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show().scrollTop(0);a&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();var d=f.Event("shown.bs.modal",{relatedTarget:c});a?b.$element.find(".modal-dialog").one(f.support.transition.end,
function(){b.$element.focus().trigger(d)}).emulateTransitionEnd(300):b.$element.focus().trigger(d)}))};k.prototype.hide=function(c){c&&c.preventDefault();c=f.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),f(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),f.support.transition&&this.$element.hasClass("fade")?this.$element.one(f.support.transition.end,f.proxy(this.hideModal,
this)).emulateTransitionEnd(300):this.hideModal())};k.prototype.enforceFocus=function(){f(document).off("focusin.bs.modal").on("focusin.bs.modal",f.proxy(function(c){this.$element[0]===c.target||this.$element.has(c.target).length||this.$element.focus()},this))};k.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.bs.modal",f.proxy(function(c){27==c.which&&this.hide()},this));else this.isShown||this.$element.off("keyup.dismiss.bs.modal")};k.prototype.hideModal=
function(){var c=this;this.$element.hide();this.backdrop(function(){c.removeBackdrop();c.$element.trigger("hidden.bs.modal")})};k.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};k.prototype.backdrop=function(c){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var g=f.support.transition&&b;this.$backdrop=f('\x3cdiv class\x3d"modal-backdrop '+b+'" /\x3e').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",
f.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));g&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");c&&(g?this.$backdrop.one(f.support.transition.end,c).emulateTransitionEnd(150):c())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(f.support.transition.end,c).emulateTransitionEnd(150):c()):
c&&c()};var l=f.fn.modal;f.fn.modal=function(c,b){return this.each(function(){var g=f(this),a=g.data("bs.modal"),d=f.extend({},k.DEFAULTS,g.data(),"object"==typeof c&&c);a||g.data("bs.modal",a=new k(this,d));if("string"==typeof c)a[c](b);else d.show&&a.show(b)})};f.fn.modal.Constructor=k;f.fn.modal.noConflict=function(){f.fn.modal=l;return this};f(document).on("click.bs.modal.data-api",'[data-toggle\x3d"modal"]',function(c){var b=f(this),g=b.attr("href"),a=f(b.attr("data-target")||g&&g.replace(/.*(?=#[^\s]+$)/,
"")),g=a.data("bs.modal")?"toggle":f.extend({remote:!/#/.test(g)&&g},a.data(),b.data());b.is("a")&&c.preventDefault();a.modal(g,this).one("hide",function(){b.is(":visible")&&b.focus()})});f(document).on("show.bs.modal",".modal",function(){f(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){f(document.body).removeClass("modal-open")})}(jQuery);
+function(f){var k=function(c,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",c,b)};k.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'\x3cdiv class\x3d"tooltip"\x3e\x3cdiv class\x3d"tooltip-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"tooltip-inner"\x3e\x3c/div\x3e\x3c/div\x3e',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};k.prototype.init=function(c,b,g){this.enabled=!0;this.type=c;this.$element=f(b);this.options=this.getOptions(g);
c=this.options.trigger.split(" ");for(b=c.length;b--;)if(g=c[b],"click"==g)this.$element.on("click."+this.type,this.options.selector,f.proxy(this.toggle,this));else if("manual"!=g){var a="hover"==g?"mouseleave":"focusout";this.$element.on(("hover"==g?"mouseenter":"focusin")+"."+this.type,this.options.selector,f.proxy(this.enter,this));this.$element.on(a+"."+this.type,this.options.selector,f.proxy(this.leave,this))}this.options.selector?this._options=f.extend({},this.options,{trigger:"manual",selector:""}):
this.fixTitle()};k.prototype.getDefaults=function(){return k.DEFAULTS};k.prototype.getOptions=function(c){c=f.extend({},this.getDefaults(),this.$element.data(),c);c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay});return c};k.prototype.getDelegateOptions=function(){var c={},b=this.getDefaults();this._options&&f.each(this._options,function(g,a){b[g]!=a&&(c[g]=a)});return c};k.prototype.enter=function(c){var b=c instanceof this.constructor?c:f(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+
this.type);clearTimeout(b.timeout);b.hoverState="in";if(!b.options.delay||!b.options.delay.show)return b.show();b.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)};k.prototype.leave=function(c){var b=c instanceof this.constructor?c:f(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(b.timeout);b.hoverState="out";if(!b.options.delay||!b.options.delay.hide)return b.hide();b.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},
b.options.delay.hide)};k.prototype.show=function(){var c=f.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled&&(this.$element.trigger(c),!c.isDefaultPrevented())){var b=this,c=this.tip();this.setContent();this.options.animation&&c.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,d=a.test(g);d&&(g=g.replace(a,"")||"top");c.detach().css({top:0,left:0,display:"block"}).addClass(g);
this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var a=this.getPosition(),e=c[0].offsetWidth,h=c[0].offsetHeight;if(d){var k=this.$element.parent(),d=g,l=document.documentElement.scrollTop||document.body.scrollTop,q="body"==this.options.container?window.innerWidth:k.outerWidth(),s="body"==this.options.container?window.innerHeight:k.outerHeight(),k="body"==this.options.container?0:k.offset().left,g="bottom"==g&&a.top+a.height+h-l>s?"top":"top"==g&&0>a.top-l-h?
"bottom":"right"==g&&a.right+e>q?"left":"left"==g&&a.left-e<k?"right":g;c.removeClass(d).addClass(g)}a=this.getCalculatedOffset(g,a,e,h);this.applyPlacement(a,g);this.hoverState=null;g=function(){b.$element.trigger("shown.bs."+b.type)};f.support.transition&&this.$tip.hasClass("fade")?c.one(f.support.transition.end,g).emulateTransitionEnd(150):g()}};k.prototype.applyPlacement=function(c,b){var g,a=this.tip(),d=a[0].offsetWidth,e=a[0].offsetHeight,h=parseInt(a.css("margin-top"),10),k=parseInt(a.css("margin-left"),
10);isNaN(h)&&(h=0);isNaN(k)&&(k=0);c.top+=h;c.left+=k;f.offset.setOffset(a[0],f.extend({using:function(b){a.css({top:Math.round(b.top),left:Math.round(b.left)})}},c),0);a.addClass("in");h=a[0].offsetWidth;k=a[0].offsetHeight;"top"==b&&k!=e&&(g=!0,c.top=c.top+e-k);/bottom|top/.test(b)?(e=0,0>c.left&&(e=-2*c.left,c.left=0,a.offset(c),h=a[0].offsetWidth,k=a[0].offsetHeight),this.replaceArrow(e-d+h,h,"left")):this.replaceArrow(k-e,k,"top");g&&a.offset(c)};k.prototype.replaceArrow=function(c,b,g){this.arrow().css(g,
c?50*(1-c/b)+"%":"")};k.prototype.setContent=function(){var c=this.tip(),b=this.getTitle();c.find(".tooltip-inner")[this.options.html?"html":"text"](b);c.removeClass("fade in top bottom left right")};k.prototype.hide=function(){function c(){"in"!=b.hoverState&&g.detach();b.$element.trigger("hidden.bs."+b.type)}var b=this,g=this.tip(),a=f.Event("hide.bs."+this.type);this.$element.trigger(a);if(!a.isDefaultPrevented())return g.removeClass("in"),f.support.transition&&this.$tip.hasClass("fade")?g.one(f.support.transition.end,
c).emulateTransitionEnd(150):c(),this.hoverState=null,this};k.prototype.fixTitle=function(){var c=this.$element;(c.attr("title")||"string"!=typeof c.attr("data-original-title"))&&c.attr("data-original-title",c.attr("title")||"").attr("title","")};k.prototype.hasContent=function(){return this.getTitle()};k.prototype.getPosition=function(){var c=this.$element[0];return f.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():{width:c.offsetWidth,height:c.offsetHeight},this.$element.offset())};
k.prototype.getCalculatedOffset=function(c,b,g,a){return"bottom"==c?{top:b.top+b.height,left:b.left+b.width/2-g/2}:"top"==c?{top:b.top-a,left:b.left+b.width/2-g/2}:"left"==c?{top:b.top+b.height/2-a/2,left:b.left-g}:{top:b.top+b.height/2-a/2,left:b.left+b.width}};k.prototype.getTitle=function(){var c=this.$element,b=this.options;return c.attr("data-original-title")||("function"==typeof b.title?b.title.call(c[0]):b.title)};k.prototype.tip=function(){return this.$tip=this.$tip||f(this.options.template)};
k.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};k.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)};k.prototype.enable=function(){this.enabled=!0};k.prototype.disable=function(){this.enabled=!1};k.prototype.toggleEnabled=function(){this.enabled=!this.enabled};k.prototype.toggle=function(c){c=c?f(c.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?
c.leave(c):c.enter(c)};k.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var l=f.fn.tooltip;f.fn.tooltip=function(c){return this.each(function(){var b=f(this),g=b.data("bs.tooltip"),a="object"==typeof c&&c;if(g||"destroy"!=c)if(g||b.data("bs.tooltip",g=new k(this,a)),"string"==typeof c)g[c]()})};f.fn.tooltip.Constructor=k;f.fn.tooltip.noConflict=function(){f.fn.tooltip=l;return this}}(jQuery);
+function(f){var k=function(c,b){this.init("popover",c,b)};if(!f.fn.tooltip)throw Error("Popover requires tooltip.js");k.DEFAULTS=f.extend({},f.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'\x3cdiv class\x3d"popover"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3ch3 class\x3d"popover-title"\x3e\x3c/h3\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e'});k.prototype=f.extend({},f.fn.tooltip.Constructor.prototype);k.prototype.constructor=k;k.prototype.getDefaults=
function(){return k.DEFAULTS};k.prototype.setContent=function(){var c=this.tip(),b=this.getTitle(),g=this.getContent();c.find(".popover-title")[this.options.html?"html":"text"](b);c.find(".popover-content")[this.options.html?"string"==typeof g?"html":"append":"text"](g);c.removeClass("fade top bottom left right in");c.find(".popover-title").html()||c.find(".popover-title").hide()};k.prototype.hasContent=function(){return this.getTitle()||this.getContent()};k.prototype.getContent=function(){var c=
this.$element,b=this.options;return c.attr("data-content")||("function"==typeof b.content?b.content.call(c[0]):b.content)};k.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};k.prototype.tip=function(){this.$tip||(this.$tip=f(this.options.template));return this.$tip};var l=f.fn.popover;f.fn.popover=function(c){return this.each(function(){var b=f(this),g=b.data("bs.popover"),a="object"==typeof c&&c;if(g||"destroy"!=c)if(g||b.data("bs.popover",g=new k(this,a)),"string"==
typeof c)g[c]()})};f.fn.popover.Constructor=k;f.fn.popover.noConflict=function(){f.fn.popover=l;return this}}(jQuery);
+function(f){var k=function(c){this.element=f(c)};k.prototype.show=function(){var c=this.element,b=c.closest("ul:not(.dropdown-menu)"),g=c.data("target");g||(g=(g=c.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));if(!c.parent("li").hasClass("active")){var a=b.find(".active:last a")[0],d=f.Event("show.bs.tab",{relatedTarget:a});c.trigger(d);d.isDefaultPrevented()||(g=f(g),this.activate(c.parent("li"),b),this.activate(g,g.parent(),function(){c.trigger({type:"shown.bs.tab",relatedTarget:a})}))}};k.prototype.activate=
function(c,b,g){function a(){d.removeClass("active").find("\x3e .dropdown-menu \x3e .active").removeClass("active");c.addClass("active");e?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade");c.parent(".dropdown-menu")&&c.closest("li.dropdown").addClass("active");g&&g()}var d=b.find("\x3e .active"),e=g&&f.support.transition&&d.hasClass("fade");e?d.one(f.support.transition.end,a).emulateTransitionEnd(150):a();d.removeClass("in")};var l=f.fn.tab;f.fn.tab=function(c){return this.each(function(){var b=
f(this),g=b.data("bs.tab");g||b.data("bs.tab",g=new k(this));if("string"==typeof c)g[c]()})};f.fn.tab.Constructor=k;f.fn.tab.noConflict=function(){f.fn.tab=l;return this};f(document).on("click.bs.tab.data-api",'[data-toggle\x3d"tab"], [data-toggle\x3d"pill"]',function(c){c.preventDefault();f(this).tab("show")})}(jQuery);
+function(f){var k=function(c,b){this.$element=f(c);this.options=f.extend({},k.DEFAULTS,b);this.transitioning=null;this.options.parent&&(this.$parent=f(this.options.parent));this.options.toggle&&this.toggle()};k.DEFAULTS={toggle:!0};k.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};k.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=f.Event("show.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){if((c=this.$parent&&
this.$parent.find("\x3e .panel \x3e .in"))&&c.length){var b=c.data("bs.collapse");if(b&&b.transitioning)return;c.collapse("hide");b||c.data("bs.collapse",null)}var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0);this.transitioning=1;c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!f.support.transition)return c.call(this);b=f.camelCase(["scroll",g].join("-"));
this.$element.one(f.support.transition.end,f.proxy(c,this)).emulateTransitionEnd(350)[g](this.$element[0][b])}}};k.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=f.Event("hide.bs.collapse");this.$element.trigger(c);if(!c.isDefaultPrevented()){c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var b=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};
if(!f.support.transition)return b.call(this);this.$element[c](0).one(f.support.transition.end,f.proxy(b,this)).emulateTransitionEnd(350)}}};k.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var l=f.fn.collapse;f.fn.collapse=function(c){return this.each(function(){var b=f(this),g=b.data("bs.collapse"),a=f.extend({},k.DEFAULTS,b.data(),"object"==typeof c&&c);!g&&a.toggle&&"show"==c&&(c=!c);g||b.data("bs.collapse",g=new k(this,a));if("string"==typeof c)g[c]()})};f.fn.collapse.Constructor=
k;f.fn.collapse.noConflict=function(){f.fn.collapse=l;return this};f(document).on("click.bs.collapse.data-api","[data-toggle\x3dcollapse]",function(c){var b=f(this),g;c=b.attr("data-target")||c.preventDefault()||(g=b.attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"");g=f(c);var a=(c=g.data("bs.collapse"))?"toggle":b.data(),d=b.attr("data-parent"),e=d&&f(d);c&&c.transitioning||(e&&e.find('[data-toggle\x3dcollapse][data-parent\x3d"'+d+'"]').not(b).addClass("collapsed"),b[g.hasClass("in")?"addClass":"removeClass"]("collapsed"));
g.collapse(a)})}(jQuery);
+function(f){f.fn.emulateTransitionEnd=function(k){var l=!1,c=this;f(this).one(f.support.transition.end,function(){l=!0});setTimeout(function(){l||f(c).trigger(f.support.transition.end)},k);return this};f(function(){var k=f.support,l;a:{l=document.createElement("bootstrap");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},b;for(b in c)if(void 0!==l.style[b]){l={end:c[b]};break a}l=!1}k.transition=l})}(jQuery);
var Mustache=function(){var f=function(){};f.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0,"TRANSLATION-HINT":!0},context:{},render:function(f,l,c,b){b||(this.context=l,this.buffer=[]);if(this.includes("",f)){this.pragmas["TRANSLATION-HINT"]&&(l._mode=this.pragmas["TRANSLATION-HINT"].mode);f=this.render_pragmas(f);f=this.render_i18n(f,l,c);var g=this.render_section(f,l,c);if(g===f){if(b)return this.render_tags(g,l,c,!0);this.render_tags(g,l,c,!1)}else{if(b)return g;
f=g.split("\n");for(l=0;l<f.length;l++)this.send(f[l])}}else{if(b)return f;this.send(f)}},send:function(f){""!=f&&this.buffer.push(f)},render_pragmas:function(f){if(!this.includes("%",f))return f;var l=this;return f.replace(RegExp(this.otag+"%([\\w-]+) ?([\\w]+\x3d[\\w]+)?"+this.ctag),function(c,b,g){if(!l.pragmas_implemented[b])throw{message:"This implementation of mustache doesn't understand the '"+b+"' pragma"};l.pragmas[b]={};g&&(c=g.split("\x3d"),l.pragmas[b][c[0]]=c[1]);return""})},render_partial:function(f,
l,c){f=this.trim(f);if(!c||void 0===c[f])throw{message:"unknown_partial '"+f+"'"};return"object"!=typeof l[f]?this.render(c[f],l,c,!0):this.render(c[f],l[f],c,!0)},render_i18n:function(f,l,c){if(-1==f.indexOf(this.otag+"_i"))return f;var b=this;return f.replace(RegExp(this.otag+"\\_i"+this.ctag+"\\s*([\\s\\S]+?)"+this.otag+"\\/i"+this.ctag,"mg"),function(g,a){var d=void 0;b.pragmas&&b.pragmas["TRANSLATION-HINT"]&&b.pragmas["TRANSLATION-HINT"].mode?d={_mode:b.pragmas["TRANSLATION-HINT"].mode}:l._mode&&
(d={_mode:l._mode});return b.render(_(a,d),l,c,!0)})},render_section:function(f,l,c){if(!this.includes("#",f)&&!this.includes("^",f))return f;var b=this;return f.replace(RegExp("^([\\s\\S]*?)"+this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]*?)"+this.otag+"\\/\\s*\\3\\s*"+this.ctag+"\\s*([\\s\\S]*)$","g"),function(g,a,d,e,f,k){g=a?b.render_tags(a,l,c,!0):"";k=k?b.render(k,l,c,!0):"";e=b.find(e,l);if("^"==d)return!e||b.is_array(e)&&0===e.length?g+b.render(f,l,c,!0)+k:g+""+k;if("#"==d)return b.is_array(e)?
g+b.map(e,function(a){return b.render(f,b.create_context(a),c,!0)}).join("")+k:b.is_object(e)?g+b.render(f,b.create_context(e),c,!0)+k:"function"===typeof e?g+e.call(l,f,function(a){return b.render(a,l,c,!0)})+k:e?g+b.render(f,l,c,!0)+k:g+""+k})},render_tags:function(f,l,c,b){var g=this,a=function(){return RegExp(g.otag+"(\x3d|!|\x3e|\\{|%)?([^\\/#\\^]+?)\\1?"+g.ctag+"+","g")},d=a(),e=function(b,e,f){switch(e){case "!":return"";case "\x3d":return g.set_delimiters(f),d=a(),"";case "\x3e":return g.render_partial(f,
l,c);case "{":return g.find(f,l);default:return g.escape(g.find(f,l))}};f=f.split("\n");for(var h=0;h<f.length;h++)f[h]=f[h].replace(d,e,this),b||this.send(f[h]);if(b)return f.join("\n")},set_delimiters:function(f){f=f.split(" ");this.otag=this.escape_regex(f[0]);this.ctag=this.escape_regex(f[1])},escape_regex:function(f){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"));return f.replace(arguments.callee.sRE,"\\$1")},find:function(f,
l){f=this.trim(f);var c;if(!1===l[f]||0===l[f]||l[f])c=l[f];else if(!1===this.context[f]||0===this.context[f]||this.context[f])c=this.context[f];return"function"===typeof c?c.apply(l):void 0!==c?c:""},includes:function(f,l){return-1!=l.indexOf(this.otag+f)},escape:function(f){f=String(null===f?"":f);return f.replace(/&(?!\w+;)|["'<>\\]/g,function(f){switch(f){case "\x26":return"\x26amp;";case "\\":return"\\\\";case '"':return"\x26quot;";case "'":return"\x26#39;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";
default:return f}})},create_context:function(f){if(this.is_object(f))return f;var l=".";this.pragmas["IMPLICIT-ITERATOR"]&&(l=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};c[l]=f;return c},is_object:function(f){return f&&"object"==typeof f},is_array:function(f){return"[object Array]"===Object.prototype.toString.call(f)},trim:function(f){return f.replace(/^\s*|\s*$/g,"")},map:function(f,l){if("function"==typeof f.map)return f.map(l);for(var c=[],b=f.length,g=0;g<b;g++)c.push(l(f[g]));return c}};
return{name:"mustache.js",version:"0.3.1-dev-twitter",to_html:function(k,l,c,b){var g=new f;b&&(g.send=b);g.render(k,l||{},c);if(!b)return g.buffer.join("\n")}}}();
!function(f){function k(a,b,c){b=b.mime||R;f.location.href=a.toDataURL(b).replace(b,V);"function"==typeof c&&c()}function l(a){return"string"==typeof a&&(a={value:a}),a||{}}function c(a){function b(c){a[c]=function(){throw Error(c+" requires HTML5 canvas element support");}}var c,d=["canvas","image","save","saveSync","toDataURL"];for(c=0;c<d.length;c++)b(d[c])}function b(a,b,c){function d(){I.write(e,f,0,f.length,0,function(a){I.close(e);c(a)})}if("string"!=typeof b.path)return c(new TypeError("Invalid path type: "+
typeof b.path));var e,f;a.toBuffer(function(a,b){return a?c(a):(f=b,void(e&&d()))});I.open(b.path,"w",Y,function(a,b){return a?c(a):(e=b,void(f&&d()))})}function g(a,b){var c;a>b&&(c=a,a=b,b=c);c=b*b;c+=b;c>>=1;c+=a;ca[c]=1}function a(a,b){var c;A[a+t*b]=1;for(c=-2;2>c;c++)A[a+c+t*(b-2)]=1,A[a-2+t*(b+c+1)]=1,A[a+2+t*(b+c)]=1,A[a+c+1+t*(b+2)]=1;for(c=0;2>c;c++)g(a-1,b+c),g(a+1,b-c),g(a-c,b-1),g(a+c,b+1)}function d(a){for(;255<=a;)a-=255,a=(a>>8)+(255&a);return a}function e(a,b,c,e){var f,g,h;for(g=
0;e>g;g++)z[c+g]=0;for(g=0;b>g;g++){if(f=Z[z[a+g]^z[c]],255!==f)for(h=1;e>h;h++)z[c+h-1]=z[c+h]^$[d(f+E[e-h])];else for(h=c;c+e>h;h++)z[h]=z[h+1];z[c+e-1]=255===f?0:$[d(f+E[0])]}}function h(a,b){var c;return a>b&&(c=a,a=b,b=c),c=b,c+=b*b,c>>=1,c+=a,1===ca[c]}function m(a){var b,c,d;switch(a){case 0:for(b=0;t>b;b++)for(a=0;t>a;a++)a+b&1||h(a,b)||(A[a+b*t]^=1);break;case 1:for(b=0;t>b;b++)for(a=0;t>a;a++)1&b||h(a,b)||(A[a+b*t]^=1);break;case 2:for(b=0;t>b;b++)for(a=c=0;t>a;a++,c++)3===c&&(c=0),c||h(a,
b)||(A[a+b*t]^=1);break;case 3:for(b=d=0;t>b;b++,d++)for(3===d&&(d=0),c=d,a=0;t>a;a++,c++)3===c&&(c=0),c||h(a,b)||(A[a+b*t]^=1);break;case 4:for(b=0;t>b;b++)for(c=0,d=b>>1&1,a=0;t>a;a++,c++)3===c&&(c=0,d=!d),d||h(a,b)||(A[a+b*t]^=1);break;case 5:for(b=d=0;t>b;b++,d++)for(3===d&&(d=0),a=c=0;t>a;a++,c++)3===c&&(c=0),(a&b&1)+!(!c|!d)||h(a,b)||(A[a+b*t]^=1);break;case 6:for(b=d=0;t>b;b++,d++)for(3===d&&(d=0),a=c=0;t>a;a++,c++)3===c&&(c=0),(a&b&1)+(c&&c===d)&1||h(a,b)||(A[a+b*t]^=1);break;case 7:for(b=
d=0;t>b;b++,d++)for(3===d&&(d=0),a=c=0;t>a;a++,c++)3===c&&(c=0),(c&&c===d)+(a+b&1)&1||h(a,b)||(A[a+b*t]^=1)}}function p(a){var b,c=0;for(b=0;a>=b;b++)5<=N[b]&&(c+=ha+N[b]-5);for(b=3;a-1>b;b+=2)N[b-2]===N[b+2]&&N[b+2]===N[b-1]&&N[b-1]===N[b+1]&&3*N[b-1]===N[b]&&(0===N[b-3]||b+3>a||3*N[b-3]>=4*N[b]||3*N[b+3]>=4*N[b])&&(c+=ea);return c}function q(){var a,b,c,d,e,f,g,h;for(h=c=d=e=0;t-1>h;h++)for(g=0;t-1>g;g++)(A[g+t*h]&&A[g+1+t*h]&&A[g+t*(h+1)]&&A[g+1+t*(h+1)]||!(A[g+t*h]||A[g+1+t*h]||A[g+t*(h+1)]||
A[g+1+t*(h+1)]))&&(c+=da);for(h=0;t>h;h++){for(f=a=g=N[0]=0;t>g;g++)(b=A[g+t*h])===a?N[f]++:N[++f]=1,a=b,d+=a?1:-1;c+=p(f)}0>d&&(d=-d);a=d;for(a=a+(a<<2)<<1;a>t*t;)a-=t*t,e++;c+=e*fa;for(g=0;t>g;g++){for(f=a=h=N[0]=0;t>h;h++)(b=A[g+t*h])===a?N[f]++:N[++f]=1,a=b;c+=p(f)}return c}var s,u,B,F,H,I,K,C,t,U=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],R="image/png",V="image/octet-stream",X=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,
17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,
40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,
13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,
24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],ia={L:1,M:2,Q:3,H:4},ga=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],$=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,
3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,
145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],Z=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,
194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,
109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],ha=3,da=3,ea=40,fa=10,ba=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],Y=438,N=[],T=[],aa=1,A=[],ca=[],W=!1,E=[],n=f.qr,z=[],S={VERSION:"1.1.2",
canvas:function(b){b=l(b);var c=1<=b.size&&10>=b.size?b.size:4,c=25*c,k=b.canvas||(W?new s:f.document.createElement("canvas")),p=k.getContext("2d");p.canvas.width=c;p.canvas.height=c;p.fillStyle=b.background||"#fff";p.fillRect(0,0,c,c);aa=ia[b.level&&b.level.toUpperCase()||"L"];var n,v=b.value||"",G,I,y,D,w,x;y=v.length;C=0;do if(C++,n=4*(aa-1)+16*(C-1),F=X[n++],H=X[n++],u=X[n++],B=X[n],n=u*(F+H)+H-3+(9>=C),n>=y)break;while(40>C);t=17+4*C;D=u+(u+B)*(F+H)+H;for(y=0;D>y;y++)T[y]=0;z=v.slice(0);for(y=
0;t*t>y;y++)A[y]=0;for(y=0;(t*(t+1)+1)/2>y;y++)ca[y]=0;for(y=0;3>y;y++){n=x=0;1===y&&(n=t-7);2===y&&(x=t-7);A[x+3+t*(n+3)]=1;for(w=0;6>w;w++)A[x+w+t*n]=1,A[x+t*(n+w+1)]=1,A[x+6+t*(n+w)]=1,A[x+w+1+t*(n+6)]=1;for(w=1;5>w;w++)g(x+w,n+1),g(x+1,n+w+1),g(x+5,n+w),g(x+w+1,n+5);for(w=2;4>w;w++)A[x+w+t*(n+2)]=1,A[x+2+t*(n+w+1)]=1,A[x+4+t*(n+w)]=1,A[x+w+1+t*(n+4)]=1}if(1<C)for(y=U[C],x=t-7;;){for(w=t-7;w>y-3&&(a(w,x),!(y>w));)w-=y;if(y+9>=x)break;x-=y;a(6,x);a(x,6)}A[8+t*(t-8)]=1;for(x=0;7>x;x++)g(7,x),g(t-
8,x),g(7,x+t-7);for(w=0;8>w;w++)g(w,7),g(w+t-8,7),g(w,t-8);for(w=0;9>w;w++)g(w,8);for(w=0;8>w;w++)g(w+t-8,8),g(8,w);for(x=0;7>x;x++)g(8,x+t-7);for(w=0;t-14>w;w++)1&w?(g(8+w,6),g(6,8+w)):(A[8+w+6*t]=1,A[6+t*(8+w)]=1);if(6<C)for(y=ba[C-7],n=17,w=0;6>w;w++)for(x=0;3>x;x++,n--)1&(11<n?C>>n-12:y>>n)?(A[5-w+t*(2-x+t-11)]=1,A[2-x+t-11+t*(5-w)]=1):(g(5-w,2-x+t-11),g(2-x+t-11,5-w));for(x=0;t>x;x++)for(w=0;x>=w;w++)A[w+t*x]&&g(w,x);D=z.length;for(v=0;D>v;v++)T[v]=z.charCodeAt(v);if(z=T.slice(0),w=u*(F+H)+H,
D>=w-2&&(D=w-2,9<C&&D--),v=D,9<C){z[v+2]=0;for(z[v+3]=0;v--;)y=z[v],z[v+3]|=255&y<<4,z[v+2]=y>>4;z[2]|=255&D<<4;z[1]=D>>4;z[0]=64|D>>12}else{z[v+1]=0;for(z[v+2]=0;v--;)y=z[v],z[v+2]|=255&y<<4,z[v+1]=y>>4;z[1]|=255&D<<4;z[0]=64|D>>4}for(v=D+3-(10>C);w>v;)z[v++]=236,z[v++]=17;E[0]=1;for(v=0;B>v;v++){E[v+1]=1;for(G=v;0<G;G--)E[G]=E[G]?E[G-1]^$[d(Z[E[G]]+v)]:E[G-1];E[0]=$[d(Z[E[0]]+v)]}for(v=0;B>=v;v++)E[v]=Z[E[v]];n=w;for(v=x=0;F>v;v++)e(x,u,n,B),x+=u,n+=B;for(v=0;H>v;v++)e(x,u+1,n,B),x+=u+1,n+=B;for(v=
x=0;u>v;v++){for(G=0;F>G;G++)T[x++]=z[v+G*u];for(G=0;H>G;G++)T[x++]=z[F*u+v+G*(u+1)]}for(G=0;H>G;G++)T[x++]=z[F*u+v+G*(u+1)];for(v=0;B>v;v++)for(G=0;F+H>G;G++)T[x++]=z[w+v+G*B];z=T;w=x=t-1;n=D=1;I=(u+B)*(F+H)+H;for(v=0;I>v;v++)for(y=z[v],G=0;8>G;G++,y<<=1){128&y&&(A[w+t*x]=1);do D?w--:(w++,n?0!==x?x--:(w-=2,n=!n,6===w&&(w--,x=9)):x!==t-1?x++:(w-=2,n=!n,6===w&&(w--,x-=8))),D=!D;while(h(w,x))}z=A.slice(0);y=0;x=3E4;for(n=0;8>n&&(m(n),w=q(),x>w&&(x=w,y=n),7!==y);n++)A=z.slice(0);y!==n&&m(y);x=ga[y+(aa-
1<<3)];for(n=0;8>n;n++,x>>=1)1&x&&(A[t-1-n+8*t]=1,6>n?A[8+t*n]=1:A[8+t*(n+1)]=1);for(n=0;7>n;n++,x>>=1)1&x&&(A[8+t*(t-7+n)]=1,n?A[6-n+8*t]=1:A[7+8*t]=1);n=A;p.lineWidth=1;y=c/t;y=Math.floor(y);p.clearRect(0,0,c,c);p.fillStyle=b.background||"#fff";p.fillRect(0,0,y*(t+8),y*(t+8));p.fillStyle=b.foreground||"#000";for(b=0;t>b;b++)for(c=0;t>c;c++)n[c*t+b]&&p.fillRect(y*b,y*c,y,y);return k},image:function(a){a=l(a);var b=this.canvas(a),c=a.image||(W?new K:f.document.createElement("img"));return c.src=b.toDataURL(a.mime||
R),c.height=b.height,c.width=b.width,c},save:function(a,c,d){function e(a){f||(f=!0,d(a))}switch(a=l(a),typeof c){case "function":d=c;c=null;break;case "string":a.path=c}if("function"!=typeof d)throw new TypeError("Invalid callback type: "+typeof d);var f=!1;c=this.canvas(a);W?b(c,a,e):k(c,a,e)},saveSync:function(a,b){a=l(a);"string"==typeof b&&(a.path=b);var c=this.canvas(a);if(W){var d=a;if("string"!=typeof d.path)throw new TypeError("Invalid path type: "+typeof d.path);c=c.toBuffer();d=I.openSync(d.path,
"w",Y);try{I.writeSync(d,c,0,c.length,0)}finally{I.closeSync(d)}}else k(c,a)},toDataURL:function(a){return a=l(a),this.canvas(a).toDataURL(a.mime||R)},noConflict:function(){return f.qr=n,this}};"undefined"!=typeof exports?(W=!0,"undefined"!=typeof module&&module.exports&&(exports=module.exports=S),exports.qr=S,s=require("canvas"),K=s.Image,I=require("fs")):"function"==typeof define&&define.amd?define(function(){return S}):(f.HTMLCanvasElement||c(S),f.qr=S)}(this);